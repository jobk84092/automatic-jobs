function checkFileType(e){return new Promise(((n,t)=>{var a=new XMLHttpRequest;a.responseType="blob",a.addEventListener("load",(function(e){if(0===e.target.status||e.target.status<400){const t=new FileReader;t.onloadend=()=>n(t.result),t.readAsDataURL(e.target.response)}})),a.addEventListener("error",(function(e){})),a.addEventListener("abort",(function(){})),a.open("GET",e,!0),a.send()}))}function bindEvent(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}var sendMessage=function(e){window.parent.postMessage(e,"*")};bindEvent(window,"message",(function(e){console.log(e);var n=e.data.msg,t=e.data.file;"getLoalFileB64"==n&&checkFileType(t).then((e=>{sendMessage({msg:"sendB64ToContent",file:e})}))}));