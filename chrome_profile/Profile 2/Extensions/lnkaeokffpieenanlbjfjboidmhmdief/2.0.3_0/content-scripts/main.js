import { K as Ke$1, R as Ro, a as at$1, I as Io, b as an$1, v as vn$1, x as xn$1, Y as Yt$1, u as un$1, N as No, g as gn$1, _ as _n$1, D as Do, V as Vn$1, r as rn$1, i as ie, c as xe$1, C as Ce$1, f as ft$1, e as et$1, o as ot$1, S as Se$2, l as lo, O as Oe$1, d as Co, L as Lo, U as Uo, h as bn$1, m as mt$1, T as Tn$1 } from '../style-inject.es-9c095ff5.js';
import { t, i, n as n$1, e as e$1 } from '../storage-e4d9282e.js';
import { o, l as l$1, s as s$1, h, a as a$1, T, g, d, w, c as c$1, R, m, p, u, y } from '../tools-bb3e9d9c.js';
import { a as a$2, e, s as s$2 } from '../backgroundService-a8f21be8.js';
import { c, n } from '../contentService-88d7aab1.js';
import { a, s, l, S as Se$1, w as we$1, r as re } from '../reactivity.esm-bundler-3cf16f7a.js';
import { x as xt$1, r as rt$1, o as ot$2, F as Ft$1, S as St$1, k as kt$1 } from '../ThirdPartyLogin-23e6ce2d.js';
import '../lib/gtag.js';

const he=(e,t,n,o,a)=>new Promise(((i,s)=>{const r=document.createElement("canvas"),l=new Image;l.onload=()=>{const e=window.devicePixelRatio||1;r.width=o*e,r.height=a*e;const c=o||l.width,d=r.getContext("2d");d?(d.drawImage(l,t*e,n*e,c*e,a*e,0,0,c*e,a*e),i(r.toDataURL("png"))):s();},l.src=e;})),ue=(e,t,n=!1)=>new Promise(((o,a)=>{const i=document.createElement("canvas"),s=new Image;s.onload=()=>{const e=window.devicePixelRatio||1;i.width=t.w*e,i.height=t.h*e;const a=i.getContext("2d");a?.drawImage(s,t.x*e,t.y*e,t.w*e,t.h*e,0,0,t.w*e,t.h*e),n&&((e,t=1)=>{e.toBlob((t=>{if(null==t)return;const n=window.ClipboardItem;if(null==n)return e.toDataURL("png");const o=new n({[t.type]:t});navigator.clipboard?.write([o]).then((()=>"写入成功"));}),"image/png",t);})(i);const r=i.toDataURL();o(r);},s.onerror=e=>a(e),s.src=e;}));let ge=null;const me=e=>Math.max.apply(Math,e.filter((e=>e))),ve=(e$1,t,n)=>{const o$1=()=>{chrome.runtime.sendMessage({request:"changeTab"}),S(),window.removeEventListener("visibilitychange",o$1);};window.addEventListener("visibilitychange",o$1);const a=document.body,i=a?a.style.overflowY:"",s=window.scrollX,r=window.scrollY,l=document.documentElement.style.overflow;a&&(a.style.overflowY="visible");let c=0;t||(c=window.location.href.includes("chat.openai.com")?0:112);let d$1=[document.documentElement.clientWidth,a?a.scrollWidth:0,document.documentElement.scrollWidth,a?a.offsetWidth:0,document.documentElement.offsetWidth],p$1=[document.documentElement.clientHeight,a?a.scrollHeight:0,document.documentElement.scrollHeight,a?a.offsetHeight:0,document.documentElement.offsetHeight];me(d$1);let h=me(p$1),u$1=window.innerWidth,g$1=window.innerHeight,m$1=[],v=g$1-(g$1>c?c:0),f=0;const b=new Set,x=new Set;let{stickyElements:w$1,fixedElements:_,absoluteElements:y,scrollHight:k,shadowElements:C,scrollElement:T,isChatLeft:M,fixedBottomElements:E}=s$1(h<=g$1);if(t&&(T=null,k=0),k>0&&h<k&&(t&&(t.height=k),h=k),window.location.href.includes("https://www.youtube.com/")&&(h-=g$1),E.forEach((e=>{const t=getComputedStyle(e).display;e.style.setProperty("display","none"),o.fixedBottomChangedList.push({elm:e,initStyle:t});})),window.location.href.includes("chat.openai"))for(const e of y)e.style.display="none";if(h<=g$1){const e=T?.getBoundingClientRect().top??0;h=T?T.scrollHeight+e:h,c+=e,v=g$1-(g$1>c?c:0);}if(h>g$1&&T){const e=o.scrollElementInfo;h=h+(e?.top?e?.top:0)+(e?.bottom?g$1-e?.bottom:0);}let L=h-g$1,H=0;if(t){let e=(t.height+c)/v,n=Math.ceil(e);L=t.y-c,h=n*g$1;let o=0;Array(n).fill(null).map((e=>{m$1.push({x:0,y:L,ax:0,ay:o}),L+=v,o+=v;}));}else {for(;L>-v;)L<0&&(H=g$1-Math.abs(L)),m$1.push({x:0,y:L}),L-=v;m$1=m$1.sort(((e,t)=>e.y-t.y));}o.stickyElements=w$1,o.fixedElements=_;const S=()=>{document.documentElement.style.overflow=l,a&&(a.style.overflowY=i),l$1(_,""),l$1(w$1,""),m(b,"1"),m(x,"1"),T?(T.scrollTo(s,r),T.style.overflowY="auto"):document.documentElement.scrollHeight<a.scrollHeight?a.scrollTo(s,r):window.scrollTo(s,r),p(),g(),u(),m$1=[],ge=null,n?.();},P=t=>{const n={id:e$1.data.id,name:e$1.data.name,extData:t};s$2(n,(()=>{}));},A=()=>new Promise(((e,n)=>{for(let o=m$1.length-1;o>=0;o--){let a,i=!1;const s=m$1[o];if(0==H||0!==o||t||M){let r=s.y<0?0:t?s.ay:s.y,l=t?s.ax:s.x,d=h;if(M)if(d=h,m$1.length-1!=o){let n=150;m$1.length>3&&(n=160),fe(0,60,s.extData,u$1,g$1-150,l,r-o*n,u$1,g$1-n).then((()=>{if(0!=H&&0===o&&!t){const t=ge?.toDataURL("png")||"";P(t),e("ok");}}));}else be(u$1,d,s.extData,l,r-150*o).then((()=>{if(0==o&&t){const n=ge?.toDataURL("png")||"";he(n,t.x,c,t.width,t.height).then((t=>{P(t),e("");}));}else if(1===m$1.length){const t=ge?.toDataURL("png")||"";P(t),e("ok");}})).catch((()=>n));else {let p=d;if(window.location.href.includes("chat.openai"),t&&document.documentElement.scrollHeight-t.height-t.y<g$1&&o==m$1.length-1&&t){let e=t.height+c,n=m$1[m$1.length-1].y;a=e+m$1[0].y,document.documentElement.scrollHeight,document.documentElement.scrollHeight-n<g$1&&(i=!0,r-=g$1-(document.documentElement.scrollHeight-m$1[0].y)%g$1);}be(u$1,p,s.extData,l,r,a,i).then((()=>{if(0!=H&&0===o&&!t&&M){const t=ge?.toDataURL("png")||"";P(t),e("ok");}if(0==o&&t){const n=ge?.toDataURL("png")||"";he(n,t.x,c,t.width,t.height).then((n=>{let o={x:0,y:0,h:0,w:0};o.h=t.height,o.w=t.width,chrome.storage.local.set({rect:o}),P(n),e("ok");}));}else if(1===m$1.length){let t={x:0,y:0,h:0,w:0};t.h=h,t.w=u$1,chrome.storage.local.set({rect:t});const n=ge?.toDataURL("png")||"";P(n),e("ok");}})).catch((()=>n));}}else he(s.extData,0,0,u$1,H).then((t=>{xe(u$1,h,t,0,0,T,g$1).then((()=>{be(500,h,s.extData,0,0).then((t=>{let n={x:0,y:0,h:0,w:0};n.h=h,n.w=u$1,chrome.storage.local.set({rect:n});const o=ge?.toDataURL("png")||"";P(o),e("ok");})).catch(n);})).catch(n);}));}}));!function n(){if(o.stopCapture)return h=(f-1)*v,A().finally(S),!0;if(f>=m$1.length)return t&&(t.height=t.height),void A().finally(S);const o$1=m$1[f];if(f+=1,!t&&f>=m$1.length){if(g(),window.location.href.includes("chat.openai"))for(const e of y)e.style.display="block";if(!window.location.href.includes(".gemoo.com"))for(const e of w$1)e.style.display="block";}if(document.documentElement.scrollHeight+10<a.scrollHeight)a.scrollTo({left:o$1.x,top:o$1.y,behavior:"instant"});else {if(h<o$1.y&&!t)return A().finally(S),!0;T?(T.style.overflow="hidden",T.scrollTo({left:o$1.x,top:o$1.y,behavior:"instant"})):window.scrollTo({left:o$1.x,top:o$1.y,behavior:"instant"});}d(),setTimeout((()=>{if(2===f){let{stickyElements:e,fixedElements:t}=s$1(h<=g$1);e.forEach((e=>{x.has(e)||(w(e),x.add(e));})),t.forEach((e=>{b.has(e)||(w(e),b.add(e));}));}setTimeout((()=>{const t={complete:f/m$1.length},a=window.setTimeout(S,2e6);e({...e$1.data,extData:t},(e=>{const t=e;window.clearTimeout(a),o$1.extData=t.data.extData,n();}));}),500);}),1e3);}();},fe=(e,t,n,o,a,i,s,r,l)=>new Promise((t=>{let o=new Image;o.onload=()=>{const n=ge?.getContext("2d");n&&ge&&n.drawImage(o,e,0,o.width,o.height-200,i,s,r,l),t(n);},o.src=n;})),be=(e,t,n,o,a,i=void 0,s=!1)=>new Promise((r=>{let l=new Image;l.onload=()=>{let n=t,c=o,d=a;if(e!==l.width){var p=l.width/e;c=o*p,d=a*p,n*=p;}ge||(ge=document.createElement("canvas"),ge.height=n,ge.width=l.width);const h=ge?.getContext("2d");if(h&&ge)if(i&&!s){const e=l.height-(t-i);h.drawImage(l,0,0,l.width,e,c,d,l.width,e);}else h.drawImage(l,c,d,l.width,l.height);r(h);},l.src=n;})),xe=(e,t,n,o,a,i,s)=>new Promise((r=>{let l=new Image;l.onload=()=>{let n=t,c=o,d=a;if(e!==l.width){var p=l.width/e;c=o*p,d=a*p,n*=p;}ge||(ge=document.createElement("canvas"),ge.height=n,ge.width=l.width);const h=ge?.getContext("2d");h&&ge&&(i&&(window.location.href.includes("chat.openai.com")?h?.clearRect(0,s,520,n):window.location.href.includes("www.youtube.com")&&!window.location.href.includes("watch")||window.location.href.includes("watch")||h?.clearRect(0,s-200,i?.getBoundingClientRect().left-2,t-s+200)),window.location.href.includes("https://www.youtube.com/")&&!window.location.href.includes("watch")&&h?.clearRect(0,s,220,n),h.drawImage(l,c,d,l.width,l.height)),r(h);},l.src=n;}));var we=Ke$1({__name:"CaptureToolbar",props:{hidden:{type:Boolean,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0}},emits:["clickPanel"],setup(e,{emit:s$1}){const r=e,l=Vn$1((()=>r.hidden?{display:"none"}:{display:"block",left:r.left+"px",top:r.top+"px"})),c=(e,t)=>{const n=e,o=chrome.runtime.getURL(`assets/popup/${t}.png`);n.style.backgroundImage=`url(${o})`;},d=e=>{s$1("clickPanel","confirm");},p=e=>{chrome.storage.local.set({disableHomePage:!1}),s$1("clickPanel","close");},h=e=>{s$1("clickPanel","reelection");};return (e,t)=>(rn$1(),an$1("div",{id:"crx-capture-toolPanel",class:"capture-toolbar",style:s(Se$1(l))},[xn$1(' <div\n      @click="edit"\n      class="toolbar-item-panel"\n      :ref="(e) => refHandler(e, \'brush\')"\n    /> '),vn$1("div",{onClick:h,class:"toolbar-item-panel",id:"crx-capture-toolPanel-item",ref:e=>c(e,"reelection")},null,512),vn$1("div",{onClick:p,id:"crx-capture-toolPanel-item",class:"toolbar-item-panel",ref:e=>c(e,"button-Cancel")},null,512),vn$1("div",{onClick:d,id:"crx-capture-toolPanel-item",class:"toolbar-item-panel",ref:e=>c(e,"button-confirm-id01")},null,512)],4))}});function _e(e,t,n){window.dataLayer.push(arguments);}Ro("\n.capture-toolbar[data-v-9f18c5f6] {\n\tmin-width: 70px;\n\t/* min-width: 145px; */\n\theight: 24px;\n\tbackground: #fff;\n\tz-index: 999999;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding-top: 10px;\n\tpadding-bottom: 20px;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\n\tbox-sizing: content-box;\n\tborder-radius: 4px;\n\t/* border: 2px solid #333; */\n\tbox-shadow: 0 0 10px 0 #d7d7d7;\n}\n.toolbar-item-panel[data-v-9f18c5f6] {\n\twidth: 34px;\n\theight: 34px;\n\tmargin-right: 3px;\n\tfloat: left;\n\tbackground-size: cover;\n\tcursor: pointer;\n}\n.toolbar-item-panel[data-v-9f18c5f6]:last-child {\n\tmargin-right: 0;\n}\n.toolbar-item-panel[data-v-9f18c5f6]:hover {\n\tbackground-color: #f5f5f5;\n\tborder-radius: 4px;\n}\n.toolbar-item-panel_first[data-v-9f18c5f6]:hover {\n\tbackground-color: #f5f5f5;\n\tborder-radius: 4px;\n}\n"),we.__scopeId="data-v-9f18c5f6",we.__file="src/components/CaptureToolbar.vue",window.dataLayer=window.dataLayer||[];const ye={0:"free",1:"basic",2:"pro"};async function ke(e,t$1,n){_e("js",new Date),_e("config","G-CMX6PC0BR9");let o=n.labelStr||"",a=location.href;const i=await t(["user_profile","snap_version"]),{user_profile:s,snap_version:r}=i,{version:l,uid:c}=s||{version:void 0,uid:void 0},d=n.result||null;d&&(0===d.code?o+="#result=successful":o=o+"#result=failed#errorCode="+d.code+"#error="+d.message);_e("event",t$1,{ps:"snap-extension",pp:a,tv:r,pv:"gs-chrome",el:o,uid:c,plan:c?ye[l]:"unknown",ld:"",ref:""});}var Ce=Ke$1({components:{CaptureToolbar:we,EditToolbar:xt$1},props:["overlayCls","scrollCapture"],data:()=>({captureStatus:"idle",startX:0,startY:0,borderWidth:"",borderDownWidth:"",crossHairsLeft:0,crossHairsTop:0,boxTop:0,boxLeft:0,boxEndWidth:0,boxEndHeight:0,toolTipLeft:0,toolTipTop:0,toolTipWidth:0,toolTipHeight:0,windowHeight:0,windowWidth:0,crosshairs:null,overlay:null,tooltip:null,tooltipTop:0,scrolling:!1,originalOverflowStyle:"",bstartY:0,bstartX:0,isBoxMove:!1,contentHeight:0,currentMoveId:"",pstartY:0,pstartX:0,isPointBoxMove:!1,clientX:0,clientY:0,showMask:!0,hiddlePoint:!0,scrollElement:null,showToRight:!0,panelTop:0,panelLeft:0,panelW:0,panelH:0,path:"",editSchame:!1,toolEl:null,hideBorder:!1,openPath:"",screenLeft:!1,oldSign:0}),beforeCreate(){},mounted(){window.addEventListener("message",(e=>{"closeSelectDomSelected"===e.data.type&&(this.editSchame=!0);})),t("openWindowPath").then((e=>{this.openPath=e,this.path=e;}));let e=this;document.addEventListener("mouseup",(function(){0==e.boxEndWidth&&0==e.boxEndHeight||(e.isPointBoxMove=!1,e.captureStatus="end","local"!=e.openPath&&(e.boxEndHeight>window.innerHeight?e.path="local":e.path=""),e.toolTipLeft=e.boxLeft,e.toolTipTop=e.boxTop-e.toolTipHeight-10,e.$nextTick((()=>{const t=e.toolEl.getBoundingClientRect();e.toolbarMounted(t);})));}));const t$1=document.body;this.scrollCapture?this.contentHeight=c$1():(o.htmlStyle=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden");const n=document,o$1=n.querySelector(".crx-capture-tooltip");o$1&&(this.tooltipTop=Number(window.getComputedStyle(o$1).margin.split("px")[0])),this.crosshairs=n.querySelector(".crx-capture-crosshairs"),this.overlay=n.querySelector(".crx-capture-overlay"),this.tooltip=o$1,this.toolTipWidth=this.tooltip?.getBoundingClientRect().width??0;const a=this;this.windowWidth=window.innerWidth||document.documentElement.clientWidth||t$1.clientWidth,window.innerWidth>document.documentElement.clientWidth&&(this.windowWidth=this.windowWidth-this.getScrollbarWidth()),this.windowHeight=window.innerHeight||document.documentElement.clientHeight||t$1.clientHeight,window.onresize=function(){a.windowWidth=window.innerWidth||document.documentElement.clientWidth||t$1.clientWidth,a.windowHeight=window.innerHeight||document.documentElement.clientHeight||t$1.clientHeight;};},methods:{shadowDomInitCaptureSelect(){const e=document.querySelector("#crx-capture");e&&ie((()=>{const t=e.attachShadow({mode:"open"});this.styleLink(t,"captureSelect");const n=document.createDocumentFragment();n.appendChild(e.children[0]),t?.appendChild(n);}));},styleLink(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(`assets/css/${t}.css`),e.appendChild(n);},toolbarMounted(e){const{top:t,left:n,height:o,width:a,el:i}=e;this.panelTop=t,this.panelLeft=n,this.panelW=a,this.panelH=o,i&&(this.toolEl=i);},updateCropBorder(){const e=this.boxTop,t=this.boxLeft;let n=(this.scrollCapture?this.contentHeight:this.windowHeight)-this.boxEndHeight-this.boxTop,o=this.windowWidth-this.boxEndWidth-this.boxLeft;o<0&&(o=0),n<0&&(n=0),this.borderWidth=`${e}px ${o}px ${n}px ${t}px `;},getScrollbarWidth(){var e=document.createElement("div");e.className="dropDiv",e.style.cssText=" 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},boxMove(e){if(!this.isBoxMove)return;let t=this.boxLeft,n=this.boxTop;e.clientX<this.bstartX?t-=this.bstartX-e.clientX:t+=e.clientX-this.bstartX,t<0?t=0:t+this.boxEndWidth>this.windowWidth&&(t=this.windowWidth-this.boxEndWidth),this.boxLeft=t,e.clientY<this.bstartY?n-=this.bstartY-e.clientY:n+=e.clientY-this.bstartY;const o=this.scrollCapture?this.contentHeight:this.windowHeight;n<0?n=0:n+this.boxEndHeight>o&&(n=o-this.boxEndHeight),this.boxTop=n,this.toolTipLeft=this.boxLeft,this.updateCropBorder(),this.toolTipTop=this.boxTop-this.toolTipHeight-10,this.bstartX=e.clientX,this.bstartY=e.clientY;},boxMouseDown(e){this.hideBorder||(this.isBoxMove=!0,this.bstartX=e.clientX,this.bstartY=e.clientY);},boxMouseUp(){this.isBoxMove=!1;},boxMouseLeave(){},toolbarLeft(){let e=this.boxLeft+(this.boxEndWidth-90)/2;return e<=0&&(e=6),e+91>this.windowWidth&&(e=this.windowWidth-91),e},toolbarTop(){this.boxEndHeight,this.startY,this.boxTop,this.boxEndHeight;const e=this.scrollCapture?this.contentHeight:this.windowHeight;let t=0;return this.boxEndHeight<54?(t=this.boxTop-54-10,this.startY<54&&(t=this.boxTop+this.boxEndHeight+10)):(t=this.boxTop+this.boxEndHeight-54-6,e-this.startY-this.boxEndHeight<54&&this.startY<54||(this.startY,this.boxEndHeight)),t},scroll(e){if("end"===this.captureStatus)return;this.scrolling=!0;const t=window.scrollY,n=e?t+6:t-6;if(e){if(this.clientY+t+80>=this.contentHeight||this.clientY+80<this.windowHeight)return void(this.scrolling=!1)}else if(t<=0||this.clientY>80)return void(this.scrolling=!1);requestAnimationFrame((()=>{window.scrollTo(window.scrollX,n),this.scroll(e);})),this.updateFrame(this.clientX+window.scrollX,this.clientY+window.scrollY);},updateFrame(e,t){const n=this.tooltip.getBoundingClientRect();this.toolTipWidth=n.width,this.toolTipHeight=n.height;const o=t,a=e,i=this.startX,s=this.startY,r=this.windowWidth,l=this.scrollCapture?this.contentHeight:this.windowHeight;a>=i&&o>=s?(this.boxTop=s,this.boxLeft=i,this.boxEndWidth=a-i,this.boxEndHeight=o-s,this.toolTipLeft=a,this.toolTipTop=o,a+this.toolTipWidth>=r&&(this.toolTipLeft=r-this.toolTipWidth-2*this.tooltipTop),o+this.toolTipHeight+2*this.tooltipTop>=l&&(this.toolTipTop=l-this.toolTipHeight-2*this.tooltipTop)):a<=i&&o>=s?(this.boxLeft=a,this.boxTop=s,this.boxEndWidth=i-a,this.boxEndHeight=o-s,this.toolTipLeft=a-this.toolTipWidth,this.toolTipTop=o,a-this.toolTipWidth<=0&&(this.toolTipLeft=this.tooltipTop),o+this.toolTipHeight+2*this.tooltipTop>=l&&(this.toolTipTop=l-this.toolTipHeight-2*this.tooltipTop)):a>=i&&o<=s?(this.boxLeft=i,this.boxTop=o,this.boxEndWidth=a-i,this.boxEndHeight=s-o,this.toolTipLeft=a,this.toolTipTop=o-this.toolTipHeight,a+this.toolTipWidth>=r&&(this.toolTipLeft=r-this.toolTipWidth-2*this.tooltipTop),o-this.toolTipHeight<=0&&(this.toolTipTop=this.tooltipTop)):a<=i&&o<=s&&(this.boxLeft=a,this.boxTop=o,this.boxEndWidth=i-a,this.boxEndHeight=s-o,this.toolTipLeft=a-this.toolTipWidth,this.toolTipTop=o-this.toolTipHeight,a-this.toolTipWidth<=0&&(this.toolTipLeft=this.tooltipTop),o-this.toolTipHeight<=0&&(this.toolTipTop=this.tooltipTop)),this.updateCropBorder();},move(e){const{clientX:t,clientY:n}=e,{pageY:o}=e;if(o-this.startY>=window.innerHeight+200){const e=Math.ceil((o-this.startY)/window.innerHeight);if(e!==this.oldSign||n>window.innerHeight/2){this.oldSign=e;const t=c$1([this.contentHeight]);this.contentHeight!==t&&(this.contentHeight=t,this.updateCropBorder(),this.$emit("heightChange",this.contentHeight));}}if(this.isPointBoxMove){const e=n+(this.scrollCapture?window.scrollY:0),o=t+(this.scrollCapture?window.scrollX:0);return void this.resizeCropBox(o,e)}const a=n+(this.scrollCapture?window.scrollY:0),i=t+(this.scrollCapture?window.scrollX:0);if("idle"===this.captureStatus&&(this.crossHairsTop=a,this.crossHairsLeft=i),"start"===this.captureStatus||"move"===this.captureStatus){if(this.captureStatus="move",this.scrollCapture){this.clientX=t,this.clientY=n;const e=80,o=n+window.scrollY,a=n+e;window.scrollY>0&&n<e&&!this.scrolling?this.scroll(!1):a>=window.innerHeight&&o<this.contentHeight&&!this.scrolling&&this.scroll(!0);}this.updateFrame(i,a);}},mouseDown(e){if(this.borderDownWidth=this.borderWidth,"end"===this.captureStatus){const t=e.target;this.currentMoveId=t.id,Object.values(i).includes(t.id)&&(this.isPointBoxMove=!0),this.pstartY=e.clientY,this.pstartX=e.clientX;}"idle"===this.captureStatus&&(this.captureStatus="start",this.borderWidth=this.windowWidth+"px "+this.windowHeight+"px",this.startX=e.clientX+(this.scrollCapture?window.scrollX:0),this.startY=e.clientY+(this.scrollCapture?window.scrollY:0),this.toolTipWidth=this.tooltip?.getBoundingClientRect().width??0,this.borderWidth=this.borderDownWidth);},mouseUp(){},mouseLeave(){},resizeCropBox(e,t){this.currentMoveId!==i.lineRight&&this.currentMoveId!==i.pointRightCenter||(this.boxEndWidth=e-this.boxLeft),this.currentMoveId!==i.lineLeft&&this.currentMoveId!==i.pointLeftCenter||(e<this.boxLeft?(this.boxEndWidth+=this.boxLeft-e,this.boxLeft-=this.boxLeft-e):this.boxEndWidth>20&&(e>this.boxLeft+this.boxEndWidth&&(e=this.boxLeft+this.boxEndWidth-20),this.boxEndWidth-=e-this.boxLeft,this.boxLeft+=e-this.boxLeft)),this.currentMoveId!==i.lineBottom&&this.currentMoveId!==i.pointBottomCenter||(this.boxEndHeight=t-this.boxTop),this.currentMoveId!==i.lineTop&&this.currentMoveId!==i.pointTopCenter||(t<this.boxTop?(this.boxEndHeight+=this.boxTop-t,this.boxTop=t):this.boxEndHeight>20&&(this.boxEndHeight-=t-this.boxTop,this.boxTop=t)),this.currentMoveId===i.pointBottomRight&&(this.boxEndHeight=t-this.boxTop,this.boxEndWidth=e-this.boxLeft),this.currentMoveId===i.pointTopRight&&(t<this.boxTop?(this.boxEndHeight+=this.boxTop-t,this.boxTop=t):this.boxEndHeight>20&&(this.boxEndHeight-=t-this.boxTop,this.boxTop=t),this.boxEndWidth=e-this.boxLeft),this.currentMoveId===i.pointTopLeft&&(e<this.boxLeft?(this.boxEndWidth+=this.boxLeft-e,this.boxLeft=e):this.boxEndWidth>20&&(this.boxEndWidth-=e-this.boxLeft,this.boxLeft=e),t<this.boxTop?(this.boxEndHeight+=this.boxTop-t,this.boxTop=t):this.boxEndHeight>20&&(this.boxEndHeight-=t-this.boxTop,this.boxTop=t)),this.currentMoveId===i.pointBottomLeft&&(e<this.boxLeft?(this.boxEndWidth+=this.boxLeft-e,this.boxLeft=e):this.boxEndWidth>20&&(this.boxEndWidth-=e-this.boxLeft,this.boxLeft=e),this.boxEndHeight=t-this.boxTop),this.pstartY=t,this.pstartX=e,this.boxEndWidth<20&&(this.boxEndWidth=20),this.boxEndHeight<20&&(this.boxEndHeight=20),this.boxLeft<0&&(this.boxLeft=0),this.windowWidth,this.boxEndWidth,this.boxLeft,this.updateCropBorder();},updateCropBorder1(){const e=this.boxTop,t=this.boxLeft,n=(this.scrollCapture?this.contentHeight:this.windowHeight)-this.boxEndHeight-this.boxTop,o=this.windowWidth-this.boxEndWidth-this.boxLeft;this.borderWidth=`${e}px ${o}px ${n}px ${t}px `;},clickEditButton(e){this.confirm("toedit",e.type),this.hideBorder=!0,this.screenLeft&&(this.hiddlePoint=!1);},reselect(){this.addGa("reselect"),c(),a$2(e$1[3],(()=>{}));},cancel(){if(this.addGa("cancel"),this.showMask=!1,this.captureStatus="idle",window.location.href.includes("chat.openai")){for(let e=0;e<o.overflowHiddle.length;e++)o.overflowHiddle[e].style.overflow="hidden";for(const e of o.absoluteElements)e.style.display="block";}chrome.storage.local.set({disableHomePage:!1}),chrome.storage.local.set({isRegionScreen:!1}),c();},copy(){this.addGa("copy"),this.hiddlePoint=!1,chrome.storage.local.set({isScrollCopy:!0}),this.confirm("copy"),chrome.storage.local.set({disableHomePage:!1});},tolocal(){this.addGa("edit"),this.confirm("local"),chrome.storage.local.set({disableHomePage:!1});},confirm(e,t=""){const n={x:this.boxLeft,y:this.boxTop,w:this.boxEndWidth,h:this.boxEndHeight},o$1=this;if(l$1(o.fixedElements,""),this.scrollCapture&&n.h>window.innerHeight)chrome.storage.local.set({isHaveScroll:!0,rect:n}),this.hiddlePoint=!1,ve({type:"scroll_capture",data:{id:"capture_scroll_part",name:""}},{...n,width:n.w,height:n.h},(()=>{if(this.showMask=!1,this.hiddlePoint=!1,window.location.href.includes("chat.openai")){for(let e=0;e<o.overflowHiddle.length;e++)o.overflowHiddle[e].style.overflow="hidden";for(const e of o.absoluteElements)e.style.display="block";}c();})),this.updateCropBorder1();else {let a=document.querySelector(".crx-capture-borderedBox"),i=a?.getBoundingClientRect().top;i<0&&window.scrollTo(0,document.documentElement.scrollTop- -i);let s={x:0,y:0,h:0,w:0};s.x=n.x,s.y=n.y-window.scrollY,s.h=n.h,s.w=n.w,chrome.storage.local.set({isHaveScroll:!1,rect:s}),setTimeout((()=>{a$2({id:"capture_visible_part",name:"capture_visible",extData:{id:"capture_select_area",name:""}},(a=>{ue(a.data.extData,{...n,y:n.y-window.scrollY},"copy"===e).then((a=>{"copy"!==e?("local"==e?chrome.runtime.sendMessage({openLocalPage:!0,coverData:a,rect:n}):"toedit"===e?(this.addGa("edit"),chrome.runtime.sendMessage({type:"base64",url:a}),chrome.storage.local.set({autoTrigger:t})):(this.addGa("finish"),chrome.storage.local.set({disableHomePage:!0}),chrome.runtime.sendMessage({imgThumbnail:!0,coverData:a,rect:n})),o$1.store.type):chrome.storage.local.set({isScrollCopy:!1});}));})),chrome.storage.local.set({disableHomePage:!1});}),50),setTimeout((()=>{if(window.location.href.includes("chat.openai")){for(let e=0;e<o.overflowHiddle.length;e++)o.overflowHiddle[e].style.overflow="hidden";for(const e of o.absoluteElements)e.style.display="block";}}),1e3),"toedit"!==e&&(this.showMask=!1,c());}},addGa(e){t(["screenType","user_profile","openWindowPath"]).then((t=>{if(t){let n=window;n.dataLayer=n.dataLayer||[];let o="";o="local"===t.openWindowPath?"local":"cloud",ke(0,"Image_Create",{labelStr:`feature=${this.loadScreenType(t.screenType)}#save=${o}#action=${e}`});}}));},loadScreenType:e=>"scrolling"===e?"full":"selected"===e?"select":"element"===e?"element":"visible"===e?"visible":"browser"===e?"desktop":void 0},computed:{customPosition(){this.showToRight=!1,this.screenLeft=!1;const e="local"!==this.path,t=this.boxEndWidth,n=this.boxEndHeight,o=this.boxLeft,a=this.boxTop-window.scrollY,i={};let s;s=e?this.panelW+5+150:this.panelW,this.boxEndWidth+this.boxLeft+s+15>document.body.clientWidth?(this.showToRight=!0,o>s?i.left=-this.panelW-15+"px":(i.left=document.body.clientWidth-o-this.panelW-10+"px",this.screenLeft=!0)):i.left=t+15+"px",a+n-this.panelH<0?i.top=10-a+"px":i.bottom=0;return {position:"absolute",...i}}},beforeDestroy(){},beforeUnmount(){}});const Te=e=>(xe$1("data-v-34141ee2"),e=e(),Ce$1(),e),Me=Te((()=>vn$1("span",{class:"cropper-line line-e",id:"cropper-line-e"},null,-1))),Ee=Te((()=>vn$1("span",{class:"cropper-line line-n",id:"cropper-line-n"},null,-1))),Le=Te((()=>vn$1("span",{class:"cropper-line line-w",id:"cropper-line-w"},null,-1))),He=Te((()=>vn$1("span",{class:"cropper-line line-s",id:"cropper-line-s"},null,-1))),Se={class:"cropper-point point-e",id:"cropper-point-e"},Pe={class:"cropper-point point-n",id:"cropper-point-n"},Ae={class:"cropper-point point-w",id:"cropper-point-w"},We={class:"cropper-point point-s",id:"cropper-point-s"},Be={class:"cropper-point point-ne",id:"cropper-point-ne"},ze={class:"cropper-point point-nw",id:"cropper-point-nw"},Ie={class:"cropper-point point-sw",id:"cropper-point-sw"},Re={class:"cropper-point point-se",id:"cropper-point-se"};Ro("\n.crx-capture-overlay[data-v-34141ee2],\n.crx-capture-crosshairs[data-v-34141ee2],\n.crx-capture-tooltip[data-v-34141ee2],\n.crx-capture-borderedBox[data-v-34141ee2] {\n\tuser-select: none;\n}\n.crx-capture-overlay[data-v-34141ee2] {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\theight: 100%;\n\twidth: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tbox-sizing: border-box;\n}\n.crx-capture-overlay.highlighting[data-v-34141ee2] {\n\tbackground: none;\n\tborder-color: rgba(0, 0, 0, 0.5);\n\tborder-style: solid;\n}\n.crx-capture-overlay.scroll[data-v-34141ee2] {\n\tposition: absolute;\n}\n.crx-capture-crosshairs[data-v-34141ee2] {\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\tz-index: 2147483645;\n\tcursor: crosshair;\n\tbox-sizing: border-box;\n}\n.crx-capture-crosshairs.hidden[data-v-34141ee2] {\n\tdisplay: none;\n}\n.crx-capture-crosshairs[data-v-34141ee2]::before,\n.crx-capture-crosshairs[data-v-34141ee2]::after {\n\tcontent: '';\n\theight: 100%;\n\twidth: 100%;\n\tposition: absolute;\n\tborder: none !important;\n\tborder-image: none !important;\n}\n.crx-capture-crosshairs[data-v-34141ee2]::before {\n\tleft: -100%;\n\ttop: -100%;\n\tborder-right: 1px solid rgba(255, 255, 255, 0.3) !important;\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;\n}\n.crx-capture-crosshairs[data-v-34141ee2]::after {\n\tleft: -1px;\n\ttop: -1px;\n\tborder-top: 1px solid rgba(255, 255, 255, 0.3) !important;\n\tborder-left: 1px solid rgba(255, 255, 255, 0.3) !important;\n}\n.crx-capture-container[data-v-34141ee2] {\n\tclear: both;\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n\tcursor: crosshair;\n}\n.crx-capture-borderedBox[data-v-34141ee2] {\n\tborder: 1px solid #fff;\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tcursor: move;\n\tborder: 2px dashed #ffad4c;\n}\n.cropper-move[data-v-34141ee2] {\n\tdisplay: block;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: transparent;\n}\n.cropper-line[data-v-34141ee2] {\n\tdisplay: block;\n\theight: 100%;\n\topacity: 0.1;\n\tposition: absolute;\n\twidth: 100%;\n\t/* background: url(\"data:image/gif;base64,R0lGODlhCAAIAJEAAKqqqv///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAACAAIAAACDZQFCadrzVRMB9FZ5SwAIfkECQoAAAAsAAAAAAgACAAAAg+ELqCYaudeW9ChyOyltQAAIfkECQoAAAAsAAAAAAgACAAAAg8EhGKXm+rQYtC0WGl9oAAAIfkECQoAAAAsAAAAAAgACAAAAg+EhWKQernaYmjCWLF7qAAAIfkECQoAAAAsAAAAAAgACAAAAg2EISmna81UTAfRWeUsACH5BAkKAAAALAAAAAAIAAgAAAIPFA6imGrnXlvQocjspbUAACH5BAkKAAAALAAAAAAIAAgAAAIPlIBgl5vq0GLQtFhpfaIAACH5BAUKAAAALAAAAAAIAAgAAAIPlIFgknq52mJowlixe6gAADs=\")\n    #fff; */\n}\n.cropper-line.line-e[data-v-34141ee2] {\n\tcursor: ew-resize;\n\tright: -3px;\n\ttop: 0;\n\twidth: 3px;\n}\n.cropper-line.line-n[data-v-34141ee2] {\n\tcursor: ns-resize;\n\theight: 5px;\n\tleft: 0;\n\ttop: -3px;\n}\n.cropper-line.line-w[data-v-34141ee2] {\n\tcursor: ew-resize;\n\tleft: -3px;\n\ttop: 0;\n\twidth: 3px;\n}\n.cropper-line.line-s[data-v-34141ee2] {\n\tbottom: -3px;\n\tcursor: ns-resize;\n\theight: 3px;\n\tleft: 0;\n}\n.cropper-point[data-v-34141ee2] {\n\tbackground-color: white;\n\tdisplay: block;\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 12px;\n\t/* opacity: 0.75; */\n\twidth: 12px;\n\tuser-select: none;\n\tborder-radius: 1604px;\n\tborder: 2px solid #ffad4c;\n\tbox-sizing: border-box;\n}\n.cropper-point.point-e[data-v-34141ee2] {\n\tcursor: ew-resize;\n\tmargin-top: -5px;\n\tright: -6px;\n\ttop: 50%;\n}\n.cropper-point.point-n[data-v-34141ee2] {\n\tcursor: ns-resize;\n\tleft: 50%;\n\tmargin-left: -6px;\n\ttop: -7px;\n}\n.cropper-point.point-w[data-v-34141ee2] {\n\tcursor: ew-resize;\n\tleft: -7px;\n\tmargin-top: -6px;\n\ttop: 50%;\n}\n.cropper-point.point-s[data-v-34141ee2] {\n\tbottom: -6px;\n\tcursor: s-resize;\n\tleft: 50%;\n\tmargin-left: -6px;\n}\n.cropper-point.point-ne[data-v-34141ee2] {\n\tcursor: nesw-resize;\n\tright: -6px;\n\ttop: -6px;\n}\n.cropper-point.point-nw[data-v-34141ee2] {\n\tcursor: nwse-resize;\n\tleft: -7px;\n\ttop: -7px;\n}\n.cropper-point.point-sw[data-v-34141ee2] {\n\tbottom: -6px;\n\tcursor: nesw-resize;\n\tleft: -6px;\n}\n.cropper-point.point-se[data-v-34141ee2] {\n\tbottom: -5px;\n\tcursor: nwse-resize;\n\topacity: 1;\n\tright: -6px;\n}\n.crx-capture-borderedBox.hidden[data-v-34141ee2] {\n\tdisplay: none;\n}\n.crx-capture-tooltip[data-v-34141ee2] {\n\tdisplay: inline-block;\n\tposition: absolute;\n\n\tbackground-color: #ffad4c;\n\tcolor: #fff;\n\n\tborder-radius: 4px;\n\n\tfont-size: 12px;\n\tfont-family: monospace;\n\n\tpadding: 6px;\n\tmargin: 6px;\n\twhite-space: nowrap;\n\tfont-family: poppins;\n}\n.crx-capture-tooltip.hidden[data-v-34141ee2] {\n\tdisplay: none;\n}\n"),Ce.render=function(e,t,s$1,r,g,m){const v=ft$1("EditToolbar");return at$1((rn$1(),an$1("div",{id:"crx-capture-screenshot",class:"crx-capture-container",onMousemove:t[7]||(t[7]=(...t)=>e.move&&e.move(...t)),onMousedown:t[8]||(t[8]=(...t)=>e.mouseDown&&e.mouseDown(...t)),onMouseup:t[9]||(t[9]=(...t)=>e.mouseUp&&e.mouseUp(...t)),onMouseleave:t[10]||(t[10]=(...t)=>e.mouseLeave&&e.mouseLeave(...t))},[vn$1("div",{class:a(["crx-capture-overlay",{highlighting:"move"===e.captureStatus||"end"===e.captureStatus,scroll:e.scrollCapture}]),style:s({borderWidth:e.borderWidth})},null,6),vn$1("div",{class:a(["crx-capture-crosshairs",{hidden:"move"===e.captureStatus||"end"===e.captureStatus}]),style:s({left:e.crossHairsLeft+"px",top:e.crossHairsTop+"px"})},null,6),e.editSchame?xn$1("v-if",!0):(rn$1(),an$1("div",{key:0,class:a(["crx-capture-borderedBox",{hidden:"end"!==e.captureStatus}]),style:s({left:e.boxLeft-2+"px",top:e.boxTop-2+"px",width:e.boxEndWidth+4+"px",height:e.boxEndHeight+4+"px"})},[vn$1("span",{class:"cropper-move",onMousemove:t[0]||(t[0]=(...t)=>e.boxMove&&e.boxMove(...t)),onMousedown:t[1]||(t[1]=(...t)=>e.boxMouseDown&&e.boxMouseDown(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.boxMouseUp&&e.boxMouseUp(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.boxMouseLeave&&e.boxMouseLeave(...t))},null,32),e.hideBorder?xn$1("v-if",!0):(rn$1(),an$1(Yt$1,{key:0},[Me,Ee,Le,He,at$1(vn$1("span",Se,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",Pe,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",Ae,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",We,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",Be,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",ze,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",Ie,null,512),[[Io,e.hiddlePoint]]),at$1(vn$1("span",Re,null,512),[[Io,e.hiddlePoint]])],64)),e.hiddlePoint?(rn$1(),un$1(v,{key:1,onMouseup:t[4]||(t[4]=No((()=>{}),["stop"])),customPosition:e.customPosition,showToRight:e.showToRight,path:e.path,onCircle:e.clickEditButton,onRectangle:e.clickEditButton,onArrow:e.clickEditButton,onText:e.clickEditButton,onMosaic:e.clickEditButton,onBlur:e.clickEditButton,onTriangle:e.clickEditButton,onLine:e.clickEditButton,onBack:t[5]||(t[5]=()=>{}),onReselect:e.reselect,onCancel:e.cancel,onCopy:t[6]||(t[6]=t=>e.copy()),onConfirm:e.confirm,onClear:e.clickEditButton,onToolbarMounted:e.toolbarMounted,onTolocal:e.tolocal},null,8,["customPosition","showToRight","path","onCircle","onRectangle","onArrow","onText","onMosaic","onBlur","onTriangle","onLine","onReselect","onCancel","onConfirm","onClear","onToolbarMounted","onTolocal"])):xn$1("v-if",!0)],6)),vn$1("span",{class:a(["crx-capture-tooltip",{hidden:"idle"===e.captureStatus||"start"===e.captureStatus||e.isBoxMove||e.isPointBoxMove}]),style:s({left:e.toolTipLeft-2+"px",top:e.toolTipTop-2+"px"})},l(e.boxEndWidth+4)+" x "+l(e.boxEndHeight+4)+"px",7),xn$1(' <capture-toolbar\n\t\t\t:hidden="captureStatus !== \'end\' || isBoxMove || isPointBoxMove"\n\t\t\t:left="boxLeft + (boxEndWidth - 127) / 2"\n\t\t\t:top="toolbarTop()"\n\t\t\t@click-panel="clickToolbarPanel"\n\t\t\tv-show="hiddlePoint"\n\t\t/> ')],544)),[[Io,e.showMask]])},Ce.__scopeId="data-v-34141ee2",Ce.__file="src/components/CaptureSelect.vue";var De=Ke$1({data:()=>({showSelect:!0,maxHeight:0}),computed:{containerHeight(){return c$1([this.maxHeight])}},mounted(){this.shadowDomInitCaptureSelect();},methods:{shadowDomInitCaptureSelect(){const e=document.querySelector("#crx-capture");e&&ie((()=>{const t=e.attachShadow({mode:"open"});this.styleLink(t,"captureSelect");const n=document.createDocumentFragment();n.appendChild(e.children[0]),t?.appendChild(n);})),this.showSelect=!0;},styleLink(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(`assets/css/${t}.css`),e.appendChild(n);},getNewHeight(e){this.maxHeight=e;}},components:{CaptureSelect:Ce}});Ro("\n.crx-capture_screen_app_select[data-v-95ae476c] {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tbottom: 0;\n\tleft: 0;\n\tbackground-color: transparent;\n\tfont-size: 12px;\n\tz-index: 999999;\n\toverflow: hidden;\n\tclear: both;\n}\n"),De.render=function(e,t,o,a,s$1,r){const l=ft$1("capture-select");return rn$1(),an$1("div",{class:"crx-capture_screen_app_select",style:s({height:e.containerHeight+"px"})},[gn$1(l,{scrollCapture:!0,onHeightChange:e.getNewHeight},null,8,["onHeightChange"])],4)},De.__scopeId="data-v-95ae476c",De.__file="src/content-scripts/ScrollScreenshotApp.vue";var Ye=Ke$1({setup(){},data:()=>({editSchema:!1,left:"",top:"",width:0,height:0}),mounted(){this.shadowDomInitCaptureSelect();},methods:{shadowDomInitCaptureSelect(){const e=document.querySelector("#crx-capture");e&&ie((()=>{const t=e.attachShadow({mode:"open"});this.styleLink(t,"captureSelect");const n=document.createDocumentFragment();n.appendChild(e.children[0]),t?.appendChild(n);}));},styleLink(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(`assets/css/${t}.css`),e.appendChild(n);}},created(){},components:{CaptureSelect:Ce}});const Ue={class:"crx-capture_screen_app"};Ro("\n.crx-capture_screen_app[data-v-53ddd1fb] {\n\tposition: fixed;\n\ttop: 0px;\n\tright: 0px;\n\tbottom: 0;\n\tleft: 0;\n\tbackground-color: transparent;\n\tfont-size: 12px;\n\tz-index: 999999;\n\toverflow: hidden;\n\tclear: both;\n}\n"),Ye.render=function(e,t,a,s,r,l){const c=ft$1("capture-select");return rn$1(),an$1("div",Ue,[xn$1(" <take-screenshot /> "),gn$1(c)])},Ye.__scopeId="data-v-53ddd1fb",Ye.__file="src/content-scripts/SelectScreenshotApp.vue";var Ge=Ke$1({__name:"CaptureElement",setup(e){const s=we$1(),l=we$1(!1),c$1=re({top:0,left:0}),h=we$1(0),u=we$1(0),g=we$1(0),m=we$1(0),v=we$1(null),x=we$1(!1),w=we$1({}),_=we$1("");let y=null,k=we$1(!1);et$1((()=>{window.removeEventListener("message",C),window.addEventListener("message",C),t("openWindowPath").then((e=>{_.value=e;})),document.addEventListener("mousemove",E);}));const C=e=>{"closeSelectDomElement"===e.data.type&&(window.removeEventListener("message",C),W(),c());};ot$1((()=>{T();}));const T=()=>{document.removeEventListener("mousemove",E,!1);},M=e=>{A("toedit",e.type),k.value&&(l.value=!1);},E=e=>{const t=e.target;if(t&&y!==t){y?.removeEventListener("click",L),y=t;const e=t.getBoundingClientRect();if(0===e.width||0===e.height)return;s.value&&(s.value.style.width=e.width+4+"px",s.value.style.height=e.height+4+"px",s.value.style.top=e.top+window.scrollY-2+"px",s.value.style.left=e.left+window.scrollX-2+"px",c$1.top=e.top+window.scrollY-2+e.height-54,c$1.left=e.left+window.scrollX-2+(e.width+4-127)/2,e.height<54&&(c$1.top=e.top+window.scrollY+e.height+6,window.innerHeight-e.y<54&&(c$1.top=e.top-10+window.scrollY-54)),c$1.left<=0&&(c$1.left=6),c$1.left+91>window.innerWidth&&(c$1.left=window.innerWidth-91-4)),y.addEventListener("click",L);}},L=e=>{if(document.getElementById("crx-capture-element").style.backgroundColor="transparent",ie((()=>{if(v.value){const e=v.value.getBoundingClientRect();I(e);}})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,l.value=!0,e.target){document.querySelector(".crx-capture-element").style.pointerEvents="auto",y=e.target;const t=y.getBoundingClientRect();if(w.value=t,t.height>window.innerHeight&&(_.value="local"),t.top+t.height>window.innerHeight){const e=t.top+t.height+window.scrollY-window.innerHeight+80;window.scrollTo({left:window.scrollX,top:e,behavior:"instant"});}T();}y?.removeEventListener("click",L);},H=()=>{D("reselect"),y=null;document.querySelector(".crx-capture-element").style.pointerEvents="none",l.value=!1,document.addEventListener("mousemove",E);},P=()=>{D("cancel"),c(),window.removeEventListener("message",C),chrome.storage.local.set({disableHomePage:!1}),chrome.storage.local.set({isRegionScreen:!1});},A=(e,t="")=>{const n=o.data,o$1=s.value?.getBoundingClientRect();o$1&&(o$1.x+=2,o$1.y+=2,o$1.width-=4,o$1.height-=4);const a=n=>{const a=n;a.data&&a.data.extData&&ue(a.data.extData,{x:o$1?.x??0,y:o$1?.y??0,w:o$1?.width??0,h:o$1?.height??0},"copy"===e).then((n=>{if("copy"!==e)if("local"==e){let e={x:0,y:0,h:0,w:0};e.x=o$1?.x??0,e.y=o$1?.y??0,e.h=o$1?.height??0,e.w=o$1?.width??0,chrome.runtime.sendMessage({openLocalPage:!0,coverData:n,rect:e});}else "toedit"===e?(D("edit"),chrome.runtime.sendMessage({type:"base64",url:n}),chrome.storage.local.set({autoTrigger:t})):(D("finish"),chrome.storage.local.set({disableHomePage:!0}),chrome.runtime.sendMessage({imgThumbnail:!0,coverData:n,rect:o$1}));else chrome.storage.local.set({isScrollCopy:!1});})).finally((()=>{"toedit"!==e&&c();}));};"toedit"!==e&&W(),setTimeout((()=>{if(chrome.storage.local.set({disableHomePage:!1}),o$1&&o$1.height<=window.innerHeight){let e={x:0,y:0,h:0,w:0};e.x=o$1.x,e.y=o$1.top,e.h=o$1.height,e.w=o$1.width,chrome.storage.local.set({isHaveScroll:!1,rect:e}),a$2({id:"capture_visible_part",name:"capture_visible",extData:n},a);}else if(o$1&&s.value){const e=s.value.style.top.replace("px",""),t=s.value.style.left.replace("px","");let n={x:0,y:0,h:0,w:0};n.h=o$1.height,n.w=o$1.width,chrome.storage.local.set({isHaveScroll:!0,rect:n}),ve({type:"scroll_capture",data:{id:"capture_snippet",name:""}},{x:Number(t),y:Number(e),width:o$1.width,height:o$1.height},c);}}),100);},W=()=>{l.value=!1,s.value.style.display="none";const e=document.querySelector(".crx-capture-element");e&&(e.style.display="none",e.style.opacity="0"),window.removeEventListener("message",C);},B=()=>{A("edit"),chrome.storage.local.set({disableHomePage:!1});},I=e=>{const{top:t,left:n,height:o,width:a,el:i}=e;h.value=t,u.value=n,g.value=a,m.value=o,i&&(v.value=i);},R=Vn$1((()=>{x.value=!1,k.value=!1;const e="local"!==_.value,t=w.value;let n,{width:o,x:a,y:i}=t,s={};return n=e?g.value+5+150:g.value,u.value+n>document.body.clientWidth?(x.value=!0,a>n?s.left=-g.value-15+"px":(k.value=!0,s.left=document.body.clientWidth-a-g.value-10+"px")):s.left=o+15+"px",h.value<0?s.top=10-i+"px":s.bottom=0,{position:"absolute",...s}})),D=e=>{t(["screenType","user_profile","openWindowPath"]).then((t=>{if(t){let n=window;n.dataLayer=n.dataLayer||[];let o="";o="local"===t.openWindowPath?"local":"cloud",ke(0,"Image_Create",{labelStr:`feature=${Y(t.screenType)}#save=${o}#action=${e}`});}}));},Y=e=>"scrolling"===e?"full":"selected"===e?"select":"element"===e?"element":"visible"===e?"visible":"browser"===e?"desktop":void 0;return (e,t)=>(rn$1(),an$1(Yt$1,null,[vn$1("div",{id:"crx-capture-element",class:"crx-capture-element",ref_key:"elRef",ref:s},[l.value?(rn$1(),un$1(xt$1,{key:0,customPosition:Se$1(R),showToRight:x.value,path:_.value,onCircle:M,onRectangle:M,onArrow:M,onText:M,onBlur:M,onMosaic:M,onTriangle:M,onLine:M,onBack:t[0]||(t[0]=()=>{}),onReselect:H,onCancel:P,onCopy:t[1]||(t[1]=e=>(D("copy"),chrome.storage.local.set({isScrollCopy:!0}),void A("copy"))),onConfirm:A,onExit:t[2]||(t[2]=()=>{}),onClear:M,onToolbarMounted:I,onTolocal:B},null,8,["customPosition","showToRight","path"])):xn$1("v-if",!0)],512),xn$1(' <capture-toolbar\n\t\t:hidden="!end"\n\t\t:top="position.top"\n\t\t:left="position.left"\n\t\t@click-panel="clickToolbarPanel"\n\t/> ')],2112))}});Ro("\n.crx-capture-element[data-v-6c638806] {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tborder: 2px dashed #000;\n\tborder-radius: 5px;\n\tborder-color: #ffad4d;\n\tbackground-color: rgba(255, 173, 76, 0.1);\n\tpointer-events: none;\n\tz-index: 999999;\n\tbox-sizing: border-box;\n}\n"),Ge.__scopeId="data-v-6c638806",Ge.__file="src/components/CaptureElement.vue";var qe=Ke$1({__name:"CanvasLayer",props:{width:{type:Number},height:{type:Number},top:{type:String},left:{type:String},image:{type:String},name:{type:String},path:{type:String},captureType:{type:String},autoTrigger:{type:String}},setup(e){const o=e;let s$1=we$1(!1),r=we$1(!1),l=we$1(0),c=we$1(0),d=we$1(0),p=we$1(0),u=we$1({});const g=Vn$1((()=>{r.value=!1;const e="local"!==o.path,{width:t,left:n,top:a}=o,i={};let s;return s=e?d.value+5+150:d.value,l.value+s>document.body.clientWidth?(r.value=!0,i.left=n>s?-d.value-15+"px":document.body.clientWidth-n-d.value-10+"px"):i.left=t+15+"px",c.value<0?i.top=10-a+"px":i.bottom=0,{position:"absolute",...i}})),m=Vn$1((()=>{const{width:e,height:t,top:n,left:a,captureType:i}=o;return "element"===i?{top:n-2+"px",left:a-2+"px",width:e+4+"px",height:t+4+"px"}:{top:n+"px",left:a+"px",width:e+"px",height:t+"px"}})),b=e=>{const{top:t,left:n,height:o,width:a}=e;c.value=t,l.value=n,d.value=a,p.value=o;},w=we$1(null),_=we$1(null);let y;const k=e=>{y.circle(e);},C=e=>{y.rectangle(e);},T=e=>{y.arrow(e);},M=e=>{y.text(e);},E=e=>{y.mosaic(e);},L=e=>{y.blur(e);},H=e=>{y.triangle(e);},S=e=>{y.line(e);},P=()=>{y.back();},W={selected:e$1[3],element:e$1[2]},B=()=>{const{captureType:e}=o;if(!(e in W))throw new Error("error");I(),a$2(W[e],(()=>{}));},z=Tn$1(),I=()=>{Y(),chrome.storage.local.set({disableHomePage:!1}),chrome.storage.local.set({isRegionScreen:!1}),z.appContext.app.unmount(),y.dispose();["crx-edit","crx-capture"].forEach((e=>{const t=document.getElementById(e);t&&t.remove();}));},R=()=>{y.copy(w.value).then(I);},D=()=>{const e=y.exportBase64();I(),chrome.storage.local.set({disableHomePage:!0});const{width:t,height:n}=o;chrome.runtime.sendMessage({imgThumbnail:!0,coverData:e,rect:{w:t,h:n}});},Y=()=>{y.exit();},U=()=>{y.clear();},G=()=>{const e=y.exportBase64();I();const{width:t,height:n}=o;chrome.runtime.sendMessage({openLocalPage:!0,coverData:e,rect:{w:t,h:n}});},q=e=>{y.setActiveStyle(e);};return et$1((()=>{s$1.value=!0;const{image:e,width:t,height:n,autoTrigger:a}=o;y=new rt$1({id:"gm-snap-canvas",image:e,width:t,height:n,initOver:()=>{const e={circle:k,rectangle:C,arrow:T,text:M,mosaic:E,blur:L,triangle:H,line:S};if(a in e){let t;for(const e in ot$2)if(ot$2[e].type===a){t=ot$2[e];break}e[a](t),_.value.selectType=a;}},activeObjectConfig:e=>{u.value=e;}});})),(t,o)=>(rn$1(),an$1("div",{class:a(["canvas_cover",{cover:Se$1(s$1)},e.captureType]),onWheel:o[0]||(o[0]=No((()=>{}),["prevent"]))},[vn$1("div",{class:"canvas_warp",style:s({width:Se$1(m).width,height:Se$1(m).height,top:Se$1(m).top,left:Se$1(m).left})},[vn$1("canvas",{id:"gm-snap-canvas",ref_key:"canvas",ref:w},null,512),gn$1(xt$1,{ref_key:"editToolbar",ref:_,path:e.path,customPosition:Se$1(g),showToRight:Se$1(r),captureType:e.captureType,schema:"vertical",echoPro:Se$1(u),onCircle:k,onRectangle:C,onArrow:T,onText:M,onMosaic:E,onBlur:L,onTriangle:H,onLine:S,onBack:P,onReselect:B,onCancel:I,onCopy:R,onConfirm:D,onExit:Y,onClear:U,onTolocal:G,onToolbarMounted:b,onSetActiveStyle:q},null,8,["path","customPosition","showToRight","captureType","echoPro"])],4)],34))}});Ro(".canvas_cover[data-v-59cffd03] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: transparent;\n  z-index: 2147483620;\n}\n.canvas_cover[data-v-59cffd03].element[data-v-59cffd03] {\n  background-color: transparent;\n}\n.canvas_cover[data-v-59cffd03].element[data-v-59cffd03] .canvas_warp[data-v-59cffd03] {\n  border: 2px dashed #ffad4d;\n  border-radius: 5px;\n}\n.canvas_cover[data-v-59cffd03].visible[data-v-59cffd03]::before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border: 5px solid #3bba54;\n  z-index: 1;\n  pointer-events: none;\n}\n.canvas_warp[data-v-59cffd03] {\n  position: absolute;\n}\n"),qe.__scopeId="data-v-59cffd03",qe.__file="src/components/CanvasLayer/CanvasLayer.vue";var $e=Ke$1({__name:"CornerMarker",props:{coordinate:{type:Object},isShow:{type:Boolean},text:{type:String},align:{type:String,default:"center"},minWidth:{}},setup(e){const a$1=e;we$1(!1);const s$1=Vn$1((()=>a$1.coordinate?.y+"px")),r=Vn$1((()=>a$1.coordinate?.x+"px")),l$1=Vn$1((()=>{let e=a$1.minWidth;return "number"==typeof e&&(e+="px"),e}));return (t,c)=>(rn$1(),un$1(lo,{name:"animation_box"},{default:Se$2((()=>[a$1.isShow?(rn$1(),an$1("div",{key:0,class:a(["corner_marker",{corner_marker_center:"center"==a$1.align,corner_marker_left:"left"==a$1.align,corner_marker_right:"right"==a$1.align}]),style:s({top:Se$1(s$1),left:Se$1(r),minWidth:Se$1(l$1)})},l(e.text),7)):xn$1("v-if",!0)])),_:1}))}});$e.__file="src/components/CornerMarker/CornerMarker.vue";const Xe={class:"menu_div"},je={class:"create_path_news"},Fe={class:"create_path_news_content"},Ne=[_n$1('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-300f567a><g clip-path="url(#clip0_599_9055)" data-v-300f567a><path d="M13.293 15.2571C13.6835 15.6476 14.3167 15.6476 14.7072 15.2571C15.0977 14.8666 15.0977 14.2334 14.7072 13.8429L9.63929 8.775L14.7072 3.70711C15.0977 3.31658 15.0977 2.68342 14.7072 2.29289C14.3167 1.90237 13.6835 1.90237 13.293 2.29289L8.22507 7.36079L3.15718 2.29289C2.76666 1.90237 2.13349 1.90237 1.74297 2.29289C1.35244 2.68342 1.35244 3.31658 1.74297 3.70711L6.81086 8.775L1.74297 13.8429C1.35244 14.2334 1.35244 14.8666 1.74297 15.2571C2.13349 15.6476 2.76666 15.6476 3.15718 15.2571L8.22507 10.1892L13.293 15.2571Z" data-v-300f567a></path></g><defs data-v-300f567a><clipPath id="clip0_599_9055" data-v-300f567a><rect width="16" height="16" fill="white" transform="translate(16) rotate(90)" data-v-300f567a></rect></clipPath></defs></svg>',1)],Ve={class:"content_div"},Oe=["src"],Qe=["src"],Ze=["src"],Ke=["src"],Je=["src"],et=["src"],tt={class:"footer"},nt=["src"],ot=["onClick"],at={key:0,class:"bottom_div"},it={class:"bottom_text"};var st=Ke$1({__name:"CaputeMenu",emits:["chageChoice"],setup(e,{expose:t$1,emit:s}){let p=we$1(chrome.i18n.getMessage("menuCardPath")),u=we$1(chrome.i18n.getMessage("relieveCard")),g=we$1(chrome.i18n.getMessage("menuTool1")),m=we$1(chrome.i18n.getMessage("menuTool2")),b=we$1(chrome.i18n.getMessage("menuTool3")),x=we$1(chrome.i18n.getMessage("menuTool4")),C=we$1(chrome.i18n.getMessage("menuTool5")),T=we$1(chrome.i18n.getMessage("menuTool6")),M=we$1(chrome.i18n.getMessage("saveImageTo"));we$1(chrome.i18n.getMessage("gemooEdit"));let E=we$1(chrome.i18n.getMessage("gemooLocal"));we$1(chrome.i18n.getMessage("gemooPage"));let L=we$1(chrome.i18n.getMessage("hoverClose")),H=we$1(chrome.i18n.getMessage("gemooCloud")),P=we$1(chrome.i18n.getMessage("everywhere"));const W=we$1(!1),B=we$1(!1),I=we$1(E),R=re([{type:1,name:H.value},{type:3,name:E.value}]),D=we$1(),Y=we$1(!1),U=we$1("{space > topic > card name}"),G=we$1(["main-scroll-def","main-area-def","main-element-def","main-visible-def","main-window-def","main-tab-comingsoon"]),q=we$1({x:10,y:10}),$=we$1(!1),X=we$1(""),j=we$1(!0),F=we$1("center"),N=we$1();setTimeout((()=>{t(["cardPath","cardId","createPathShow","openWindowPath"]).then((e=>{e.cardPath&&(U.value=e.cardPath),e.cardId?Y.value=!0:Y.value=!1,e.createPathShow?W.value=!0:W.value=!1,e.openWindowPath?"local"==e.openWindowPath?I.value=E.value:I.value=H.value:chrome.storage.local.set({openWindowPath:"local"});}));}),100),Oe$1(B,(e=>{1==e?D.value&&(D.value.style.transform="rotate(180deg)"):D.value&&(D.value.style.transform="rotate(0deg)");}));const V=e=>chrome.runtime.getURL("assets/popup/"+e+".png"),O=e=>{5!=e&&(o.openPageHome.value=!1,chrome.storage.local.set({disableHomePage:!0}),setTimeout((()=>{"1"===e?(chrome.storage.local.set({isScrollerScreen:!0}),chrome.storage.local.set({screenType:"scrolling"}),a$2(e$1[4],(()=>{}))):"2"===e?(chrome.storage.local.set({isRegionScreen:!0}),chrome.storage.local.set({screenType:"selected"}),a$2(e$1[3],(()=>{}))):"3"===e?(chrome.storage.local.set({isRegionScreen:!0}),chrome.storage.local.set({screenType:"element"}),a$2(e$1[2],(()=>{}))):"4"===e?(chrome.storage.local.set({isHaveScroll:!1,rect:{x:0,y:0,w:window.innerWidth,h:window.innerHeight}}),chrome.storage.local.set({screenType:"visible"}),a$2(e$1[0],(()=>{}))):"5"===e||"6"===e&&(chrome.storage.local.set({screenType:"browser"}),a$2(e$1[5],(()=>{})));}),200));};function Q(e,t){if("card_path"==t&&0==j.value)return;let n=document.querySelector("#gemoo-home-page-snap");if($.value=!0,"close"==t)N.value=134,F.value="right",X.value=L.value,ie((()=>{let t=n?.shadowRoot?.querySelector("#cornerMarker"),a=t?.offsetWidth;a-=a/100*20,o(e.target.offsetLeft-a,e.target.offsetTop+30);}));else if("card_path"==t){F.value="center",X.value=U.value,o(e.target.offsetLeft,e.target.offsetTop+30);}function o(e,t){q.value.x=e,q.value.y=t;}}function K(e){W.value=!1,chrome.storage.local.remove("createPathShow"),1==e&&chrome.storage.local.remove("cardId");}return et$1((()=>{document.addEventListener("click",(e=>{B.value=!1;})),setTimeout((()=>{!function(){let e=document.querySelector("#gemoo-home-page-snap"),t=e?.shadowRoot?.getElementById("cardPathBox");t&&(t.scrollWidth>t.clientWidth?(j.value=!0,t.style.cursor="pointer"):(j.value=!1,t.style.cursor=""));}();}),100);})),t$1({setLoactionType:e=>{e&&(I.value=E.value,chrome.storage.local.set({openWindowPath:"local"}));},setLoactionCloudType:e=>{e?(I.value=H.value,chrome.storage.local.set({openWindowPath:"detail"})):(I.value="Local",chrome.storage.local.set({openWindowPath:"local"}));},quitAccount:()=>{W.value=!1;}}),(e,t)=>(rn$1(),an$1("div",Xe,[at$1(vn$1("div",je,[vn$1("div",Fe,[vn$1("p",null,l(Se$1(p)),1),vn$1("p",{class:"card_path",id:"cardPathBox",onMouseenter:t[0]||(t[0]=e=>Q(e,"card_path")),onMouseleave:t[1]||(t[1]=e=>$.value=!1)},l(U.value),33),vn$1("p",{class:"relieve_card",onClick:t[2]||(t[2]=e=>K(1))},l(Se$1(u)),1)]),vn$1("div",{onClick:t[3]||(t[3]=e=>K(2)),onMouseenter:t[4]||(t[4]=e=>Q(e,"close")),onMouseleave:t[5]||(t[5]=e=>$.value=!1),class:"menu_div_close"},Ne,32),gn$1($e,{coordinate:q.value,isShow:$.value,text:X.value,minWidth:N.value,align:F.value,id:"cornerMarker"},null,8,["coordinate","isShow","text","minWidth","align"])],512),[[Io,W.value&&Y.value]]),vn$1("div",Ve,[vn$1("div",{class:"scroll_box red_box",onClick:t[6]||(t[6]=e=>O("1")),onMouseenter:t[7]||(t[7]=e=>G.value[0]="main-scroll-pre"),onMouseleave:t[8]||(t[8]=e=>G.value[0]="main-scroll-def")},[vn$1("img",{src:V(G.value[0])},null,8,Oe),vn$1("p",null,l(Se$1(g)),1)],32),vn$1("div",{class:"area_box red_box",onClick:t[9]||(t[9]=e=>O("2")),onMouseenter:t[10]||(t[10]=e=>G.value[1]="main-area-pre"),onMouseleave:t[11]||(t[11]=e=>G.value[1]="main-area-def")},[vn$1("img",{src:V(G.value[1])},null,8,Qe),vn$1("p",null,l(Se$1(m)),1)],32),vn$1("div",{class:"other_box",onClick:t[12]||(t[12]=e=>O("3")),onMouseenter:t[13]||(t[13]=e=>G.value[2]="main-element-pre"),onMouseleave:t[14]||(t[14]=e=>G.value[2]="main-element-def")},[vn$1("img",{src:V(G.value[2])},null,8,Ze),vn$1("p",null,l(Se$1(b)),1)],32),vn$1("div",{class:"other_box red_box",onClick:t[15]||(t[15]=e=>O("4")),onMouseenter:t[16]||(t[16]=e=>G.value[3]="main-visible-pre"),onMouseleave:t[17]||(t[17]=e=>G.value[3]="main-visible-def")},[vn$1("img",{src:V(G.value[3])},null,8,Ke),vn$1("p",null,l(Se$1(x)),1)],32),vn$1("div",{class:"other_box red_box",onClick:t[18]||(t[18]=e=>O("6")),onMouseenter:t[19]||(t[19]=e=>G.value[4]="main-window-pre"),onMouseleave:t[20]||(t[20]=e=>G.value[4]="main-window-def")},[vn$1("img",{src:V(G.value[4])},null,8,Je),vn$1("p",null,l(Se$1(C)),1)],32),vn$1("div",{class:"other_box",onClick:t[21]||(t[21]=e=>O("5"))},[vn$1("img",{src:V(G.value[5])},null,8,et),vn$1("p",null,l(Se$1(T)),1)])]),vn$1("div",tt,[vn$1("p",null,l(Se$1(M)),1),vn$1("div",{class:"location_box",onClick:t[22]||(t[22]=No((e=>B.value=!B.value),["stop"]))},[vn$1("span",null,l(I.value),1),vn$1("img",{src:V("main-drop"),ref_key:"locationBoxDrop",ref:D},null,8,nt)]),gn$1(lo,{name:"animation_box"},{default:Se$2((()=>[B.value?(rn$1(),an$1("div",{key:0,class:"location_choice_box",id:"locationChoiceBox",onClick:t[23]||(t[23]=No((()=>{}),["stop"]))},[(rn$1(!0),an$1(Yt$1,null,mt$1(R,(e=>(rn$1(),an$1("p",{key:e.type,onClick:t=>{return n=e.name,o=e.type,I.value=n,B.value=!1,s("chageChoice",o),void(1==o?chrome.storage.local.set({openWindowPath:"detail"}):2==o?chrome.storage.local.set({openWindowPath:"edit"}):3==o&&chrome.storage.local.set({openWindowPath:"local"}));var n,o;}},l(e.name),9,ot)))),128))])):xn$1("v-if",!0)])),_:1})]),"Local"==I.value?(rn$1(),an$1("div",at,[vn$1("span",it,l(Se$1(P)),1)])):xn$1("v-if",!0)]))}});Ro(".create_path_news[data-v-300f567a] {\n  width: 100%;\n  height: 54px;\n  background: #fef6f0;\n  border-radius: 4px;\n  padding: 8px 10px;\n  box-sizing: border-box;\n  margin-bottom: 10px;\n  color: #ffad4c;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.create_path_news[data-v-300f567a] p[data-v-300f567a] {\n  margin: 0;\n}\n.create_path_news[data-v-300f567a] p[data-v-300f567a] span[data-v-300f567a] {\n  font-weight: 600;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.create_path_news[data-v-300f567a] img[data-v-300f567a] {\n  width: 24px;\n  cursor: pointer;\n}\n.content_div[data-v-300f567a] {\n  display: flex;\n  flex-wrap: wrap;\n}\n.content_div[data-v-300f567a] > div[data-v-300f567a] {\n  width: 160px;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.content_div[data-v-300f567a] > div[data-v-300f567a][data-v-300f567a]:hover {\n  border-color: #ccedd3;\n  box-shadow: 0px 0px 10px rgba(184, 255, 198, 0.54);\n}\n.content_div[data-v-300f567a] > div[data-v-300f567a][data-v-300f567a]:nth-child(2n) {\n  margin-left: 10px;\n}\n.content_div[data-v-300f567a] > div[data-v-300f567a][data-v-300f567a]:nth-child(6) {\n  pointer-events: none;\n}\n.content_div[data-v-300f567a] > div[data-v-300f567a] p[data-v-300f567a] {\n  color: #333333;\n  font-size: 12px;\n  font-weight: 600;\n  margin: 0;\n}\n.scroll_box[data-v-300f567a],\n.area_box[data-v-300f567a] {\n  width: 160px;\n  height: 120px;\n  border: 1px solid #f5f5f5;\n  display: inline-block;\n  border-radius: 5px;\n  flex-direction: column;\n}\n.scroll_box[data-v-300f567a] img[data-v-300f567a],\n.area_box[data-v-300f567a] img[data-v-300f567a] {\n  width: 64px;\n  height: 44px;\n  margin-bottom: 10px;\n}\n.scroll_box[data-v-300f567a] p[data-v-300f567a],\n.area_box[data-v-300f567a] p[data-v-300f567a] {\n  max-width: 64px;\n  text-align: center;\n}\n.other_box[data-v-300f567a] {\n  width: 160px;\n  height: 80px;\n  border: 1px solid #f5f5f5;\n  display: inline-block;\n  margin-top: 10px;\n  border-radius: 5px;\n  padding: 0 20px;\n}\n.other_box[data-v-300f567a] img[data-v-300f567a] {\n  min-width: 44px;\n  height: 30px;\n  margin-right: 10px;\n}\n.footer[data-v-300f567a] {\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  margin-bottom: 26px;\n  position: relative;\n}\n.footer[data-v-300f567a] > p[data-v-300f567a] {\n  color: #999999;\n}\n.footer[data-v-300f567a] .location_box[data-v-300f567a] {\n  user-select: none;\n  cursor: pointer;\n}\n.footer[data-v-300f567a] .location_box[data-v-300f567a] > span[data-v-300f567a] {\n  color: #666666;\n  font-weight: 600;\n  margin-right: 5px;\n}\n.footer[data-v-300f567a] .location_box[data-v-300f567a] img[data-v-300f567a] {\n  transition: all 0.5s;\n}\n.location_choice_box[data-v-300f567a] {\n  width: 70px;\n  height: 87px;\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: 0 0 10px 0 rgba(227, 227, 227, 0.8);\n  position: absolute;\n  right: 0;\n  bottom: 35px;\n  padding: 12px 15px;\n  box-sizing: border-box;\n}\n.location_choice_box[data-v-300f567a] p[data-v-300f567a] {\n  margin: 0;\n  color: #333333;\n  font-size: 14px;\n  cursor: pointer;\n}\n.location_choice_box[data-v-300f567a] p[data-v-300f567a][data-v-300f567a]:last-child {\n  margin-top: 20px;\n}\n.bottom_text[data-v-300f567a] {\n  text-align: center;\n  width: 330px;\n  display: block;\n  margin-bottom: 20px;\n  height: 20px;\n  line-height: 20px;\n}\n"),st.__scopeId="data-v-300f567a",st.__file="src/components/CaputeMenu.vue";const rt=e=>(xe$1("data-v-b9a54382"),e=e(),Ce$1(),e),lt={class:"signin_title"},ct={class:"signin_body"},dt={class:"account_put"},pt=["placeholder"],ht={class:"password_put"},ut=["type","placeholder"],gt=["src"],mt={class:"remenber_div"},vt={class:"remender_title_div"},ft=["src"],bt={class:"remember_title"},xt={class:"sign_in_button"},wt=["onKeyup"],_t={class:"btn_loading"},yt=[rt((()=>vn$1("span",{class:"bar el1"},null,-1))),rt((()=>vn$1("span",{class:"bar el2"},null,-1))),rt((()=>vn$1("span",{class:"bar el3"},null,-1)))],kt={class:"create_account_div"},Ct={class:"create_account_frist"},Tt={class:"line_div"},Mt={class:"wrap"};var Et=Ke$1({__name:"SnapLogin",props:{isCloud:{type:Boolean}},emits:["loginSuccess"],setup(e,{emit:t$1}){const s=e;let r=we$1(chrome.i18n.getMessage("snapLoginTitle")),d=we$1(chrome.i18n.getMessage("snapLoginDes")),p=we$1(chrome.i18n.getMessage("emailPlaceholder")),h=we$1(chrome.i18n.getMessage("passwordPlaceholder")),u=we$1(chrome.i18n.getMessage("emailErr1")),g=we$1(chrome.i18n.getMessage("emailErr2")),m=we$1(chrome.i18n.getMessage("passwordErr")),f=we$1(chrome.i18n.getMessage("rePassword")),b=we$1(chrome.i18n.getMessage("forgotPwd")),x=we$1(chrome.i18n.getMessage("siginIn")),w=we$1(chrome.i18n.getMessage("siginInErr")),_=we$1(chrome.i18n.getMessage("notAccount")),y$1=we$1(chrome.i18n.getMessage("createAccount")),k=we$1(chrome.i18n.getMessage("snapLoginOr"));const C=we$1(""),H=we$1(""),P=we$1(g.value),A=we$1(m.value),W=we$1(!1),B=we$1(!1),z=we$1(!1),I=we$1(w.value),R$1=we$1(!1),D=we$1(!1),Y=we$1("password");t("user_account").then((e=>{e&&(C.value=window.atob(e.account),H.value=window.atob(e.password),z.value=!0);}));const U=e=>chrome.runtime.getURL("assets/popup/"+e+".png"),G=()=>{if(R$1.value=!1,C.value.length<=0)return P.value=u.value,void(W.value=!0);W.value=!1;if(!/^([a-z0-9]+[-_.]?[a-z0-9]+)+@([a-z0-9]*[-_.]?[a-z0-9]+)+[.][a-z]{2,3}([.][a-z]{2,n})?$/i.test(C.value))return P.value=g.value,void(W.value=!0);if(W.value=!1,H.value.length<=0)return A.value=m.value,void(B.value=!0);if(B.value=!1,D.value=!0,1==z.value){let e={account:window.btoa(C.value),password:window.btoa(H.value)};chrome.storage.local.set({user_account:e});}else chrome.storage.local.remove("user_account");St$1.get((e=>{const n=e.map((e=>e.value)),o=St$1.x64hash128(n.join(""),31)+"Gemoo Snap",a={email:C.value,password:kt$1(H.value),fingerprint:o,device_name:`Gemoo Snap(${y()})`};chrome.runtime.sendMessage({request:"login",data:a},(function(e){"success"===e.logincb?(t$1("loginSuccess"),setTimeout((()=>{D.value=!1;}),500)):"fail"===e.logincb&&(e.msg&&(I.value=e.msg),R$1.value=!0,D.value=!1);}));}));},q=()=>C.value.length<=0?(P.value=u.value,void(W.value=!0)):/^([a-z0-9]+[-_.]?[a-z0-9]+)+@([a-z0-9]*[-_.]?[a-z0-9]+)+[.][a-z]{2,3}([.][a-z]{2,n})?$/i.test(C.value)?void(W.value=!1):(P.value=g.value,void(W.value=!0)),$=()=>{if(H.value.length<=0)return A.value=m.value,void(B.value=!0);B.value=!1;},F=()=>{let e=window;e.dataLayer=e.dataLayer||[];let t="";t=s.isCloud?"cloudsignup":"homesignup",ke(0,"Login",{labelStr:`#button=${t}`});};return (e,t)=>(rn$1(),an$1("div",null,[vn$1("div",null,[xn$1(" title "),vn$1("div",lt,[vn$1("h3",null,l(Se$1(r)),1),vn$1("p",null,l(Se$1(d)),1)]),xn$1(" signin body "),vn$1("div",ct,[xn$1(" Email Address "),vn$1("div",dt,[at$1(vn$1("input",{type:"text",placeholder:Se$1(p),"onUpdate:modelValue":t[0]||(t[0]=e=>C.value=e),ref:"inputClick",onBlur:q,onFocus:t[1]||(t[1]=e=>W.value=!1)},null,40,pt),[[Co,C.value]]),at$1(vn$1("p",{class:"error_tip"},l(P.value),513),[[Io,W.value]])]),xn$1(" Password "),vn$1("div",ht,[vn$1("div",null,[at$1(vn$1("input",{type:Y.value,placeholder:Se$1(h),"onUpdate:modelValue":t[2]||(t[2]=e=>H.value=e),ref:"inputClick",onBlur:$,onFocus:t[3]||(t[3]=e=>B.value=!1)},null,40,ut),[[Lo,H.value]]),vn$1("img",{src:U("password"==Y.value?"camera_hide":"camera_show"),onClick:t[4]||(t[4]=e=>"text"==Y.value?Y.value="password":Y.value="text")},null,8,gt)]),at$1(vn$1("p",{class:"error_tip"},l(A.value),513),[[Io,B.value]])]),xn$1(" remenber "),vn$1("div",mt,[vn$1("div",vt,[vn$1("img",{src:1==z.value?U("signin-remember-pre"):U("signin-remember-def"),alt:"",class:"remenber_checkbutton",onClick:t[5]||(t[5]=e=>{z.value=!z.value;})},null,8,ft),vn$1("span",bt,l(Se$1(f)),1)]),vn$1("span",{class:"forgot_title",onClick:t[6]||(t[6]=e=>{window.open(R+"/login/forgot","_blank");})},l(Se$1(b)),1)]),xn$1(" Sign in "),vn$1("div",xt,[vn$1("button",{onClick:G,onKeyup:Uo(G,["enter"])},[at$1(vn$1("p",null,l(Se$1(x)),513),[[Io,!D.value]]),at$1(vn$1("div",_t,yt,512),[[Io,D.value]])],40,wt),at$1(vn$1("p",{class:"error_tip"},l(I.value),513),[[Io,R$1.value]])]),xn$1(" create account "),vn$1("div",kt,[vn$1("span",Ct,[bn$1(l(Se$1(_))+" ",1),vn$1("span",{class:"create_account_last",onClick:t[7]||(t[7]=e=>(F(),void window.open(R+"/signup?product=2&utm_source=Gemoo","_blank")))},l(Se$1(y$1)),1)])])]),xn$1(" Split line "),vn$1("div",Tt,[vn$1("div",Mt,[vn$1("div",null,l(Se$1(k)),1)])]),xn$1(" login "),gn$1(Ft$1)])]))}});Ro(".signin_title[data-v-b9a54382] {\n  width: 100%;\n  text-align: center;\n  font-family: poppins;\n}\n.signin_title[data-v-b9a54382] h3[data-v-b9a54382] {\n  margin: 0;\n  margin-top: 10px;\n  font-size: 24px;\n}\n.signin_title[data-v-b9a54382] p[data-v-b9a54382] {\n  max-width: 200px;\n  font-size: 14px;\n  color: #333;\n  margin: 0 auto;\n  margin-top: 14px;\n}\n.account_put[data-v-b9a54382],\n.password_put[data-v-b9a54382] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n.account_put[data-v-b9a54382] input[data-v-b9a54382],\n.password_put[data-v-b9a54382] input[data-v-b9a54382] {\n  width: 320px;\n  height: 44px;\n  border: 1px solid #e6e6e6;\n  border-radius: 5px;\n  margin-top: 20px;\n  background-color: white;\n  color: #666;\n  caret-color: #2c67ff;\n  padding-left: 15px;\n  box-sizing: border-box;\n  outline: 0;\n}\n.account_put[data-v-b9a54382] input[data-v-b9a54382][data-v-b9a54382]::placeholder,\n.password_put[data-v-b9a54382] input[data-v-b9a54382][data-v-b9a54382]::placeholder {\n  color: #cccccc;\n  font-size: 14px;\n  font-weight: 400;\n}\n.error_tip[data-v-b9a54382] {\n  width: 320px;\n  margin: 0;\n  text-align: left;\n  margin-top: 6px;\n  color: red;\n  font-size: 12px;\n}\n.remenber_div[data-v-b9a54382] {\n  display: flex;\n  justify-content: space-between;\n  width: 320px;\n  margin: 0 auto;\n  margin-top: 16px;\n}\n.remender_title_div[data-v-b9a54382] {\n  display: flex;\n  align-items: center;\n}\n.remember_title[data-v-b9a54382] {\n  font-size: 12px;\n  color: #666666;\n  margin-left: 5px;\n}\n.remenber_checkbutton[data-v-b9a54382] {\n  cursor: pointer;\n}\n.forgot_title[data-v-b9a54382] {\n  font-size: 12px;\n  color: #3bba54;\n  cursor: pointer;\n}\n.line_div[data-v-b9a54382] {\n  margin: 0 auto;\n  margin-bottom: 10px;\n  margin-top: 24px;\n  width: 324px;\n  height: 20px;\n}\n.wrap[data-v-b9a54382] {\n  position: absolute;\n  text-align: center;\n  width: 324px;\n}\n.wrap div[data-v-b9a54382] {\n  line-height: 20px;\n  color: #999999;\n}\n/*CSS伪类用法*/\n.wrap div[data-v-b9a54382]:after,\n.wrap div[data-v-b9a54382]:before {\n  position: absolute;\n  top: 50%;\n  background: #ddd;\n  content: '';\n  height: 1px;\n  width: 43%;\n}\n/*调整背景横线的左右距离*/\n.wrap div[data-v-b9a54382]:before {\n  left: 0;\n}\n.wrap div[data-v-b9a54382]:after {\n  right: 0;\n}\n.sign_in_button[data-v-b9a54382] {\n  display: flex;\n  align-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.sign_in_button[data-v-b9a54382] button[data-v-b9a54382] {\n  width: 320px;\n  height: 44px;\n  border-radius: 5px;\n  background: #3bba54;\n  border: 0;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n  margin: 0 auto;\n  margin-top: 24px;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n.sign_in_button[data-v-b9a54382] button[data-v-b9a54382] p[data-v-b9a54382] {\n  margin: 0 !important;\n}\n.sign_in_button[data-v-b9a54382] > p[data-v-b9a54382] {\n  margin: 0;\n  margin-top: 5px;\n}\n.sign_in_button button[data-v-b9a54382]:hover {\n  background-color: #1caa38;\n}\n.sign_in_button button[data-v-b9a54382]:active {\n  background-color: #008c1c;\n}\n.google_login_title[data-v-b9a54382] {\n  vertical-align: middle;\n}\n.create_account_div[data-v-b9a54382] {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n}\n.create_account_frist[data-v-b9a54382] {\n  font-size: 13px;\n  color: #000000;\n}\n.create_account_last[data-v-b9a54382] {\n  font-size: 13px;\n  color: #3bba54;\n  cursor: pointer;\n}\n/* loading */\n.bar[data-v-b9a54382] {\n  display: inline-block;\n  width: 10px;\n  height: 6px;\n  border-radius: 5px;\n}\n.el1[data-v-b9a54382] {\n  background-color: #fff;\n  animation: el1_a-b9a54382 0.5s ease-in-out 0s, el1_a_b-b9a54382 1.5s ease-in-out 0.5s infinite normal;\n}\n.btn_loading .el1[data-v-b9a54382] {\n  background-color: #fff;\n}\n.el2[data-v-b9a54382] {\n  margin-right: 6px;\n  margin-left: 6px;\n  background-color: #fff;\n  animation: el2_a-b9a54382 0.5s ease-in-out 0s, el2_a_b-b9a54382 1.5s ease-in-out 0.5s infinite normal;\n}\n.btn_loading .el2[data-v-b9a54382] {\n  background-color: #fff;\n}\n.el3[data-v-b9a54382] {\n  background-color: #fff;\n  animation: el3_a-b9a54382 0.5s ease-in-out 0s, el3_a_b-b9a54382 1.5s ease-in-out 0.5s infinite normal;\n}\n.btn_loading .el3[data-v-b9a54382] {\n  background-color: #fff;\n}\n@keyframes el1_a-b9a54382 {\n  from {\n    width: 6px;\n  }\n  to {\n    width: 26px;\n  }\n}\n@keyframes el2_a-b9a54382 {\n  from {\n    width: 6px;\n  }\n  to {\n    width: 26px;\n  }\n}\n@keyframes el3_a-b9a54382 {\n  from {\n    width: 6px;\n  }\n  to {\n    width: 6px;\n  }\n}\n@keyframes el1_a_b-b9a54382 {\n  0% {\n    width: 26px;\n  }\n  33% {\n    width: 6px;\n  }\n  66% {\n    width: 6px;\n  }\n  100% {\n    width: 26px;\n  }\n}\n@keyframes el2_a_b-b9a54382 {\n  0% {\n    width: 6px;\n  }\n  33% {\n    width: 26px;\n  }\n  66% {\n    width: 6px;\n  }\n  100% {\n    width: 6px;\n  }\n}\n@keyframes el3_a_b-b9a54382 {\n  0% {\n    width: 6px;\n  }\n  33% {\n    width: 6px;\n  }\n  66% {\n    width: 26px;\n  }\n  100% {\n    width: 6px;\n  }\n}\n"),Et.__scopeId="data-v-b9a54382",Et.__file="src/components/SnapLogin.vue";const Lt={key:0,class:"message_box"},Ht={key:0,class:"purchase_uploding"},St=["src"],Pt={key:1},At=["src"],Wt={class:"purch_title"},Bt={key:2},zt=["src"],It={key:0,class:"purch_title"},Rt={key:1,class:"purch_title"},Dt={key:1},Yt={class:"message_box_uploding"},Ut=(e=>(xe$1("data-v-6aa2178f"),e=e(),Ce$1(),e))((()=>vn$1("div",{class:"btn_loading"},[vn$1("span",{class:"bar el1"}),vn$1("span",{class:"bar el2"}),vn$1("span",{class:"bar el3"})],-1))),Gt={class:"message_box_err"},qt=["src"];var $t=Ke$1({__name:"MessageBox",props:{isErr:{type:Boolean},lodingDom:{type:HTMLElement},text:{type:String},errText:{type:String}},setup(e){const t$1=e;let s=we$1(chrome.i18n.getMessage("msgBoxLoadingUp")),d=we$1(chrome.i18n.getMessage("msgBoxErr"));we$1(chrome.i18n.getMessage("msgPurchaseBoxErr"));let p=we$1(chrome.i18n.getMessage("msgBoxCancle")),h=we$1(chrome.i18n.getMessage("msgBoxOk")),u=we$1(chrome.i18n.getMessage("Pop_Window_Limite_free_Title")),g=we$1(chrome.i18n.getMessage("Pop_upgrade_btn")),m=we$1(chrome.i18n.getMessage("Pop_Window_Limite_free_count_Title_middle")),v=we$1(chrome.i18n.getMessage("Pop_Window_Limite_pro_Title_frist")),b=we$1(chrome.i18n.getMessage("Pop_Window_Limite_pro_Title_middle")),x=we$1(chrome.i18n.getMessage("Pop_Window_Limite_pro_Title_last"));const w=we$1(0),_=we$1(!0),k=we$1(!1),C=we$1(!1);we$1([]),we$1(!1);const T=we$1(!0);et$1((()=>{!function(){const e=document.querySelector("#gemoo-loading");e&&ie((()=>{const t=e.attachShadow({mode:"open"});!function(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(`assets/css/${t}.css`),e.appendChild(n);}(t,"messageBoxc");const n=document.createDocumentFragment();n.appendChild(e.children[0]),t?.appendChild(n);}));}();})),Oe$1((()=>t$1.isErr),(e=>{_.value=1!=e;}),{immediate:!0});let M=we$1(null);chrome.runtime.onMessage.addListener(((e,t,n)=>{1==e.toMsgBoxErr?(E(e.res),_.value=!1):0==e.toMsgBoxErr?_.value=!0:"succ"==e.toMsgBoxSuc?(M&&clearTimeout(M),M=setTimeout((()=>{E(e.res);}),500)):1==e.isPurchase&&(w.value=e.res.result.limit.version,k.value=!0,C.value=!1,e.isCount&&!0===e.isCount&&(C.value=!0));}));const E=e=>{t(["screenType","openWindowPath"]).then((t=>{if(t){let n=window;n.dataLayer=n.dataLayer||[];let o="";o="local"===t.openWindowPath?"local":"cloud",ke(0,"Image_Create",{labelStr:`feature=${H(t.screenType)}#save=${o}#action=finish`,result:e});}}));},H=e=>"scrolling"===e?"full":"selected"===e?"select":"element"===e?"element":"visible"===e?"visible":"browser"===e?"desktop":void 0,P=e=>chrome.runtime.getURL("assets/popup/"+e+".png");function A(){chrome.runtime.sendMessage({cancelUploadImage:!0}),W(),chrome.storage.local.set({disableHomePage:!1});}function W(){t$1.lodingDom&&t$1.lodingDom.remove(),chrome.storage.local.set({disableHomePage:!1});}const B={data:{avatar:"",name:"",avatar_color:"",version:0,created_at:0}};function z(){chrome.runtime.sendMessage({cancelUploadImage:!0}),W(),chrome.storage.local.set({disableHomePage:!1});const e=function(){let e="https://app.gemoo.com";return 1===B.data.version?e+="/upgrade?pv=gs-chrome&v=1.0.5&swid=0208":C.value?e+="/upgrade?pv=gs-chrome&v=1.0.5&swid=0202":e+="/upgrade?pv=gs-chrome&v=1.0.5&swid=0201",e}();t(["access_token","refresh_token"]).then((t=>{let n="";n=(C.value,t.access_token&&t.refresh_token?e+`&token=${t.access_token}&refreshtoken=${t.refresh_token}`:e),window.open(n,"_blank");}));}return t("user_profile").then((e=>{e&&(B.data=e);})),(e,t)=>{return T.value?(rn$1(),an$1("div",Lt,[k.value?(rn$1(),an$1("div",Ht,[2!=w.value?(rn$1(),an$1("img",{key:0,class:"close_icon",src:(r="close",chrome.runtime.getURL("assets/toolbar/"+r+".png")),onClick:t[0]||(t[0]=e=>(T.value=!1,chrome.runtime.sendMessage({cancelUploadImage:!0}),W(),void chrome.storage.local.set({disableHomePage:!1})))},null,8,St)):xn$1("v-if",!0),2==w.value?(rn$1(),an$1("div",Pt,[vn$1("img",{src:P("upload_err")},null,8,At),vn$1("p",Wt,[bn$1(l(Se$1(v))+" ",1),vn$1("span",{class:"link_span",onClick:t[1]||(t[1]=e=>(chrome.runtime.sendMessage({cancelUploadImage:!0}),W(),chrome.storage.local.set({disableHomePage:!1}),void window.open("https://app.gemoo.com/recent?feedback=firstpage","_blank")))},l(Se$1(b)),1),bn$1(" "+l(Se$1(x)),1)]),vn$1("button",{onClick:W},l(Se$1(h)),1)])):(rn$1(),an$1("div",Bt,[vn$1("img",{src:P("upload_err")},null,8,zt),C.value?xn$1("v-if",!0):(rn$1(),an$1("p",It,l(Se$1(u)),1)),C.value?(rn$1(),an$1("p",Rt,l(Se$1(m)),1)):xn$1("v-if",!0),vn$1("button",{onClick:t[2]||(t[2]=e=>z())},l(Se$1(g)),1)]))])):xn$1("v-if",!0),k.value?xn$1("v-if",!0):(rn$1(),an$1("div",Dt,[at$1(vn$1("div",Yt,[Ut,vn$1("p",null,l(Se$1(s)),1),vn$1("button",{onClick:A},l(Se$1(p)),1)],512),[[Io,_.value]]),at$1(vn$1("div",Gt,[vn$1("img",{src:P("upload_err")},null,8,qt),vn$1("p",null,l(Se$1(d)),1),vn$1("button",{onClick:W},l(Se$1(h)),1)],512),[[Io,!_.value]])]))])):xn$1("v-if",!0);var r;}}});Ro(".message_box[data-v-6aa2178f] {\n  user-select: none;\n  position: fixed;\n  z-index: 999998;\n  font-family: 'Poppins', 'Lucida Grande', 'Lucida Sans Unicode', 'Arial';\n  font-size: 14px;\n}\n.message_box_uploding[data-v-6aa2178f],\n.message_box_err[data-v-6aa2178f] {\n  width: 210px;\n  height: 170px;\n  border-radius: 10px;\n  background-color: #fff;\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  box-sizing: border-box;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.15);\n  padding: 40px 45px 30px 45px;\n  text-align: center;\n}\n.purchase_uploding[data-v-6aa2178f] {\n  width: 210px;\n  height: 170px;\n  border-radius: 10px;\n  background-color: #fff;\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  box-sizing: border-box;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.15);\n  padding: 40px 45px 30px 45px;\n  text-align: center;\n}\n.message_box_err[data-v-6aa2178f] {\n  padding-top: 35px;\n}\n.message_box_err img[data-v-6aa2178f] {\n  width: 36px;\n  height: 36px;\n  display: inline-block;\n}\n.purchase_uploding p[data-v-6aa2178f],\n.message_box_uploding p[data-v-6aa2178f],\n.message_box_err p[data-v-6aa2178f] {\n  font-size: 14px;\n  font-weight: 400;\n  margin-bottom: 15px;\n  color: #000;\n}\n.purchase_uploding button[data-v-6aa2178f],\n.message_box_uploding button[data-v-6aa2178f],\n.message_box_err button[data-v-6aa2178f] {\n  margin: 0;\n  width: 120px;\n  height: 30px;\n  background: #ffffff;\n  border: 1px solid #e6e6e6;\n  border-radius: 5px;\n  font-size: 14px;\n  font-weight: 600;\n  color: #333333;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-sizing: border-box;\n  text-align: center;\n}\n.purchase_uploding button[data-v-6aa2178f]:hover,\n.message_box_uploding button[data-v-6aa2178f]:hover,\n.message_box_err button[data-v-6aa2178f]:hover {\n  background-color: #3bba54;\n  color: #fff;\n}\n.message_box_err p[data-v-6aa2178f] {\n  margin-top: 6px;\n}\n.purchase_uploding p[data-v-6aa2178f],\n.message_box_uploding p[data-v-6aa2178f] {\n  margin-top: 12px;\n}\n/* loading */\n.message_box .bar[data-v-6aa2178f] {\n  display: inline-block;\n  width: 30px;\n  height: 7px;\n  border-radius: 5px;\n}\n.message_box .el1[data-v-6aa2178f] {\n  background-color: #fff;\n  animation: el1_a-6aa2178f 0.5s ease-in-out 0s, el1_a_b-6aa2178f 1.5s ease-in-out 0.5s infinite normal;\n}\n.message_box .btn_loading .el1[data-v-6aa2178f] {\n  background-color: #ffad4c;\n}\n.message_box .el2[data-v-6aa2178f] {\n  margin-right: 6px;\n  margin-left: 6px;\n  background-color: #fff;\n  animation: el2_a-6aa2178f 0.5s ease-in-out 0s, el2_a_b-6aa2178f 1.5s ease-in-out 0.5s infinite normal;\n}\n.message_box .btn_loading .el2[data-v-6aa2178f] {\n  background-color: #2c67ff;\n}\n.message_box .el3[data-v-6aa2178f] {\n  background-color: #fff;\n  animation: el3_a-6aa2178f 0.5s ease-in-out 0s, el3_a_b-6aa2178f 1.5s ease-in-out 0.5s infinite normal;\n}\n.message_box .btn_loading .el3[data-v-6aa2178f] {\n  background-color: #3bba54;\n}\n@keyframes el1_a-6aa2178f {\n  from {\n    width: 7px;\n  }\n  to {\n    width: 26px;\n  }\n}\n@keyframes el2_a-6aa2178f {\n  from {\n    width: 7px;\n  }\n  to {\n    width: 26px;\n  }\n}\n@keyframes el3_a-6aa2178f {\n  from {\n    width: 7px;\n  }\n  to {\n    width: 7px;\n  }\n}\n@keyframes el1_a_b-6aa2178f {\n  0% {\n    width: 26px;\n  }\n  33% {\n    width: 7px;\n  }\n  66% {\n    width: 7px;\n  }\n  100% {\n    width: 26px;\n  }\n}\n@keyframes el2_a_b-6aa2178f {\n  0% {\n    width: 7px;\n  }\n  33% {\n    width: 26px;\n  }\n  66% {\n    width: 7px;\n  }\n  100% {\n    width: 7px;\n  }\n}\n@keyframes el3_a_b-6aa2178f {\n  0% {\n    width: 7px;\n  }\n  33% {\n    width: 7px;\n  }\n  66% {\n    width: 26px;\n  }\n  100% {\n    width: 7px;\n  }\n}\n"),$t.__scopeId="data-v-6aa2178f",$t.__file="src/components/MessageBox/MessageBox.vue";const Xt=e=>(xe$1("data-v-5a5a6d94"),e=e(),Ce$1(),e),jt={class:"err_page"},Ft=["src"],Nt={class:"btn_loading"},Vt=[Xt((()=>vn$1("span",{class:"bar el1"},null,-1))),Xt((()=>vn$1("span",{class:"bar el2"},null,-1))),Xt((()=>vn$1("span",{class:"bar el3"},null,-1)))];var Ot=Ke$1({__name:"ErrPage",props:{errPageLoading:{type:Boolean,default:!1}},emits:["errPageTohome"],setup(e,{emit:t}){const o=e;let s=we$1(chrome.i18n.getMessage("errPageTitle")),r=we$1(chrome.i18n.getMessage("errPageDes")),d=we$1(chrome.i18n.getMessage("erraPageBtn"));const p=we$1(!1);function h(){t("errPageTohome");}return Oe$1((()=>o.errPageLoading),(e=>{1==e?p.value=!0:0==e&&(p.value=!1);})),(e,t)=>{return rn$1(),an$1("div",jt,[vn$1("img",{src:(o="network_err",chrome.runtime.getURL("assets/popup/"+o+".png"))},null,8,Ft),vn$1("h3",null,l(Se$1(s)),1),vn$1("p",null,l(Se$1(r)),1),vn$1("button",{onClick:h},[at$1(vn$1("p",null,l(Se$1(d)),513),[[Io,!p.value]]),at$1(vn$1("div",Nt,Vt,512),[[Io,p.value]])])]);var o;}}});Ro("p[data-v-5a5a6d94],\nh3[data-v-5a5a6d94] {\n  margin: 0;\n  padding: 0;\n}\n.err_page[data-v-5a5a6d94] {\n  padding: 0 35px;\n  text-align: center;\n  margin-top: 48px;\n}\n.err_page[data-v-5a5a6d94] img[data-v-5a5a6d94] {\n  margin-bottom: 30px;\n  margin-left: 60px;\n}\n.err_page[data-v-5a5a6d94] h3[data-v-5a5a6d94] {\n  font-size: 16px;\n  font-weight: 600;\n}\n.err_page[data-v-5a5a6d94] p[data-v-5a5a6d94] {\n  margin: 10px 0 30px 0;\n  color: #666666;\n  font-size: 14px;\n}\n.err_page[data-v-5a5a6d94] button[data-v-5a5a6d94] {\n  margin-bottom: 80px;\n  width: 120px;\n  height: 30px;\n  border-radius: 5px;\n  cursor: pointer;\n  background: #3bba54;\n  color: #fff;\n  font-size: 14px;\n  font-weight: 600;\n  border: 0;\n  user-select: none;\n  transition: all 0.2s;\n}\n.err_page[data-v-5a5a6d94] button[data-v-5a5a6d94][data-v-5a5a6d94]:hover {\n  background-color: #1caa38;\n}\n.err_page[data-v-5a5a6d94] button[data-v-5a5a6d94][data-v-5a5a6d94]:active {\n  background-color: #008c1c;\n}\n"),Ot.__scopeId="data-v-5a5a6d94",Ot.__file="src/components/ErrPage.vue";const Qt={key:0,class:"menu_marker"},Zt=["src"],Kt={class:"conten_frist_div"},Jt=["src"],en={class:"conten_div"},tn=["src"],nn={class:"conten_div"},on=["src"],an={class:"sign_pop_in_button"};var sn=Ke$1({__name:"menuPop",props:{coordinate:{type:Object},isShow:{type:Boolean},text:{type:String},align:{type:String,default:"center"},minWidth:{}},emits:["closePopButton","showSiginView"],setup(e,{emit:s}){const r=e,l$1=e=>{let t=chrome.runtime.getURL("assets/toolbar/"+e+".png");return e.includes("http")&&(t=chrome.runtime.getURL(e)),t};we$1(!1);let c=we$1(chrome.i18n.getMessage("siginIn")),p=we$1(chrome.i18n.getMessage("cloudPop_one")),h=we$1(chrome.i18n.getMessage("cloudPop_two")),u=we$1(chrome.i18n.getMessage("cloudPop_three"));Vn$1((()=>r.coordinate?.y+"px")),Vn$1((()=>r.coordinate?.x+"px")),Vn$1((()=>{let e=r.minWidth;return "number"==typeof e&&(e+="px"),e}));const g=()=>{s("showSiginView"),m();},m=()=>{s("closePopButton");};return (e,t)=>(rn$1(),an$1(Yt$1,null,[xn$1(' <Transition name="animation_box"> '),r.isShow?(rn$1(),an$1("div",Qt,[vn$1("img",{class:"close_btn",src:l$1("close"),alt:"",onClick:t[0]||(t[0]=e=>m())},null,8,Zt),vn$1("div",Kt,[vn$1("img",{src:l$1("file"),alt:""},null,8,Jt),vn$1("span",null,l(Se$1(p)),1)]),vn$1("div",en,[vn$1("img",{src:l$1("share"),alt:""},null,8,tn),vn$1("span",null,l(Se$1(h)),1)]),vn$1("div",nn,[vn$1("img",{src:l$1("att"),alt:""},null,8,on),vn$1("span",null,l(Se$1(u)),1)]),vn$1("div",an,[vn$1("button",{onClick:g},[vn$1("p",null,l(Se$1(c)),1)])])])):xn$1("v-if",!0),xn$1(" </Transition> ")],2112))}});sn.__file="src/components/menuPop.vue";const rn=e=>(xe$1("data-v-7b2f1262"),e=e(),Ce$1(),e),ln=["onMousedown"],cn={class:"homepage_body"},dn={class:"head"},pn={class:"head_logo"},hn=["src"],un={key:1,class:"back_title"},gn=["src"],mn={key:1},vn={class:"head_tool"},fn=["onClick"],bn=["src"],xn=["textContent"],wn=[rn((()=>vn$1("g",{"clip-path":"url(#clip0_957_12591)"},[vn$1("path",{d:"M14.9535 17H3.02829C2.78043 17 2.54271 16.8986 2.36744 16.7181C2.19218 16.5376 2.09371 16.2928 2.09371 16.0375V10.4525H0.934834C0.746572 10.4519 0.562866 10.3928 0.407777 10.2828C0.252689 10.1729 0.133449 10.0173 0.0656752 9.83641C-0.00223882 9.65527 -0.0153753 9.45721 0.027991 9.26825C0.0713574 9.07928 0.169199 8.90824 0.308666 8.77759L8.41147 1.25031C8.5832 1.09068 8.80631 1.00232 9.03764 1.00232C9.26897 1.00232 9.49208 1.09068 9.66381 1.25031L17.7292 8.77759C17.8703 8.9071 17.9699 9.07763 18.015 9.26666C18.06 9.45569 18.0484 9.65434 17.9816 9.83641C17.9132 10.0188 17.7925 10.1755 17.6356 10.2856C17.4787 10.3956 17.2929 10.4538 17.1031 10.4525H15.8881V16.0375C15.8881 16.2928 15.7896 16.5376 15.6144 16.7181C15.4391 16.8986 15.2014 17 14.9535 17ZM3.94418 15.0749H14.0189V9.48989C14.0095 9.27756 14.0686 9.06799 14.1869 8.89387C14.3053 8.71975 14.4762 8.59086 14.6732 8.52732L9.00025 3.26208L3.30867 8.56582C3.50559 8.62936 3.67656 8.75825 3.79491 8.93237C3.91325 9.1065 3.97231 9.31607 3.96287 9.52839L3.94418 15.0749Z"})],-1))),rn((()=>vn$1("defs",null,[vn$1("clipPath",{id:"clip0_957_12591"},[vn$1("rect",{width:"18",height:"18",fill:"white"})])],-1)))],_n=[rn((()=>vn$1("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 18C4.03943 18 0 13.9606 0 9C0 4.03943 4.03943 0 9 0C13.9606 0 18 4.03943 18 9C18 13.9606 13.9606 18 9 18ZM2 9C2 12.856 5.144 16 9 16C12.856 16 16 12.856 16 9C16 5.144 12.856 2 9 2C5.144 2 2 5.144 2 9Z"},null,-1))),rn((()=>vn$1("path",{d:"M9 6C9.55229 6 10 5.55228 10 5C10 4.44772 9.55229 4 9 4C8.44771 4 8 4.44772 8 5C8 5.55228 8.44771 6 9 6Z"},null,-1))),rn((()=>vn$1("path",{d:"M9 7C8.44771 7 8 7.44772 8 8V13C8 13.5523 8.44771 14 9 14C9.55229 14 10 13.5523 10 13V8C10 7.44772 9.55229 7 9 7Z"},null,-1)))],yn={class:"user_avatar"},kn=["textContent"],Cn=["src"],Tn={class:"info"},Mn=["src"],En={class:"size_div"},Ln={style:{color:"#3bba54"}},Hn=["src"],Sn=rn((()=>vn$1("div",{class:"user_info_line"},null,-1))),Pn={class:"body"},An={key:0};var Wn=Ke$1({__name:"Homepage",setup(e){let s$1=we$1(chrome.i18n.getMessage("gemooSnap"));we$1(chrome.i18n.getMessage("homepageBeta"));let d=we$1(chrome.i18n.getMessage("homepageLogOut")),u=we$1(chrome.i18n.getMessage("hoverAbout")),g=we$1(chrome.i18n.getMessage("hoverHome")),m=we$1(chrome.i18n.getMessage("hoverAccount")),b=we$1(chrome.i18n.getMessage("maskText")),x=we$1(chrome.i18n.getMessage("Pop_Bate_Tip")),k=we$1(chrome.i18n.getMessage("Pop_Bate_other_Tip")),C=we$1(chrome.i18n.getMessage("siginIn"));we$1(chrome.i18n.getMessage("saveImageTo"));const T=we$1(!1),M=we$1(!1),E=we$1(!1),H=we$1(!1),P=re({data:{avatar:"",name:"",avatar_color:"",version:0,created_at:0}}),A=re({capacity:0,used:0}),W=we$1(),B=we$1(),I=we$1(0);we$1(!0),we$1(0);we$1(!1);const R$1=we$1(!1),D=we$1(!1),Y=(we$1(""),we$1(""),we$1({x:10,y:10})),U=we$1(!1),G=we$1(!1),q=we$1(""),$=we$1(),j=we$1(!0),F=we$1(!1),N=we$1(!1),V=we$1("center"),O=we$1(!1),Q=we$1(null);chrome.runtime.onMessage.addListener(((e,t,n)=>{1==e.chromeLogin&&ce();})),chrome.storage.onChanged.addListener((e=>{e.disableHomePage&&(1==e.disableHomePage.newValue?N.value=!0:N.value=!1);}));const Z=Vn$1((()=>{let e=P.data?.name.slice(0,1);return e?.toUpperCase()}));function K(e,t){if("account"==t&&1==E.value)return;if("userInfoName"==t&&0==j.value)return;if("about"==t)q.value=u.value;else if("home"==t)q.value=g.value;else if("account"===t)q.value=m.value;else if("userInfoName"==t)q.value=P.data?.name;else if("tip"==t)if(0===P.data.version)if(P.data.created_at<1681401599)q.value=x.value;else {const e=Math.floor(100*A.capacity)/100;q.value=k.value.replace("{name}",e.toString());}else {const e=Math.floor(100*A.capacity)/100;q.value=k.value.replace("{name}",e.toString());}V.value="center","tip"==t&&(V.value="right",Y.value.x=0);let n=document.querySelector("#gemoo-home-page-snap");U.value=!0,ie((()=>{let o=n?.shadowRoot?.querySelector("#cornerMarker"),a=o.offsetWidth;Y.value.x="tip"==t?e.target.getBoundingClientRect().left-a/2+9-86:e.target.getBoundingClientRect().left-a/2+9,Y.value.y=e.target.getBoundingClientRect().top+32;}));}function J(e){document.querySelector("#gemoo-home-page-snap"),V.value="left",q.value=b.value,U.value=!0,ie((()=>{Y.value.x=e.clientX+10,Y.value.y=e.clientY+10;}));}Oe$1((()=>o.openPageHome.value),(e=>{1==e&&(G.value=!1,N.value=!1,t("access_token").then((e=>{e?(E.value=!1,O.value=!1,ue().then().catch(),pe()):(O.value=!0,Q.value?.setLoactionType(!0));})),chrome.storage.local.set({isCloud:!1}));}));let ne=we$1("");t("user_profile").then((e=>{e&&(P.data=e);}));const se=e=>{1===e&&O.value&&(N.value=!0,chrome.storage.local.set({isCloud:!0}),M.value=!0,G.value=!0,we("cloudsignin"));},re$1=e=>{let t=chrome.runtime.getURL("assets/popup/"+e+".png");return e.includes("http")&&(t=chrome.runtime.getURL(e)),t},le=()=>{G.value=!1,N.value=!1,Q.value?.setLoactionCloudType(!1);};function ce(){ue().then().catch(),pe(),setTimeout((()=>{Q.value?.setLoactionCloudType(M.value),setTimeout((()=>{chrome.storage.local.set({isCloud:!1});}),400);}),600);}function de(){1!=E.value&&(H.value=!H.value,setTimeout((()=>{!function(){let e=document.querySelector("#gemoo-home-page-snap"),t=e?.shadowRoot?.getElementById("userInfoName");if(t){let e=t.scrollWidth,n=t.clientWidth;j.value=e>n;}}();}),100),ie((()=>{let e=W.value?.clientWidth,t=A.used/A.capacity;if(e&&B.value){let n=0;n=e*t>100?100:e*t,B.value.style.width=n+"%",I.value=e*t;}})));}function pe(){chrome.runtime.sendMessage({request:"userSpaceSize"},(function(e){if("success"===e.userSpaceSizecb){let t=(e.msg.capacity||0)/1024/1024/1024,n=(e.msg.used||0)/1024/1024/1024;A.capacity=parseFloat(he(t)?t:t.toFixed(2)),A.used=parseFloat(he(n)?n:n.toFixed(2));}}));}function he(e){return e%1==0}function ue(){return new Promise(((e,t)=>{chrome.runtime.sendMessage({request:"userProfile"},(function(n){if("success"===n.userProfilecb)P.data=re(n.msg),chrome.storage.local.set({user_profile:n.msg}),E.value=!1,O.value=!1,D.value=!1,e("");else if("fail"===n.userProfilecb){if(401==n.msg)return chrome.storage.local.remove("user_profile"),chrome.storage.local.remove("access_token"),chrome.storage.local.remove("refresh_token"),O.value=!0,void t("");Q.value?.setLoactionType(M.value),D.value=!0,t("");}}));}))}function ge(){H.value=!1,O.value=!0,Q.value?.setLoactionType(O.value),D.value=!1,chrome.storage.local.remove("access_token"),chrome.storage.local.remove("refresh_token"),chrome.storage.local.remove("user_profile"),chrome.storage.local.remove("cardPath"),chrome.storage.local.remove("createPathShow"),chrome.storage.local.remove("cardId"),Q.value?.setLoactionCloudType(!1),Q.value?.quitAccount();}function me(e,t$1=!1,n=!1){1==t$1?t(["access_token","refresh_token"]).then((t=>{t.access_token&&t.refresh_token&&window.open(`${e}?token=${t.access_token}&refreshtoken=${t.refresh_token}${n?"&account=detail":""}`,"_blank");})):window.open(e,"_blank");}function ve(){F.value=!0,ue().then((()=>{F.value=!1;})).catch((()=>{F.value=!1;}));}function fe(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(`assets/css/${t}.css`),e.appendChild(n);}function be(){o.openPageHome.value=!1;}function xe(){le(),chrome.runtime.sendMessage({openAboutUs:!0});}const we=e=>{let t=window;t.dataLayer=t.dataLayer||[],ke(0,"Login",{labelStr:`#button=${e}`});};return et$1((()=>{!function(){const e=document.querySelector("#gemoo-home-page-snap");e&&ie((()=>{const t=e.attachShadow({mode:"open"});fe(t,"public"),fe(t,"homepage"),fe(t,"caputeMenu"),fe(t,"snapLogin"),fe(t,"errPage"),fe(t,"messageBox"),fe(t,"ThirdPartyLogin");const n=document.createDocumentFragment();n.appendChild(e.children[0]),t?.appendChild(n);}));}(),document.addEventListener("click",(e=>{H.value=!1;}));})),(e,t)=>Se$1(o).openPageHome.value?(rn$1(),an$1("div",{key:0,class:"homepage",id:"homepage",onMousedown:No(be,["self"])},[vn$1("div",cn,[vn$1("div",dn,[vn$1("div",pn,[vn$1("div",{class:"back_div",onClick:t[0]||(t[0]=e=>(E.value=!1,chrome.storage.local.set({isCloud:!1}),void Q.value?.setLoactionType(O.value)))},[E.value?(rn$1(),an$1("img",{key:0,src:re$1("back"),alt:"back"},null,8,hn)):xn$1("v-if",!0),E.value?(rn$1(),an$1("p",un,"Back")):xn$1("v-if",!0)]),E.value?xn$1("v-if",!0):(rn$1(),an$1("img",{key:0,src:re$1("logo-main"),alt:"logo"},null,8,gn)),E.value?xn$1("v-if",!0):(rn$1(),an$1("p",mn,l(Se$1(s$1)),1))]),vn$1("div",vn,[O.value?xn$1("v-if",!0):(rn$1(),an$1("div",{key:0,class:"head_portrait",onClick:No(de,["stop"]),onMouseenter:t[1]||(t[1]=e=>K(e,"account")),onMouseleave:t[2]||(t[2]=e=>U.value=!1)},[P.data?.avatar?(rn$1(),an$1("img",{key:0,src:P.data?.avatar,alt:"user"},null,8,bn)):xn$1("v-if",!0),P.data?.avatar?xn$1("v-if",!0):(rn$1(),an$1("div",{key:1,style:s({backgroundColor:P.data?.avatar_color}),textContent:l(Se$1(Z))},null,12,xn)),xn$1(' <svg\n\t\t\t\t\t\t\twidth="18"\n\t\t\t\t\t\t\theight="18"\n\t\t\t\t\t\t\tviewBox="0 0 18 18"\n\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule="evenodd"\n\t\t\t\t\t\t\t\tclip-rule="evenodd"\n\t\t\t\t\t\t\t\td="M9 7C10.1046 7 11 6.1046 11 5C11 3.89543 10.1046 3 9 3C7.8954 3 7 3.89543 7 5C7 6.1046 7.8954 7 9 7ZM9 9C11.2091 9 13 7.2091 13 5C13 2.79086 11.2091 1 9 1C6.7909 1 5 2.79086 5 5C5 7.2091 6.7909 9 9 9Z"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule="evenodd"\n\t\t\t\t\t\t\t\tclip-rule="evenodd"\n\t\t\t\t\t\t\t\td="M3.87314 12.8393C2.59391 13.5246 2 14.3616 2 15.1429C2 15.6163 1.55228 16 1 16C0.44772 16 0 15.6163 0 15.1429C0 13.5572 1.19695 12.2514 2.81315 11.3856C4.44343 10.5121 6.6334 10 9 10C11.3666 10 13.5566 10.5121 15.1869 11.3856C16.803 12.2514 18 13.5572 18 15.1429C18 15.6163 17.5523 16 17 16C16.4477 16 16 15.6163 16 15.1429C16 14.3616 15.4061 13.5246 14.1269 12.8393C12.8617 12.1615 11.0517 11.7143 9 11.7143C6.9483 11.7143 5.1383 12.1615 3.87314 12.8393Z"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg> ')],40,fn)),O.value&&!E.value?(rn$1(),an$1("div",{key:1,class:"head_button",onClick:t[3]||(t[3]=e=>(T.value=!1,M.value=!1,le(),chrome.storage.local.set({isCloud:!1}),E.value=!0,void we("homesignin")))},[vn$1("span",null,l(Se$1(C)),1)])):xn$1("v-if",!0),(rn$1(),an$1("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t[4]||(t[4]=e=>(1==O.value?me("https://gemoo.com/"):me(R+"/image",!O.value),void le())),onMouseenter:t[5]||(t[5]=e=>K(e,"home")),onMouseleave:t[6]||(t[6]=e=>U.value=!1)},wn,32)),(rn$1(),an$1("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:xe,onMouseenter:t[7]||(t[7]=e=>K(e,"about")),onMouseleave:t[8]||(t[8]=e=>U.value=!1)},_n,32)),xn$1(" user_info "),gn$1(lo,{name:"animation_box",persisted:""},{default:Se$2((()=>{return [at$1(vn$1("div",{class:"user_box",id:"userBox",onClick:t[14]||(t[14]=No((()=>{}),["stop"]))},[vn$1("div",{class:"user_info",onClick:t[13]||(t[13]=e=>me(Se$1(R)+"/recent",!0,!0))},[vn$1("div",yn,[P.data?.avatar?xn$1("v-if",!0):(rn$1(),an$1("div",{key:0,textContent:l(Se$1(Z)),style:s({backgroundColor:P.data?.avatar_color})},null,12,kn)),P.data?.avatar?(rn$1(),an$1("img",{key:1,src:P.data?.avatar,alt:""},null,8,Cn)):xn$1("v-if",!0)]),vn$1("div",Tn,[vn$1("div",null,[vn$1("p",{id:"userInfoName",onMouseenter:t[9]||(t[9]=e=>K(e,"userInfoName")),onMouseleave:t[10]||(t[10]=e=>U.value=!1)},l(P.data?.name),33),vn$1("div",{style:s({backgroundColor:Se$1(ne)})},[2==P.data.version?(rn$1(),an$1("img",{key:0,src:re$1("pro_icon"),alt:""},null,8,Mn)):xn$1("v-if",!0),bn$1(" "+l((e=P,0===e.data.version?(ne.value="#3BBA54","Free"):1===e.data.version?(ne.value="#2C67FF","Basic"):(ne.value="#FFAD4C","Pro"))),1)],4)]),vn$1("div",En,[vn$1("span",null,[vn$1("span",Ln,l(Math.floor(100*A.used)/100),1),bn$1("GB of "+l(A.capacity)+"GB used",1)]),vn$1("div",null,[vn$1("img",{src:re$1("Union"),alt:"",onMouseenter:t[11]||(t[11]=e=>K(e,"tip")),onMouseleave:t[12]||(t[12]=e=>U.value=!1)},null,40,Hn)])]),vn$1("div",{class:"size_strip",ref_key:"sizeStrip",ref:W},[vn$1("div",{ref_key:"sizeProgressBar",ref:B,style:s({"background-color":I.value>=100?"red":"#3bba54"})},null,4)],512)])]),Sn,vn$1("span",{onClick:ge},l(Se$1(d)),1)],512),[[Io,H.value]])];var e;})),_:1})])]),vn$1("div",Pn,[D.value?(rn$1(),un$1(Ot,{key:1,errPageLoading:F.value,onErrPageTohome:ve},null,8,["errPageLoading"])):(rn$1(),an$1("div",An,[E.value?(rn$1(),un$1(Et,{key:0,isCloud:T.value,onLoginSuccess:ce},null,8,["isCloud"])):(rn$1(),un$1(st,{key:1,onChageChoice:se,ref_key:"caputeMenuRef",ref:Q},null,512))])),at$1(vn$1("div",{class:"mask",onMousemove:J,onMouseleave:t[15]||(t[15]=e=>U.value=!1)},null,544),[[Io,!E.value&&!F.value&&N.value]])]),gn$1(sn,{coordinate:Y.value,isShow:G.value,onShowSiginView:t[16]||(t[16]=e=>(T.value=!0,void(E.value=!0))),onClosePopButton:t[17]||(t[17]=e=>le()),text:""},null,8,["coordinate","isShow"])]),(R$1.value,xn$1("v-if",!0)),gn$1($e,{coordinate:Y.value,isShow:U.value,text:q.value,align:V.value,id:"cornerMarker",ref_key:"cornerMarker",ref:$},null,8,["coordinate","isShow","text","align"])],40,ln)):xn$1("v-if",!0)}});Ro(".homepage[data-v-7b2f1262] {\n  width: 100%;\n  height: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  cursor: default;\n  position: fixed;\n  z-index: 999999;\n}\n.homepage[data-v-7b2f1262] .homepage_body[data-v-7b2f1262] {\n  width: 370px;\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  background: #fff;\n  box-shadow: 0 0 10px 0 rgba(227, 227, 227, 0.8);\n  border-radius: 10px;\n  padding: 20px;\n  padding-bottom: 0;\n}\n.homepage[data-v-7b2f1262] .homepage_body[data-v-7b2f1262] .body[data-v-7b2f1262] {\n  margin-top: 20px;\n}\n.head[data-v-7b2f1262] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.head_logo[data-v-7b2f1262] {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 600;\n}\n.head_logo[data-v-7b2f1262] img[data-v-7b2f1262] {\n  margin-right: 5px;\n}\n.head_logo[data-v-7b2f1262] p[data-v-7b2f1262] {\n  margin: 0;\n}\n.head_tool[data-v-7b2f1262] {\n  display: flex;\n  position: relative;\n  align-items: center;\n}\n.head_tool[data-v-7b2f1262] > img[data-v-7b2f1262] {\n  opacity: 0.6;\n  width: 18px;\n  height: 18px;\n  margin-right: 15px;\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-position: center center;\n  transition: all 0.2s;\n}\n.head_tool[data-v-7b2f1262] > img[data-v-7b2f1262][data-v-7b2f1262]:hover {\n  opacity: 1;\n}\n.head_tool[data-v-7b2f1262] .head_portrait[data-v-7b2f1262] {\n  margin-right: 15px;\n  font-size: 0;\n}\n.head_tool[data-v-7b2f1262] .head_portrait[data-v-7b2f1262] img[data-v-7b2f1262] {\n  width: 20px;\n  height: 20px;\n  margin: 0;\n  object-fit: cover;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.head_tool[data-v-7b2f1262] .head_portrait[data-v-7b2f1262] img[data-v-7b2f1262][data-v-7b2f1262]:last-child {\n  width: 18px;\n  height: 18px;\n  opacity: 0.3;\n  pointer-events: none;\n  margin-top: 4px;\n}\n.head_tool[data-v-7b2f1262] .head_portrait[data-v-7b2f1262] > div[data-v-7b2f1262] {\n  width: 20px;\n  height: 20px;\n  color: #fff;\n  border-radius: 50%;\n  margin-right: 15px;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  cursor: pointer;\n  margin: 0;\n}\n.user_box[data-v-7b2f1262] {\n  max-width: 270px;\n  height: 119px;\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  top: 34px;\n  box-sizing: border-box;\n  padding: 10px;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] {\n  width: 100%;\n  height: 56px;\n  border-radius: 5px;\n  background: #f5f5f5;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] > div[data-v-7b2f1262][data-v-7b2f1262]:first-child {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] > div[data-v-7b2f1262][data-v-7b2f1262]:first-child p[data-v-7b2f1262] {\n  color: #333333;\n  font-size: 14px;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 140px;\n  margin: 0;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] > div[data-v-7b2f1262][data-v-7b2f1262]:first-child div[data-v-7b2f1262] {\n  padding: 0 2px;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background: #3bba54;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 18px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] > div[data-v-7b2f1262][data-v-7b2f1262]:nth-child(2) {\n  color: #666666;\n  font-size: 12px;\n  font-weight: 500;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] .size_strip[data-v-7b2f1262] {\n  width: 100%;\n  height: 4px;\n  background: #e6e6e6;\n  border-radius: 10px;\n  margin: 4px 0;\n  overflow: hidden;\n}\n.user_box[data-v-7b2f1262] .user_info[data-v-7b2f1262] .info[data-v-7b2f1262] .size_strip[data-v-7b2f1262] div[data-v-7b2f1262] {\n  width: 0%;\n  height: 100%;\n  background: #3bba54;\n}\n.user_box[data-v-7b2f1262] .user_avatar[data-v-7b2f1262] {\n  margin-right: 10px;\n}\n.user_box[data-v-7b2f1262] .user_avatar[data-v-7b2f1262] img[data-v-7b2f1262] {\n  width: 46px;\n  height: 46px;\n  border-radius: 50%;\n  background: #2c67ff;\n  margin: 0;\n}\n.user_box[data-v-7b2f1262] .user_avatar[data-v-7b2f1262] > div[data-v-7b2f1262] {\n  width: 46px;\n  height: 46px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-size: 20px;\n}\n.user_box[data-v-7b2f1262] .user_info_line[data-v-7b2f1262] {\n  width: 100%;\n  height: 1px;\n  background: #e6e6e6;\n  margin: 10px 0;\n}\n.user_box[data-v-7b2f1262] > span[data-v-7b2f1262] {\n  color: #333333;\n  font-size: 14px;\n  cursor: pointer;\n}\n.user_box[data-v-7b2f1262] > span[data-v-7b2f1262][data-v-7b2f1262]:hover {\n  color: #3bba54;\n}\n"),Wn.__scopeId="data-v-7b2f1262",Wn.__file="src/content-scripts/Homepage.vue";const Bn={class:"gs-ext__guide-card"},zn={class:"gs-guide-card"},In=["src"],Rn={class:"gs-graph"},Dn=["src"];var Yn=Ke$1({__name:"GsGuideCard",setup(e){const t=re({got_it:chrome.i18n.getMessage("got_it"),capture_guide_1:chrome.i18n.getMessage("capture_guide_1"),capture_guide_2:chrome.i18n.getMessage("capture_guide_2")}),o=e=>chrome.runtime.getURL("assets/popup/"+e);function s(){window.postMessage({openGsGuide:0,from:"gs-confirm-btn"});}return (e,r)=>(rn$1(),an$1("div",Bn,[vn$1("div",zn,[vn$1("h3",null,[bn$1(l(t.capture_guide_1)+" ",1),vn$1("img",{width:"16",src:o("logo-main.png")},null,8,In),bn$1(" "+l(t.capture_guide_2),1)]),vn$1("div",{class:"gs-confirm-btn",onClick:s},l(t.got_it),1),vn$1("div",Rn,[vn$1("img",{src:o("gs-guide-open.gif")},null,8,Dn)])])]))}});Ro("\n.gemoo-snap-guide {\n\tposition: relative;\n}\n");Ro(".gs-ext__guide-card[data-v-7dacd1de] {\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  right: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 99;\n}\n.gs-ext__guide-card[data-v-7dacd1de] .gs-guide-card[data-v-7dacd1de] {\n  width: 280px;\n  position: fixed;\n  right: 78px;\n  top: 0;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-sizing: border-box;\n}\n.gs-ext__guide-card[data-v-7dacd1de] .gs-guide-card[data-v-7dacd1de] h3[data-v-7dacd1de] {\n  font-size: 16px;\n  font-weight: 700;\n  text-align: center;\n}\n.gs-ext__guide-card[data-v-7dacd1de] .gs-guide-card[data-v-7dacd1de] .gs-confirm-btn[data-v-7dacd1de] {\n  height: 36px;\n  border-radius: 5px;\n  background-color: #2c67ff;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 15px;\n  text-align: center;\n  line-height: 36px;\n  cursor: pointer;\n}\n.gs-ext__guide-card[data-v-7dacd1de] .gs-guide-card[data-v-7dacd1de] .gs-graph[data-v-7dacd1de] {\n  height: 220px;\n  background-color: green;\n  border-radius: 5px;\n  margin-top: 15px;\n}\n.gs-ext__guide-card[data-v-7dacd1de] .gs-guide-card[data-v-7dacd1de] .gs-graph[data-v-7dacd1de] img[data-v-7dacd1de] {\n  border-radius: 5px;\n}\n"),Yn.__scopeId="data-v-7dacd1de",Yn.__file="src/components/GsGuideCard/GsGuideCard.vue";const Un=["onClick"],Gn={class:"gs-guide-card"},qn=["src"],$n=["onClick"],Xn={class:"gs-graph"},jn=["src"];var Fn=Ke$1({__name:"GsInstallGuideCard",setup(e){const t=re({install_guide_tt:chrome.i18n.getMessage("install_guide_tt"),install_guide_ct:chrome.i18n.getMessage("install_guide_ct"),got_it:chrome.i18n.getMessage("got_it")}),o=e=>chrome.runtime.getURL("assets/popup/"+e);function s(){window.postMessage({option_message:"close_install_guide",from:"gs-confirm-btn"});}return (e,r)=>(rn$1(),an$1("div",{class:"gs-ext__guide-card",onClick:No(s,["stop"])},[vn$1("div",Gn,[vn$1("img",{class:"gs--logo",width:"28",src:o("logo-main@2x.png")},null,8,qn),vn$1("h3",null,l(t.install_guide_tt),1),vn$1("p",null,l(t.install_guide_ct),1),vn$1("div",{class:"gs-confirm-btn",onClick:No(s,["stop"])},l(t.got_it),9,$n),vn$1("div",Xn,[vn$1("img",{width:"250",src:o("install_guide.gif")},null,8,jn)])])],8,Un))}});Ro("\n.gemoo-snap-guide {\n\tposition: relative;\n}\n");Ro(".gs-ext__guide-card[data-v-4c151008] {\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: fixed;\n  right: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 2147483647;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] {\n  width: 280px;\n  position: fixed;\n  right: 78px;\n  top: 0;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-sizing: border-box;\n  text-align: center;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] > *[data-v-4c151008]:not(:first-child) {\n  margin-top: 10px;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] .gs--logo[data-v-4c151008] {\n  display: block;\n  margin: 0 auto;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] h3[data-v-4c151008] {\n  font-size: 16px !important;\n  font-weight: 500 !important;\n  color: #333333 !important;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] p[data-v-4c151008] {\n  font-size: 14px !important;\n  font-weight: 400 !important;\n  color: #666666 !important;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] .gs-confirm-btn[data-v-4c151008] {\n  height: 36px;\n  width: 100px;\n  border-radius: 5px;\n  background-color: #2c67ff;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 15px;\n  text-align: center;\n  line-height: 36px;\n  cursor: pointer;\n  margin-left: auto;\n  margin-right: auto;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] .gs-graph[data-v-4c151008] {\n  height: 220px;\n  background-color: green;\n  border-radius: 5px;\n  margin-top: 15px;\n}\n.gs-ext__guide-card[data-v-4c151008] .gs-guide-card[data-v-4c151008] .gs-graph[data-v-4c151008] img[data-v-4c151008] {\n  border-radius: 5px;\n}\n"),Fn.__scopeId="data-v-4c151008",Fn.__file="src/components/GsGuideCard/GsInstallGuideCard.vue";let Nn,Vn=null;window.addEventListener("message",(function(e){if(e.data.tripartiteToken&&e.data.tripartiteRefreshToken){let t=e.data.tripartiteToken;t=window.atob(t),t=t.slice(0,5)+t.slice(6),chrome.storage.local.set({access_token:t});let n=e.data.tripartiteRefreshToken;n=window.atob(n),n=n.slice(0,5)+n.slice(6),chrome.storage.local.set({refresh_token:n}),chrome.runtime.sendMessage({chromeLogin:!0});}function t$1(){if(e.data.cardId?chrome.storage.local.set({cardId:e.data.cardId,createPathShow:!0}):(chrome.storage.local.remove("cardId"),chrome.storage.local.remove("createPathShow")),e.data.cardPath){let t=e.data.cardPath.split("/");t=`{${t.join(" > ")}}`,chrome.storage.local.set({cardPath:t});}else chrome.storage.local.remove("cardPath");}"close_install_guide"===e.data.option_message&&(Vn&&(Vn=Vn()),chrome.runtime.sendMessage({option_message:"close_install_guide"})),1===e.data.openGsGuide?(window.postMessage({haveGemoo:!0,type:1}),t$1(),Vn=Jn()):0===e.data.openGsGuide?Vn&&(Vn=Vn()):1==e.data.gemooOpen?(window.postMessage({haveGemoo:!0,type:1}),Vn&&(Vn=Vn()),Kn(),o.openPageHome.value=!0,t$1()):0==e.data.gemooOpen&&(o.openPageHome.value=!1),e.data.token&&e.data.refreshtoken&&(chrome.storage.local.set({access_token:e.data.token}),chrome.storage.local.set({refresh_token:e.data.refreshtoken})),e.data.getRegisterInfo&&t("option").then((e=>{e&&window.postMessage({registerInfo:JSON.stringify(e)});}));})),document.onkeydown=e=>{const t=e||window.event;let n$1=!1;if(n$1="key"in t?"Escape"===t.key||"Esc"===t.key:27===t.keyCode,n$1){if(chrome.storage.local.set({isRegionScreen:!1}),chrome.storage.local.set({disableHomePage:!1}),l$1(o.fixedElements,""),window.location.href.includes("chat.openai"))for(let e=0;e<o.overflowHiddle.length;e++)o.overflowHiddle[e].style.overflow="hidden";c(),n();}};const On=(e,t="",n="",o={})=>{const a=document.querySelector("body");if(a){const i=document.createElement(n||"div");i.id=t||n$1,a.insertAdjacentElement("afterend",i);const s=Do(e,o);if("crx-edit"===t){let e=o;e&&"element"==e.captureType&&window.postMessage({type:"closeSelectDomElement"}),e&&"selected"==e.captureType&&window.postMessage({type:"closeSelectDomSelected"});}return s.mount(`#${t||n$1}`),s}};chrome.runtime.onMessage.addListener(((e,t,n)=>{const o$1=e;if("open_install_guide"===e.option_message?Vn=Jn(Fn):"close_install_guide"===e.option_message&&Vn&&(Vn=Vn()),"ext_ga_evt"===e.type){const{args:t}=e;ke(t[0],t[1],t[2]);}else "uploadover"===e.type&&window.postMessage({type:"uploadover"},"*");if("capture"===o$1.type){const e=o$1.data;switch(o.stopCapture=!1,e.id){case"capture_visible_part":a$1(e.extData);break;case"capture_full_page":const{fixedElements:t,absoluteElements:n,scrollElement:i,scrollHight:s,fixedBottomElements:r,stickyBottomElements:l}=s$1(!0);if(i){const e=document.documentElement.scrollHeight,t=document.body.scrollHeight;s>=e&&s>=t&&(document.documentElement.style.overflow="hidden");const n=i.getBoundingClientRect();o.scrollElementInfo=n;}r.forEach((e=>{const t=getComputedStyle(e).display;e.style.setProperty("display","none"),o.fixedBottomChangedList.push({elm:e,initStyle:t});})),l.forEach((e=>{const t=getComputedStyle(e).display;e.style.setProperty("display","none"),o.stickyBottomChangedList.push({elm:e,initStyle:t});})),h("gemoo_hide_root_scrollbar"),ve(o$1),chrome.runtime.sendMessage({...o$1,type:"show_progress"});break;case"capture_scroll_part":const{fixedElements:c,absoluteElements:d,scrollElement:p,fixedBottomElements:h$1,stickyBottomElements:u}=s$1(!0);if(p){const e=p.scrollHeight,t=document.documentElement.scrollHeight,n=document.body.scrollHeight;e>=t&&e>=n&&(document.documentElement.style.overflow="hidden");}else h$1.forEach((e=>{const t=getComputedStyle(e).display;e.style.setProperty("display","none"),o.fixedBottomChangedList.push({elm:e,initStyle:t});})),u.forEach((e=>{const t=getComputedStyle(e).display;e.style.setProperty("display","none"),o.stickyBottomChangedList.push({elm:e,initStyle:t});}));h("gemoo_hide_root_scrollbar");for(const e of c);if(window.location.href.includes("chat.openai")){let e=document.getElementsByClassName("overflow-hidden");o.overflowHiddle=e;for(let t=0;t<e.length;t++)e[t].style.overflow="inherit";for(const e of d)e.style.display="none";}(e=>{const t=On(De);t&&(t.config.globalProperties.store={type:e});})(e.id);break;case"capture_select_area":((e,t)=>{const n=On(Ye);n&&(n.config.globalProperties.store={type:e,data:t});})(e.id,e.extData);break;case"capture_snippet":(e=>{On(Ge),o.data=e;})(e);break;case"capture_screen":case"capture_tab":case"capture_window":Qn(e.extData);break;case"edit_view":a=e.option,On(qe,"crx-edit","",a);}n({msg:"ok"});}else if("scroll_capture"===o$1.type)ve(o$1),n({msg:"ok"});else if("stop_capture"===o$1.type)chrome.storage.local.set({isScrollerScreen:!1}),o.stopCapture=!0;else if(1==e.openHomePage)Vn&&(Vn=Vn()),Kn(),o.openPageHome.value=!o.openPageHome.value,n();else if(0==e.openHomePage)o.openPageHome.value=!1,n();else if("menu"==e.rightMenu)1==e.type?(a$2(e$1[4],(()=>{})),chrome.storage.local.set({screenType:"scrolling"})):2==e.type?(a$2(e$1[3],(()=>{})),chrome.storage.local.set({screenType:"selected"})):3==e.type?(a$2(e$1[2],(()=>{})),chrome.storage.local.set({screenType:"element"})):4==e.type?(chrome.storage.local.set({isHaveScroll:!1,rect:{x:0,y:0,w:window.innerWidth,h:window.innerHeight}}),a$2(e$1[0],(()=>{})),chrome.storage.local.set({screenType:"visible"})):5==e.type&&(a$2(e$1[5],(()=>{})),chrome.storage.local.set({screenType:"browser"}));else if(1==e.loadingShow)Nn=1==e.loadingShowIsErr?eo($t,!0):eo($t,!1),n();else if(0==e.loadingShow)Nn&&(Nn.remove(),Nn=""),n();else if(1==e.imgThumbnail){if(!e.data)return;let t="";t="string"==typeof e.data?e.data:e.data.extData,T(t,460,290,null).then((e=>{chrome.runtime.sendMessage({imgThumbnail:!0,thumbnailData:e,coverData:t});}));}else if(e.isContry)chrome.storage.local.set({option:e.options});else if(!0===e.isCopy){let t=null;t="string"==typeof e.data?e.data:e.data.extData,e.rect.x=0,e.rect.y=0,ue(t,{...e.rect},!0);}var a;return !0}));const Qn=e=>{let t,n;navigator.mediaDevices.getUserMedia({video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}}}).then((e=>{t=e.getVideoTracks()[0];return new ImageCapture(t).grabFrame()})).then((e=>(t.stop(),n=document.createElement("canvas"),n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height),n.toDataURL()))).then(Zn);},Zn=e=>{chrome.runtime.sendMessage({type:"base64",data:e});},Kn=()=>{o.app||(o.app=On(Wn,"gemoo-home-page-snap","gemoo-home"));},Jn=e=>{const t=On(e||Yn,"gemoo-snap-guide","gemoo-guide");return function(){return t?.unmount(),document.getElementById("gemoo-snap-guide")?.remove(),null}};function eo(e,t=!1){const n=document.querySelector("body");if(n){const o=document.createElement("gemoo-loading");o.id="gemoo-loading",n.insertAdjacentElement("afterend",o);return Do(e,{isErr:t,lodingDom:o}).mount("#gemoo-loading"),o}}t("isjumpGemoo").then((e=>{e&&-1!=document.baseURI.search("https://gemoo.com/")&&(Kn(),o.openPageHome.value=!0);})),chrome.storage.local.set({isjumpGemoo:!1});
