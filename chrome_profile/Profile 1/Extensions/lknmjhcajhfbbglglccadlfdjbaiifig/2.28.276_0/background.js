var background=function(){"use strict";function zC(n){return n==null||typeof n=="function"?{main:n}:n}var Ke;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const c of i)s[c]=c;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),c={};for(const u of s)c[u]=i[u];return n.objectValues(c)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&s.push(c);return s},n.find=(i,s)=>{for(const c of i)if(s(c))return c},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ke||(Ke={}));var Cp;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Cp||(Cp={}));const ye=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=n=>{switch(typeof n){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(n)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(n)?ye.array:n===null?ye.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ye.promise:typeof Map<"u"&&n instanceof Map?ye.map:typeof Set<"u"&&n instanceof Set?ye.set:typeof Date<"u"&&n instanceof Date?ye.date:ye.object;default:return ye.unknown}},ae=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$C=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Fn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const c of s.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)r._errors.push(t(c));else{let u=r,m=0;for(;m<c.path.length;){const p=c.path[m];m===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(t(c))):u[p]=u[p]||{_errors:[]},u=u[p],m++}}};return i(this),r}static assert(e){if(!(e instanceof Fn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Fn.create=n=>new Fn(n);const wa=(n,e)=>{let t;switch(n.code){case ae.invalid_type:n.received===ye.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ae.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ke.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ke.joinValues(n.keys,", ")}`;break;case ae.invalid_union:t="Invalid input";break;case ae.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ke.joinValues(n.options)}`;break;case ae.invalid_enum_value:t=`Invalid enum value. Expected ${Ke.joinValues(n.options)}, received '${n.received}'`;break;case ae.invalid_arguments:t="Invalid function arguments";break;case ae.invalid_return_type:t="Invalid function return type";break;case ae.invalid_date:t="Invalid date";break;case ae.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ke.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ae.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ae.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ae.custom:t="Invalid input";break;case ae.invalid_intersection_types:t="Intersection results could not be merged";break;case ae.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ae.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ke.assertNever(n)}return{message:t}};let wE=wa;function BC(n){wE=n}function Nd(){return wE}const Dd=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],c={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const m=r.filter(p=>!!p).slice().reverse();for(const p of m)u=p(c,{data:e,defaultError:u}).message;return{...i,path:s,message:u}},qC=[];function me(n,e){const t=Nd(),r=Dd({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===wa?void 0:wa].filter(i=>!!i)});n.common.issues.push(r)}class an{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Ne;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,c=await i.value;r.push({key:s,value:c})}return an.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:c}=i;if(s.status==="aborted"||c.status==="aborted")return Ne;s.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(r[s.value]=c.value)}return{status:e.value,value:r}}}const Ne=Object.freeze({status:"aborted"}),Ea=n=>({status:"dirty",value:n}),yn=n=>({status:"valid",value:n}),xp=n=>n.status==="aborted",Op=n=>n.status==="dirty",ds=n=>n.status==="valid",ol=n=>typeof Promise<"u"&&n instanceof Promise;function Md(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function EE(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}typeof SuppressedError=="function"&&SuppressedError;var Te;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));var sl,al;class qr{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bE=(n,e)=>{if(ds(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Fn(n.common.issues);return this._error=t,this._error}}};function Ve(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,u)=>{var m,p;const{message:y}=n;return c.code==="invalid_enum_value"?{message:y??u.defaultError}:typeof u.data>"u"?{message:(m=y??r)!==null&&m!==void 0?m:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(p=y??t)!==null&&p!==void 0?p:u.defaultError}},description:i}}class ze{get description(){return this._def.description}_getType(e){return gi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new an,ctx:{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ol(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return bE(i,s)}"~validate"(e){var t,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ds(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ds(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ol(i)?i:Promise.resolve(i));return bE(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const c=e(i),u=()=>s.addIssue({code:ae.custom,...r(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new wr({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Gr.create(this,this._def)}nullable(){return co.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vr.create(this)}promise(){return Sa.create(this,this._def)}or(e){return dl.create([this,e],this._def)}and(e){return fl.create(this,e,this._def)}transform(e){return new wr({...Ve(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new yl({...Ve(this._def),innerType:this,defaultValue:t,typeName:xe.ZodDefault})}brand(){return new Mp({typeName:xe.ZodBranded,type:this,...Ve(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new _l({...Ve(this._def),innerType:this,catchValue:t,typeName:xe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return vl.create(this,e)}readonly(){return wl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HC=/^c[^\s-]{8,}$/i,GC=/^[0-9a-z]+$/,WC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QC=/^[a-z0-9_-]{21}$/i,JC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Np;const ex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ix=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ox=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sx=new RegExp(`^${TE}$`);function AE(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ax(n){return new RegExp(`^${AE(n)}$`)}function SE(n){let e=`${TE}T${AE(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function cx(n,e){return!!((e==="v4"||!e)&&ex.test(n)||(e==="v6"||!e)&&nx.test(n))}function lx(n,e){if(!JC.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function ux(n,e){return!!((e==="v4"||!e)&&tx.test(n)||(e==="v6"||!e)&&rx.test(n))}class _r extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const s=this._getOrReturnCtx(e);return me(s,{code:ae.invalid_type,expected:ye.string,received:s.parsedType}),Ne}const r=new an;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),me(i,{code:ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),me(i,{code:ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const c=e.data.length>s.value,u=e.data.length<s.value;(c||u)&&(i=this._getOrReturnCtx(e,i),c?me(i,{code:ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&me(i,{code:ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ZC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"email",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Np||(Np=new RegExp(XC,"u")),Np.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"emoji",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")KC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"uuid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")QC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"nanoid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")HC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"cuid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")GC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"cuid2",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")WC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"ulid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),me(i,{validation:"url",code:ae.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"regex",code:ae.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?SE(s).test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?sx.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ax(s).test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{code:ae.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?YC.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"duration",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?cx(e.data,s.version)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"ip",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?lx(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"jwt",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ux(e.data,s.version)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"cidr",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?ix.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"base64",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?ox.test(e.data)||(i=this._getOrReturnCtx(e,i),me(i,{validation:"base64url",code:ae.invalid_string,message:s.message}),r.dirty()):Ke.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:ae.invalid_string,...Te.errToObj(r)})}_addCheck(e){return new _r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Te.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Te.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Te.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Te.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Te.errToObj(t)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new _r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_r.create=n=>{var e;return new _r({checks:[],typeName:xe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ve(n)})};function dx(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),c=parseInt(e.toFixed(i).replace(".",""));return s%c/Math.pow(10,i)}class oo extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const s=this._getOrReturnCtx(e);return me(s,{code:ae.invalid_type,expected:ye.number,received:s.parsedType}),Ne}let r;const i=new an;for(const s of this._def.checks)s.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:ae.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?dx(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:ae.not_finite,message:s.message}),i.dirty()):Ke.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Te.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Te.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Te.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Te.toString(t))}setLimit(e,t,r,i){return new oo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Te.toString(i)}]})}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}oo.create=n=>new oo({checks:[],typeName:xe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ve(n)});class so extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const i=new an;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ke.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return me(t,{code:ae.invalid_type,expected:ye.bigint,received:t.parsedType}),Ne}gte(e,t){return this.setLimit("min",e,!0,Te.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Te.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Te.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Te.toString(t))}setLimit(e,t,r,i){return new so({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Te.toString(i)}]})}_addCheck(e){return new so({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}so.create=n=>{var e;return new so({checks:[],typeName:xe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ve(n)})};class cl extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.boolean,received:r.parsedType}),Ne}return yn(e.data)}}cl.create=n=>new cl({typeName:xe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ve(n)});class fs extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const s=this._getOrReturnCtx(e);return me(s,{code:ae.invalid_type,expected:ye.date,received:s.parsedType}),Ne}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return me(s,{code:ae.invalid_date}),Ne}const r=new an;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),me(i,{code:ae.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),me(i,{code:ae.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ke.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fs({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}fs.create=n=>new fs({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:xe.ZodDate,...Ve(n)});class Ld extends ze{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.symbol,received:r.parsedType}),Ne}return yn(e.data)}}Ld.create=n=>new Ld({typeName:xe.ZodSymbol,...Ve(n)});class ll extends ze{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.undefined,received:r.parsedType}),Ne}return yn(e.data)}}ll.create=n=>new ll({typeName:xe.ZodUndefined,...Ve(n)});class ul extends ze{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.null,received:r.parsedType}),Ne}return yn(e.data)}}ul.create=n=>new ul({typeName:xe.ZodNull,...Ve(n)});class ba extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return yn(e.data)}}ba.create=n=>new ba({typeName:xe.ZodAny,...Ve(n)});class ms extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yn(e.data)}}ms.create=n=>new ms({typeName:xe.ZodUnknown,...Ve(n)});class yi extends ze{_parse(e){const t=this._getOrReturnCtx(e);return me(t,{code:ae.invalid_type,expected:ye.never,received:t.parsedType}),Ne}}yi.create=n=>new yi({typeName:xe.ZodNever,...Ve(n)});class Fd extends ze{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.void,received:r.parsedType}),Ne}return yn(e.data)}}Fd.create=n=>new Fd({typeName:xe.ZodVoid,...Ve(n)});class vr extends ze{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ye.array)return me(t,{code:ae.invalid_type,expected:ye.array,received:t.parsedType}),Ne;if(i.exactLength!==null){const c=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(c||u)&&(me(t,{code:c?ae.too_big:ae.too_small,minimum:u?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(me(t,{code:ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(me(t,{code:ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((c,u)=>i.type._parseAsync(new qr(t,c,t.path,u)))).then(c=>an.mergeArray(r,c));const s=[...t.data].map((c,u)=>i.type._parseSync(new qr(t,c,t.path,u)));return an.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new vr({...this._def,minLength:{value:e,message:Te.toString(t)}})}max(e,t){return new vr({...this._def,maxLength:{value:e,message:Te.toString(t)}})}length(e,t){return new vr({...this._def,exactLength:{value:e,message:Te.toString(t)}})}nonempty(e){return this.min(1,e)}}vr.create=(n,e)=>new vr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ve(e)});function Ta(n){if(n instanceof vt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Gr.create(Ta(r))}return new vt({...n._def,shape:()=>e})}else return n instanceof vr?new vr({...n._def,type:Ta(n.element)}):n instanceof Gr?Gr.create(Ta(n.unwrap())):n instanceof co?co.create(Ta(n.unwrap())):n instanceof Hr?Hr.create(n.items.map(e=>Ta(e))):n}class vt extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ke.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ye.object){const p=this._getOrReturnCtx(e);return me(p,{code:ae.invalid_type,expected:ye.object,received:p.parsedType}),Ne}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof yi&&this._def.unknownKeys==="strip"))for(const p in i.data)c.includes(p)||u.push(p);const m=[];for(const p of c){const y=s[p],w=i.data[p];m.push({key:{status:"valid",value:p},value:y._parse(new qr(i,w,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof yi){const p=this._def.unknownKeys;if(p==="passthrough")for(const y of u)m.push({key:{status:"valid",value:y},value:{status:"valid",value:i.data[y]}});else if(p==="strict")u.length>0&&(me(i,{code:ae.unrecognized_keys,keys:u}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const y of u){const w=i.data[y];m.push({key:{status:"valid",value:y},value:p._parse(new qr(i,w,i.path,y)),alwaysSet:y in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const y of m){const w=await y.key,b=await y.value;p.push({key:w,value:b,alwaysSet:y.alwaysSet})}return p}).then(p=>an.mergeObjectSync(r,p)):an.mergeObjectSync(r,m)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,c,u;const m=(c=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&c!==void 0?c:r.defaultError;return t.code==="unrecognized_keys"?{message:(u=Te.errToObj(e).message)!==null&&u!==void 0?u:m}:{message:m}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const t={};return Ke.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new vt({...this._def,shape:()=>t})}omit(e){const t={};return Ke.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new vt({...this._def,shape:()=>t})}deepPartial(){return Ta(this)}partial(e){const t={};return Ke.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new vt({...this._def,shape:()=>t})}required(e){const t={};return Ke.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Gr;)s=s._def.innerType;t[r]=s}}),new vt({...this._def,shape:()=>t})}keyof(){return IE(Ke.objectKeys(this.shape))}}vt.create=(n,e)=>new vt({shape:()=>n,unknownKeys:"strip",catchall:yi.create(),typeName:xe.ZodObject,...Ve(e)}),vt.strictCreate=(n,e)=>new vt({shape:()=>n,unknownKeys:"strict",catchall:yi.create(),typeName:xe.ZodObject,...Ve(e)}),vt.lazycreate=(n,e)=>new vt({shape:n,unknownKeys:"strip",catchall:yi.create(),typeName:xe.ZodObject,...Ve(e)});class dl extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const c=s.map(u=>new Fn(u.ctx.common.issues));return me(t,{code:ae.invalid_union,unionErrors:c}),Ne}if(t.common.async)return Promise.all(r.map(async s=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(i);{let s;const c=[];for(const m of r){const p={...t,common:{...t.common,issues:[]},parent:null},y=m._parseSync({data:t.data,path:t.path,parent:p});if(y.status==="valid")return y;y.status==="dirty"&&!s&&(s={result:y,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const u=c.map(m=>new Fn(m));return me(t,{code:ae.invalid_union,unionErrors:u}),Ne}}get options(){return this._def.options}}dl.create=(n,e)=>new dl({options:n,typeName:xe.ZodUnion,...Ve(e)});const _i=n=>n instanceof hl?_i(n.schema):n instanceof wr?_i(n.innerType()):n instanceof pl?[n.value]:n instanceof ao?n.options:n instanceof gl?Ke.objectValues(n.enum):n instanceof yl?_i(n._def.innerType):n instanceof ll?[void 0]:n instanceof ul?[null]:n instanceof Gr?[void 0,..._i(n.unwrap())]:n instanceof co?[null,..._i(n.unwrap())]:n instanceof Mp||n instanceof wl?_i(n.unwrap()):n instanceof _l?_i(n._def.innerType):[];class Vd extends ze{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.object)return me(t,{code:ae.invalid_type,expected:ye.object,received:t.parsedType}),Ne;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(me(t,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const c=_i(s.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,s)}}return new Vd({typeName:xe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Ve(r)})}}function Dp(n,e){const t=gi(n),r=gi(e);if(n===e)return{valid:!0,data:n};if(t===ye.object&&r===ye.object){const i=Ke.objectKeys(e),s=Ke.objectKeys(n).filter(u=>i.indexOf(u)!==-1),c={...n,...e};for(const u of s){const m=Dp(n[u],e[u]);if(!m.valid)return{valid:!1};c[u]=m.data}return{valid:!0,data:c}}else if(t===ye.array&&r===ye.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const c=n[s],u=e[s],m=Dp(c,u);if(!m.valid)return{valid:!1};i.push(m.data)}return{valid:!0,data:i}}else return t===ye.date&&r===ye.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class fl extends ze{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,c)=>{if(xp(s)||xp(c))return Ne;const u=Dp(s.value,c.value);return u.valid?((Op(s)||Op(c))&&t.dirty(),{status:t.value,value:u.data}):(me(r,{code:ae.invalid_intersection_types}),Ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,c])=>i(s,c)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fl.create=(n,e,t)=>new fl({left:n,right:e,typeName:xe.ZodIntersection,...Ve(t)});class Hr extends ze{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return me(r,{code:ae.invalid_type,expected:ye.array,received:r.parsedType}),Ne;if(r.data.length<this._def.items.length)return me(r,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((c,u)=>{const m=this._def.items[u]||this._def.rest;return m?m._parse(new qr(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(s).then(c=>an.mergeArray(t,c)):an.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Hr({...this._def,rest:e})}}Hr.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hr({items:n,typeName:xe.ZodTuple,rest:null,...Ve(e)})};class ml extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.object)return me(r,{code:ae.invalid_type,expected:ye.object,received:r.parsedType}),Ne;const i=[],s=this._def.keyType,c=this._def.valueType;for(const u in r.data)i.push({key:s._parse(new qr(r,u,r.path,u)),value:c._parse(new qr(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?an.mergeObjectAsync(t,i):an.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ze?new ml({keyType:e,valueType:t,typeName:xe.ZodRecord,...Ve(r)}):new ml({keyType:_r.create(),valueType:e,typeName:xe.ZodRecord,...Ve(t)})}}class jd extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return me(r,{code:ae.invalid_type,expected:ye.map,received:r.parsedType}),Ne;const i=this._def.keyType,s=this._def.valueType,c=[...r.data.entries()].map(([u,m],p)=>({key:i._parse(new qr(r,u,r.path,[p,"key"])),value:s._parse(new qr(r,m,r.path,[p,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const m of c){const p=await m.key,y=await m.value;if(p.status==="aborted"||y.status==="aborted")return Ne;(p.status==="dirty"||y.status==="dirty")&&t.dirty(),u.set(p.value,y.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const m of c){const p=m.key,y=m.value;if(p.status==="aborted"||y.status==="aborted")return Ne;(p.status==="dirty"||y.status==="dirty")&&t.dirty(),u.set(p.value,y.value)}return{status:t.value,value:u}}}}jd.create=(n,e,t)=>new jd({valueType:e,keyType:n,typeName:xe.ZodMap,...Ve(t)});class hs extends ze{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return me(r,{code:ae.invalid_type,expected:ye.set,received:r.parsedType}),Ne;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(me(r,{code:ae.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(me(r,{code:ae.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function c(m){const p=new Set;for(const y of m){if(y.status==="aborted")return Ne;y.status==="dirty"&&t.dirty(),p.add(y.value)}return{status:t.value,value:p}}const u=[...r.data.values()].map((m,p)=>s._parse(new qr(r,m,r.path,p)));return r.common.async?Promise.all(u).then(m=>c(m)):c(u)}min(e,t){return new hs({...this._def,minSize:{value:e,message:Te.toString(t)}})}max(e,t){return new hs({...this._def,maxSize:{value:e,message:Te.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}hs.create=(n,e)=>new hs({valueType:n,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ve(e)});class Aa extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.function)return me(t,{code:ae.invalid_type,expected:ye.function,received:t.parsedType}),Ne;function r(u,m){return Dd({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Nd(),wa].filter(p=>!!p),issueData:{code:ae.invalid_arguments,argumentsError:m}})}function i(u,m){return Dd({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Nd(),wa].filter(p=>!!p),issueData:{code:ae.invalid_return_type,returnTypeError:m}})}const s={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof Sa){const u=this;return yn(async function(...m){const p=new Fn([]),y=await u._def.args.parseAsync(m,s).catch(k=>{throw p.addIssue(r(m,k)),p}),w=await Reflect.apply(c,this,y);return await u._def.returns._def.type.parseAsync(w,s).catch(k=>{throw p.addIssue(i(w,k)),p})})}else{const u=this;return yn(function(...m){const p=u._def.args.safeParse(m,s);if(!p.success)throw new Fn([r(m,p.error)]);const y=Reflect.apply(c,this,p.data),w=u._def.returns.safeParse(y,s);if(!w.success)throw new Fn([i(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Aa({...this._def,args:Hr.create(e).rest(ms.create())})}returns(e){return new Aa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Aa({args:e||Hr.create([]).rest(ms.create()),returns:t||ms.create(),typeName:xe.ZodFunction,...Ve(r)})}}class hl extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}hl.create=(n,e)=>new hl({getter:n,typeName:xe.ZodLazy,...Ve(e)});class pl extends ze{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return me(t,{received:t.data,code:ae.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}pl.create=(n,e)=>new pl({value:n,typeName:xe.ZodLiteral,...Ve(e)});function IE(n,e){return new ao({values:n,typeName:xe.ZodEnum,...Ve(e)})}class ao extends ze{constructor(){super(...arguments),sl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return me(t,{expected:Ke.joinValues(r),received:t.parsedType,code:ae.invalid_type}),Ne}if(Md(this,sl)||EE(this,sl,new Set(this._def.values)),!Md(this,sl).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return me(t,{received:t.data,code:ae.invalid_enum_value,options:r}),Ne}return yn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ao.create(e,{...this._def,...t})}exclude(e,t=this._def){return ao.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}sl=new WeakMap,ao.create=IE;class gl extends ze{constructor(){super(...arguments),al.set(this,void 0)}_parse(e){const t=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const i=Ke.objectValues(t);return me(r,{expected:Ke.joinValues(i),received:r.parsedType,code:ae.invalid_type}),Ne}if(Md(this,al)||EE(this,al,new Set(Ke.getValidEnumValues(this._def.values))),!Md(this,al).has(e.data)){const i=Ke.objectValues(t);return me(r,{received:r.data,code:ae.invalid_enum_value,options:i}),Ne}return yn(e.data)}get enum(){return this._def.values}}al=new WeakMap,gl.create=(n,e)=>new gl({values:n,typeName:xe.ZodNativeEnum,...Ve(e)});class Sa extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.promise&&t.common.async===!1)return me(t,{code:ae.invalid_type,expected:ye.promise,received:t.parsedType}),Ne;const r=t.parsedType===ye.promise?t.data:Promise.resolve(t.data);return yn(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Sa.create=(n,e)=>new Sa({type:n,typeName:xe.ZodPromise,...Ve(e)});class wr extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:c=>{me(r,c),c.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const c=i.transform(r.data,s);if(r.common.async)return Promise.resolve(c).then(async u=>{if(t.value==="aborted")return Ne;const m=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return m.status==="aborted"?Ne:m.status==="dirty"||t.value==="dirty"?Ea(m.value):m});{if(t.value==="aborted")return Ne;const u=this._def.schema._parseSync({data:c,path:r.path,parent:r});return u.status==="aborted"?Ne:u.status==="dirty"||t.value==="dirty"?Ea(u.value):u}}if(i.type==="refinement"){const c=u=>{const m=i.refinement(u,s);if(r.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ne:(u.status==="dirty"&&t.dirty(),c(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ne:(u.status==="dirty"&&t.dirty(),c(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ds(c))return c;const u=i.transform(c.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>ds(c)?Promise.resolve(i.transform(c.value,s)).then(u=>({status:t.value,value:u})):c);Ke.assertNever(i)}}wr.create=(n,e,t)=>new wr({schema:n,typeName:xe.ZodEffects,effect:e,...Ve(t)}),wr.createWithPreprocess=(n,e,t)=>new wr({schema:e,effect:{type:"preprocess",transform:n},typeName:xe.ZodEffects,...Ve(t)});class Gr extends ze{_parse(e){return this._getType(e)===ye.undefined?yn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gr.create=(n,e)=>new Gr({innerType:n,typeName:xe.ZodOptional,...Ve(e)});class co extends ze{_parse(e){return this._getType(e)===ye.null?yn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}co.create=(n,e)=>new co({innerType:n,typeName:xe.ZodNullable,...Ve(e)});class yl extends ze{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yl.create=(n,e)=>new yl({innerType:n,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class _l extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ol(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_l.create=(n,e)=>new _l({innerType:n,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class Ud extends ze{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:ye.nan,received:r.parsedType}),Ne}return{status:"valid",value:e.data}}}Ud.create=n=>new Ud({typeName:xe.ZodNaN,...Ve(n)});const fx=Symbol("zod_brand");class Mp extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class vl extends ze{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ne:s.status==="dirty"?(t.dirty(),Ea(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ne:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new vl({in:e,out:t,typeName:xe.ZodPipeline})}}class wl extends ze{_parse(e){const t=this._def.innerType._parse(e),r=i=>(ds(i)&&(i.value=Object.freeze(i.value)),i);return ol(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}wl.create=(n,e)=>new wl({innerType:n,typeName:xe.ZodReadonly,...Ve(e)});function kE(n,e={},t){return n?ba.create().superRefine((r,i)=>{var s,c;if(!n(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,m=(c=(s=u.fatal)!==null&&s!==void 0?s:t)!==null&&c!==void 0?c:!0,p=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...p,fatal:m})}}):ba.create()}const mx={object:vt.lazycreate};var xe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(xe||(xe={}));const hx=(n,e={message:`Input not instance of ${n.name}`})=>kE(t=>t instanceof n,e),RE=_r.create,PE=oo.create,px=Ud.create,gx=so.create,CE=cl.create,yx=fs.create,_x=Ld.create,vx=ll.create,wx=ul.create,Ex=ba.create,bx=ms.create,Tx=yi.create,Ax=Fd.create,Sx=vr.create,Ix=vt.create,kx=vt.strictCreate,Rx=dl.create,Px=Vd.create,Cx=fl.create,xx=Hr.create,Ox=ml.create,Nx=jd.create,Dx=hs.create,Mx=Aa.create,Lx=hl.create,Fx=pl.create,Vx=ao.create,jx=gl.create,Ux=Sa.create,xE=wr.create,zx=Gr.create,$x=co.create,Bx=wr.createWithPreprocess,qx=vl.create;var h=Object.freeze({__proto__:null,defaultErrorMap:wa,setErrorMap:BC,getErrorMap:Nd,makeIssue:Dd,EMPTY_PATH:qC,addIssueToContext:me,ParseStatus:an,INVALID:Ne,DIRTY:Ea,OK:yn,isAborted:xp,isDirty:Op,isValid:ds,isAsync:ol,get util(){return Ke},get objectUtil(){return Cp},ZodParsedType:ye,getParsedType:gi,ZodType:ze,datetimeRegex:SE,ZodString:_r,ZodNumber:oo,ZodBigInt:so,ZodBoolean:cl,ZodDate:fs,ZodSymbol:Ld,ZodUndefined:ll,ZodNull:ul,ZodAny:ba,ZodUnknown:ms,ZodNever:yi,ZodVoid:Fd,ZodArray:vr,ZodObject:vt,ZodUnion:dl,ZodDiscriminatedUnion:Vd,ZodIntersection:fl,ZodTuple:Hr,ZodRecord:ml,ZodMap:jd,ZodSet:hs,ZodFunction:Aa,ZodLazy:hl,ZodLiteral:pl,ZodEnum:ao,ZodNativeEnum:gl,ZodPromise:Sa,ZodEffects:wr,ZodTransformer:wr,ZodOptional:Gr,ZodNullable:co,ZodDefault:yl,ZodCatch:_l,ZodNaN:Ud,BRAND:fx,ZodBranded:Mp,ZodPipeline:vl,ZodReadonly:wl,custom:kE,Schema:ze,ZodSchema:ze,late:mx,get ZodFirstPartyTypeKind(){return xe},coerce:{string:n=>_r.create({...n,coerce:!0}),number:n=>oo.create({...n,coerce:!0}),boolean:n=>cl.create({...n,coerce:!0}),bigint:n=>so.create({...n,coerce:!0}),date:n=>fs.create({...n,coerce:!0})},any:Ex,array:Sx,bigint:gx,boolean:CE,date:yx,discriminatedUnion:Px,effect:xE,enum:Vx,function:Mx,instanceof:hx,intersection:Cx,lazy:Lx,literal:Fx,map:Nx,nan:px,nativeEnum:jx,never:Tx,null:wx,nullable:$x,number:PE,object:Ix,oboolean:()=>CE().optional(),onumber:()=>PE().optional(),optional:zx,ostring:()=>RE().optional(),pipeline:qx,preprocess:Bx,promise:Ux,record:Ox,set:Dx,strictObject:kx,string:RE,symbol:_x,transformer:xE,tuple:xx,undefined:vx,union:Rx,unknown:bx,void:Ax,NEVER:Ne,ZodIssueCode:ae,quotelessJson:$C,ZodError:Fn});const ps={GOOGLE_MEET:"googleMeet",ZOOM:"zoom",MICROSOFT_TEAMS:"microsoftTeams"},OE=/https:\/\/meet\.google\.com\/([a-z]{3}-[a-z]{4}-[a-z]{3})/,Hx=n=>{OE.lastIndex=0;const e=OE.exec(n);if(e)return{provider:ps.GOOGLE_MEET,conferenceLink:e[0],conferenceId:e[1]}},NE=/https?:\/\/teams\.(live|microsoft)\.com\/[-a-zA-Z0-9()@:%_+.,~#?&/={}"]+[-a-zA-Z0-9()@:%_+~#?&/={}]/,DE=/^\/meet\/(\d{7,})$/;function Gx(n){try{const e=new URL(n);DE.lastIndex=0;const t=DE.exec(e.pathname);if(t){const r={provider:ps.MICROSOFT_TEAMS,conferenceLink:n,conferenceId:t[1]},i=e.searchParams.get("p");return i&&(r.conferencePasscode=i),r}}catch{}}const ME=/^\/l\/meetup-join\/(.+)$/;function Wx(n){try{const e=new URL(n);ME.lastIndex=0;const t=ME.exec(e.pathname);if(t){const r=decodeURIComponent(t[1]),i=e.searchParams.get("context");return i?{provider:ps.MICROSOFT_TEAMS,conferenceLink:`https://teams.microsoft.com/l/meetup-join/${r}?context=${encodeURIComponent(i)}`,conferenceId:r}:void 0}}catch{}}const Kx=n=>{NE.lastIndex=0;const e=NE.exec(n);if(e){if(e[1]==="live")return Gx(e[0]);if(e[1]==="microsoft")return Wx(e[0])}},LE=/https:\/\/([A-Za-z0-9\\-]+\.)?(zoom|zoom-x)\.(us|com|de)\/(j|my)\/(\w+)(\?pwd=([\w\d\-.]+[\w\d-]))?/,FE=/^.*Passcode: ([\w\d]+).*/gm,Qx=n=>{LE.lastIndex=0;const e=LE.exec(n);if(e){const[,t,r,i,s,c,u,m]=e,p=t?`${t}`:"",y={provider:ps.ZOOM,conferenceLink:`https://${p}${r}.${i}/${s}/${c}${u||""}`,conferenceId:c,conferencePasscode:m};if(!y.conferencePasscode){FE.lastIndex=0;const w=FE.exec(n);w&&(y.conferencePasscode=w[1])}return y}},Jx={googleMeet:Hx,zoom:Qx,microsoftTeams:Kx},Yx=[ps.ZOOM,ps.MICROSOFT_TEAMS,ps.GOOGLE_MEET];function VE(n,e=Yx){return e.map(t=>Jx[t](n)).filter(t=>!!t)}const Zx=12,jE={LATEST:"latest"};var Wr=(n=>(n.IDLE="idle",n.JOINED="joined",n.RECORDING="recording",n.WAITING_ROOM="waitingRoom",n.KICKED_OUT="kickedOut",n.BOT_ALREADY_KICKED_OUT="failedBecauseBotAlreadyKickedOut",n.ENDED_ON_MEETING_ROOM="failedBecauseMeetingEndedWhileInWaitingRoom",n.MEETING_REQUIRES_SIGN_IN="failedBecauseMeetingRequiresSignIn",n.PASSWORD_REQUIRED="failedBecauseNoPasswordWasSet",n.INVALID_LINK="failedBecauseInvalidLink",n.SUCCESSFUL="successful",n.RESERVED="reserved",n.PENDING="pending",n.FAILED="failed",n.PROCESSING="processing",n.UPLOADING="uploading",n.WAITING_ROOM_TIME_EXCEEDED="waitingRoomTimeExceeded",n.NO_POD_AVAILABLE="noPodAvailable",n.UNAVAILABLE="unAvailable",n))(Wr||{});const Xx=["failed","noPodAvailable","waitingRoomTimeExceeded","unAvailable","failedBecauseBotAlreadyKickedOut","failedBecauseMeetingEndedWhileInWaitingRoom","failedBecauseMeetingRequiresSignIn","failedBecauseNoPasswordWasSet","failedBecauseInvalidLink"],e2=["processing","uploading"],t2=["reserved","waitingRoom","waitingRoomTimeExceeded","joined","recording"];var El=(n=>(n.HOST="host",n.GUEST="guest",n))(El||{}),bl=(n=>(n.FetchCalendarOnJoin="desktop-fetch-calendar-on-join-now",n))(bl||{}),zd=(n=>(n.Zoom="zoom",n.GoogleMeet="googleMeet",n.MicrosoftTeams="microsoftTeams",n))(zd||{}),UE=(n=>(n.INITIALIZED="app:initialized",n.SHORTCUT_REGISTRATION_FAILED="app:shortcut-registration-failed",n))(UE||{}),zE=(n=>(n.ALL_COLLABORATORS_REMOVED="lmi:meeting:all-collaborators-removed",n.COLLABORATOR_ADDED="lmi:meeting:collaborator-added",n.HIGHLIGHT_CREATED="lmi:meeting:highlight-created",n.DUPLICATED_MEETING_FOUND="lmi:meeting:duplicated-meeting-found",n))(zE||{}),$E=(n=>(n.USER_AUTHENTICATED="lmi:auth:user-authenticated",n))($E||{}),Lp=(n=>(n.TAG_HOTKEY_PRESSED="lmi:user:tag-hotkey-pressed",n.HIGHLIGHT_SHORTCUT_PRESSED="highlight-short-cut-triggered",n.CONTACT_TAGGED="lmi:user:contact-tagged",n.BOT_REQUESTED="lmi:user:bot-requested",n.RECORDING_STOPPED="lmi:user:recording-stopped",n))(Lp||{}),$d=(n=>(n.USER_CLICK_EVENT="user-request",n.UNSPECIFIED="unspecified",n))($d||{}),gs=(n=>(n.UNSPECIFIED="unspecified",n.WEB_APP="web-app",n.WEB_EXTENSION="web-extension",n.DESKTOP_APP="desktop-app",n))(gs||{}),Fp=(n=>(n.LMI="live-meeting-integration",n.GOOGLE_CALENDAR="google-calendar",n.CROSS_PLATFORM_HIGHLIGHT="cross-platform-highlight",n.UNSPECIFIED="unspecified",n))(Fp||{});const n2=/(@\[.*?\]\(.*?\))/m;var Tl=(n=>(n.MAC_OSX="mac",n.WINDOWS="windows",n.UNIX="unix",n.LINUX="linux",n.UNSPECIFIED="unspecified",n))(Tl||{});const BE={page:1,limit:20},r2=n=>URL.canParse(n),i2=n=>r2(n)&&!!VE(n,["googleMeet"]).at(0);function o2(n){const e=VE(n,["googleMeet"]).at(0);return e?{meetingId:e.conferenceId}:null}var qE=(n=>(n.ON_TAGGED="chrome-extension:lmi:on-tagged",n))(qE||{});function s2(n,e){return n}const a2=1e3,c2=(n=0)=>new Promise(e=>setTimeout(e,n)),l2=(n=0)=>c2(10**n),u2=(n,e=new Date().getTime())=>n?(e-n)/a2:0,Bd=n=>n?Xx.includes(n):!1,d2=n=>n2.test(n),HE=n=>t2.includes(n),f2=n=>[Wr.JOINED,Wr.RECORDING].includes(n),m2=n=>e2.includes(n),qd=["Mac","Win","X11","Linux"],Al=new Map;Al.set(qd[0],Tl.MAC_OSX),Al.set(qd[1],Tl.WINDOWS),Al.set(qd[2],Tl.UNIX),Al.set(qd[3],Tl.LINUX),Al.keys();const h2=["hitmail.com","rxdoc.biz","cox.com","126.net","126.com","comast.com","comast.net","yandex.com","wegas.ru","twc.com","charter.com","outlook.com","gmx.com",".ddns.org",".findhere.com",".freeservers.com",".zzn.com","1033edge.com","11mail.com","123.com","123box.net","123india.com","123mail.cl","123qwe.co.uk","150ml.com","15meg4free.com","163.com","1coolplace.com","1freeemail.com","1funplace.com","1internetdrive.com","1mail.net","1me.net","1mum.com","1musicrow.com","1netdrive.com","1nsyncfan.com","1under.com","1webave.com","1webhighway.com","212.com","24horas.com","2911.net","2bmail.co.uk","2d2i.com","2die4.com","3000.it","321media.com","37.com","3ammagazine.com","3dmail.com","3email.com","3xl.net","444.net","4email.com","4email.net","4mg.com","4newyork.com","4x4man.com","5iron.com","5star.com","88.am","8848.net","888.nu","97rock.com","aaamail.zzn.com","aamail.net","aaronkwok.net","abbeyroadlondon.co.uk","abcflash.net","abdulnour.com","aberystwyth.com","abolition-now.com","about.com","academycougars.com","acceso.or.cr","access4less.net","accessgcc.com","ace-of-base.com","acmecity.com","acmemail.net","acninc.net","activatormail.com","address.com","adelphia.net","adexec.com","adfarrow.com","adios.net","adoption.com","ados.fr","adrenalinefreak.com","advalvas.be","aeiou.pt","aemail4u.com","aeneasmail.com","afreeinternet.com","africamail.com","agoodmail.com","ahaa.dk","aichi.com","aim.com","airforce.net","AirForceEmail.com","airforceemail.com","airpost.net","ajacied.com","ak47.hu","aknet.kg","albawaba.com","alecsmail.com","alex4all.com","alexandria.cc","algeria.com","alhilal.net","alibaba.com","alive.cz","allmail.net","alloymail.com","allracing.com","allsaintsfan.com","alltel.net","alskens.dk","altavista.com","altavista.net","altavista.se","alternativagratis.com","alumnidirector.com","alvilag.hu","amele.com","america.hm","ameritech.net","amnetsal.com","amrer.net","amuro.net","amuromail.com","ananzi.co.za","ancestry.com","andylau.net","anfmail.com","angelfan.com","angelfire.com","animail.net","animal.net","animalhouse.com","animalwoman.net","anjungcafe.com","annsmail.com","anote.com","another.com","anotherwin95.com","anti-social.com","antisocial.com","antongijsen.com","antwerpen.com","anymoment.com","anytimenow.com","aol.com","apexmail.com","apmail.com","apollo.lv","approvers.net","arabia.com","arabtop.net","arcademaster.com","archaeologist.com","arcor.de","arcotronics.bg","argentina.com","aristotle.org","army.net","arnet.com.ar","artlover.com","artlover.com.au","as-if.com","asean-mail","asean-mail.com","asheville.com","asia-links.com","asia.com","asiafind.com","asianavenue.com","asiancityweb.com","asiansonly.net","asianwired.net","asiapoint.net","assala.com","assamesemail.com","astroboymail.com","astrolover.com","astrosfan.com","astrosfan.net","asurfer.com","athenachu.net","atina.cl","atl.lv","atlaswebmail.com","atlink.com","ato.check.com","atozasia.com","att.net","attglobal.net","attymail.com","au.ru","ausi.com","aussiemail.com.au","austin.rr.com","australia.edu","australiamail.com","austrosearch.net","autoescuelanerja.com","automotiveauthority.com","avh.hu","awsom.net","axoskate.com","ayna.com","azimiweb.com","bachelorboy.com","bachelorgal.com","backpackers.com","backstreet-boys.com","backstreetboysclub.com","backwards.com","bagherpour.com","bahrainmail.com","bangkok.com","bangkok2000.com","bannertown.net","baptistmail.com","baptized.com","barcelona.com","baseballmail.com","basketballmail.com","batuta.net","baudoinconsulting.com","bboy.zzn.com","bcvibes.com","beeebank.com","beenhad.com","beep.ru","beer.com","beethoven.com","belice.com","belizehome.com","bellsouth.net","berkscounty.com","berlin.com","berlin.de","berlinexpo.de","bestmail.us","bettergolf.net","bharatmail.com","bigassweb.com","bigblue.net.au","bigboab.com","bigfoot.com","bigfoot.de","bigger.com","biggerbadder.com","bigmailbox.com","bigpond.com","bigpond.com.au","bigpond.net.au","bigramp.com","bikemechanics.com","bikeracer.com","bikeracers.net","bikerider.com","billsfan.com","billsfan.net","bimamail.com","bimla.net","birdowner.net","bisons.com","bitmail.com","bitpage.net","bizhosting.com","bla-bla.com","blackburnmail.com","blackplanet.com","blazemail.com","bluehyppo.com","bluemail.ch","bluemail.dk","bluesfan.com","blushmail.com","bmlsports.net","boardermail.com","boatracers.com","bol.com.br","bolando.com","bollywoodz.com","bolt.com","boltonfans.com","bombdiggity.com","bonbon.net","BonBon.net","boom.com","bootmail.com","bornnaked.com","bossofthemoss.com","bostonoffice.com","bounce.net","box.az","boxbg.com","boxemail.com","boxfrog.com","boyzoneclub.com","bradfordfans.com","brasilia.net","brazilmail.com.br","breathe.com","bresnan.net","brfree.com.br","bright.net","britneyclub.com","brittonsign.com","broadcast.net","btopenworld.co.uk","buffymail.com","bullsfan.com","bullsgame.com","bumerang.ro","bumrap.com","bunko.com","buryfans.com","business-man.com","businessman.net","businessweekmail.com","busta-rhymes.com","busymail.com","busymail.comhomeart.com","buyersusa.com","bvimailbox.com","byteme.com","c2i.net","c3.hu","c4.com","cabacabana.com","cableone.net","caere.it","cairomail.com","callnetuk.com","callsign.net","caltanet.it","camidge.com","canada-11.com","canada.com","canadianmail.com","canoemail.com","canwetalk.com","caramail.com","care2.com","careerbuildermail.com","carioca.net","cartestraina.ro","casablancaresort.com","casino.com","catcha.com","catchamail.com","catholic.org","catlover.com","catsrule.garfield.com","ccnmail.com","cd2.com","celineclub.com","celtic.com","centoper.it","centralpets.com","centrum.cz","centrum.sk","centurytel.net","certifiedmail.com","cfl.rr.com","cgac.es","chaiyomail.com","chance2mail.com","chandrasekar.net","charmedmail.com","charter.net","chat.ru","chattown.com","chauhanweb.com","check.com","check.com12","check1check.com","cheerful.com","chek.com","chemist.com","chequemail.com","cheyenneweb.com","chez.com","chickmail.com","childrens.md","china.net.vg","chinalook.com","chirk.com","chocaholic.com.au","christianmail.net","churchusa.com","cia-agent.com","cia.hu","ciaoweb.it","cicciociccio.com","cincinow.net","citeweb.net","citlink.net","city-of-bath.org","city-of-birmingham.com","city-of-brighton.org","city-of-cambridge.com","city-of-coventry.com","city-of-edinburgh.com","city-of-lichfield.com","city-of-lincoln.com","city-of-liverpool.com","city-of-manchester.com","city-of-nottingham.com","city-of-oxford.com","city-of-swansea.com","city-of-westminster.com","city-of-westminster.net","city-of-york.net","city2city.com","cityofcardiff.net","cityoflondon.org","claramail.com","classicalfan.com","classicmail.co.za","clerk.com","cliffhanger.com","close2you.ne","close2you.net","club4x4.net","clubalfa.com","clubbers.net","clubducati.com","clubhonda.net","clubnetnoir.com","clubvdo.net","cluemail.com","cmpmail.com","cnnsimail.com","codec.ro","codec.roemail.ro","coder.hu","coid.biz","coldmail.com","collectiblesuperstore.com","collegebeat.com","collegeclub.com","collegemail.com","colleges.com","columbus.rr.com","columbusrr.com","columnist.com","comcast.net","comic.com","communityconnect.com","comprendemail.com","compuserve.com","computer-freak.com","computermail.net","conexcol.com","conk.com","connect4free.net","connectbox.com","conok.com","consultant.com","cookiemonster.com","cool.br","coolgoose.ca","coolgoose.com","coolkiwi.com","coollist.com","coolmail.com","coolmail.net","coolsend.com","cooooool.com","cooperation.net","cooperationtogo.net","copacabana.com","cornells.com","cornerpub.com","corporatedirtbag.com","correo.terra.com.gt","cortinet.com","cotas.net","counsellor.com","countrylover.com","cox.net","coxinet.net","CPAonline.net","cpaonline.net","cracker.hu","crazedanddazed.com","crazysexycool.com","cristianemail.com","critterpost.com","croeso.com","crosshairs.com","crosswinds.net","crwmail.com","cry4helponline.com","cs.com","csinibaba.hu","cuemail.com","curio-city.com","curtsmail.com","cute-girl.com","cuteandcuddly.com","cutey.com","cww.de","cyber-africa.net","cyber4all.com","cyberbabies.com","CyberCafeMaui.com","cybercafemaui.com","cyberdude.com","cyberforeplay.net","cybergal.com","cybergrrl.com","cyberinbox.com","cyberleports.com","cybermail.net","cybernet.it","cyberspace-asia.com","cybertrains.org","cyclefanz.com","cynetcity.com","dabsol.net","dadacasa.com","daha.com","dailypioneer.com","dallas.theboys.com","dangerous-minds.com","dansegulvet.com","data54.com","davegracey.com","dawnsonmail.com","dawsonmail.com","dazedandconfused.com","dbzmail.com","DCemail.com","dcemail.com","deadlymob.org","deal-maker.com","dearriba.com","death-star.com","dejanews.com","deliveryman.com","deneg.net","depechemode.com","deseretmail.com","desertmail.com","desilota.com","deskmail.com","deskpilot.com","destin.com","detik.com","deutschland-net.com","devotedcouples.com","dfwatson.com","di-ve.com","digibel.be","diplomats.com","dirtracer.com","dirtracers.com","discofan.com","discovery.com","discoverymail.com","disinfo.net","dmailman.com","dnsmadeeasy.com","doctor.com","dog.com","doglover.com","dogmail.co.uk","dogsnob.net","doityourself.com","doneasy.com","donjuan.com","dontgotmail.com","dontmesswithtexas.com","doramail.com","dostmail.com","dotcom.fr","dott.it","dplanet.ch","dr.com","dragoncon.net","dragracer.com","dropzone.com","drotposta.hu","dubaimail.com","dublin.com","dublin.ie","dunlopdriver.com","dunloprider.com","duno.com","dwp.net","dygo.com","dynamitemail.com","e-apollo.lv","e-mail.dk","e-mail.ru","e-mailanywhere.com","e-mails.ru","e-tapaal.com","earthalliance.com","earthcam.net","EarthCam.net","earthdome.com","earthling.net","earthlink.net","earthonline.net","eastcoast.co.za","eastmail.com","easy.to","easypost.com","eatmydirt.com","ecardmail.com","ecbsolutions.net","echina.com","ecompare.com","edmail.com","ednatx.com","edtnmail.com","educacao.te.pt","educastmail.com","ehmail.com","eircom.net","ekidz.com.au","elsitio.com","elvis.com","email-london.co.uk","email.biz","email.com","email.cz","email.ee","email.it","email.nu","email.ro","email.ru","email.si","email.women.com","email2me.net","emailacc.com","emailaccount.com","emailchoice.com","emailcorner.net","emailem.com","emailengine.net","emailforyou.net","emailgroups.net","emailit.com","emailpinoy.com","emailplanet.com","emails.ru","emailuser.net","emailx.net","ematic.com","embarqmail.com","eml.cc","emumail.com","end-war.com","enel.net","engineer.com","england.com","england.edu","epatra.com","epix.net","epost.de","eposta.hu","eqqu.com","eramail.co.za","eresmas.com","eriga.lv","estranet.it","ethos.st","etoast.com","etrademail.com","eudoramail.com","europe.com","euroseek.com","eurosport.com","every1.net","everyday.com.kh","everyone.net","examnotes.net","excite.co.jp","excite.com","excite.it","execs.com","expressasia.com","extenda.net","extended.com","eyou.com","ezcybersearch.com","ezmail.egine.com","ezmail.ru","ezrs.com","f1fans.net","fan.com","fan.theboys.com","fansonlymail.com","fantasticmail.com","farang.net","faroweb.com","fastem.com","fastemail.us","fastemailer.com","fastermail.com","fastimap.com","fastmail.ca","fastmail.fm","fastmailbox.net","fastmessaging.com","fatcock.net","fathersrightsne.org","fbi-agent.com","fbi.hu","federalcontractors.com","felicity.com","felicitymail.com","femenino.com","fetchmail.co.uk","fetchmail.com","feyenoorder.com","ffanet.com","fiberia.com","filipinolinks.com","financemail.net","financier.com","findmail.com","finebody.com","finfin.com","fire-brigade.com","fishburne.org","flashemail.com","flashmail.com","flashmail.net","flipcode.com","fmail.co.uk","fmailbox.com","fmgirl.com","fmguy.com","fnbmail.co.za","fnmail.com","folkfan.com","foodmail.com","football.theboys.com","footballmail.com","for-president.com","forfree.at","forpresident.com","fortuncity.com","fortunecity.com","forum.dk","free-org.com","free.com.pe","free.fr","freeaccess.nl","freeaccount.com","freeandsingle.com","freebox.com","freedom.usa.com","freedomlover.com","freegates.be","freeghana.com","freeler.nl","freemail.c3.hu","freemail.com.au","freemail.com.pk","freemail.de","freemail.et","freemail.gr","freemail.hu","freemail.it","freemail.lt","freemail.nl","freemail.org.mk","freenet.de","freenet.kg","freeola.com","freeola.net","freeserve.co.uk","freestamp.com","freestart.hu","freesurf.fr","freesurf.nl","freeuk.com","freeuk.net","freeukisp.co.uk","freeweb.org","freewebemail.com","freeyellow.com","freezone.co.uk","fresnomail.com","friends-cafe.com","friendsfan.com","from-africa.com","from-america.com","from-argentina.com","from-asia.com","from-australia.com","from-belgium.com","from-brazil.com","from-canada.com","from-china.net","from-england.com","from-europe.com","from-france.net","from-germany.net","from-holland.com","from-israel.com","from-italy.net","from-japan.net","from-korea.com","from-mexico.com","from-outerspace.com","from-russia.com","from-spain.net","fromalabama.com","fromalaska.com","fromarizona.com","fromarkansas.com","fromcalifornia.com","fromcolorado.com","fromconnecticut.com","fromdelaware.com","fromflorida.net","fromgeorgia.com","fromhawaii.net","fromidaho.com","fromillinois.com","fromindiana.com","fromiowa.com","fromjupiter.com","fromkansas.com","fromkentucky.com","fromlouisiana.com","frommaine.net","frommaryland.com","frommassachusetts.com","frommiami.com","frommichigan.com","fromminnesota.com","frommississippi.com","frommissouri.com","frommontana.com","fromnebraska.com","fromnevada.com","fromnewhampshire.com","fromnewjersey.com","fromnewmexico.com","fromnewyork.net","fromnorthcarolina.com","fromnorthdakota.com","fromohio.com","fromoklahoma.com","fromoregon.net","frompennsylvania.com","fromrhodeisland.com","fromru.com","fromsouthcarolina.com","fromsouthdakota.com","fromtennessee.com","fromtexas.com","fromthestates.com","fromutah.com","fromvermont.com","fromvirginia.com","fromwashington.com","fromwashingtondc.com","fromwestvirginia.com","fromwisconsin.com","fromwyoming.com","front.ru","frontier.com","frontiernet.net","frostbyte.uk.net","fsmail.net","ftml.net","fullmail.com","funkfan.com","funky4.com","fuorissimo.com","furnitureprovider.com","fuse.net","fut.es","fwnb.com","fxsmails.com","galamb.net","galaxy5.com","gamebox.net","gamegeek.com","gamespotmail.com","garbage.com","gardener.com","gawab.com","gaybrighton.co.uk","gaza.net","gazeta.pl","gazibooks.com","gci.net","gee-wiz.com","geecities.com","geek.com","geek.hu","geeklife.com","general-hospital.com","geocities.com","geography.net","geologist.com","geopia.com","gh2000.com","ghanamail.com","ghostmail.com","giantsfan.com","giga4u.de","gigileung.org","girl4god.com","givepeaceachance.com","glay.org","glendale.net","globalfree.it","globalpagan.com","globalsite.com.br","gmail.com","gmx.at","gmx.de","gmx.li","gmx.net","gnwmail.com","go.com","go.ro","go.ru","go2.com.py","go2net.com","gocollege.com","gocubs.com","gofree.co.uk","goldenmail.ru","goldmail.ru","golfemail.com","golfmail.be","gonavy.net","goodnewsmail.com","goodstick.com","googlemail.com","goplay.com","gorontalo.net","gospelfan.com","gothere.uk.com","gotmail.com","gotomy.com","govolsfan.com","gportal.hu","grabmail.com","graffiti.net","gramszu.net","grapplers.com","gratisweb.com","grungecafe.com","gtemail.net","gtmc.net","gua.net","guessmail.com","guju.net","gurlmail.com","guy.com","guy2.com","guyanafriends.com","gyorsposta.com","gyorsposta.hu","hackermail.net","hailmail.net","hairdresser.net","hamptonroads.com","handbag.com","handleit.com","hang-ten.com","hanmail.net","happemail.com","happycounsel.com","happypuppy.com","hardcorefreak.com","hawaii.rr.com","hawaiiantel.net","headbone.com","heartthrob.com","heerschap.com","heesun.net","hehe.com","hello.hu","hello.net.au","hello.to","helter-skelter.com","hempseed.com","herediano.com","heremail.com","herono1.com","hey.to","hhdevel.com","highmilton.com","highquality.com","highveldmail.co.za","hiphopfan.com","hispavista.com","hitthe.net","hkg.net","hkstarphoto.com","hockeymail.com","hollywoodkids.com","home-email.com","home.no.net","home.ro","home.se","homeart.com","homelocator.com","homemail.com","homestead.com","homeworkcentral.com","honduras.com","hongkong.com","hookup.net","hoopsmail.com","horrormail.com","host-it.com.sg","hot-shot.com","hot.ee","hotbot.com","hotbrev.com","hotepmail.com","hotfire.net","hotletter.com","hotmail.co.il","hotmail.co.uk","hotmail.com","hotmail.fr","hotmail.kg","hotmail.kz","hotmail.roor","hotmail.ru","hotpop.com","HotPOP.com","hotpop3.com","hotvoice.com","housefancom","housemail.com","hsuchi.net","html.tou.com","hughes.net","hunsa.com","hurting.com","hushmail.com","hypernautica.com","i-connect.com","i-france.com","i-mail.com.au","i-mailbox.net","i-p.com","i.am","i.amhey.to","i12.com","iamawoman.com","iamwaiting.com","iamwasted.com","iamyours.com","icestorm.com","icloud.com","icmsconsultants.com","icq.com","icqmail.com","icrazy.com","icu.md","ID-base.com","id-base.com","ididitmyway.com","idigjesus.com","idirect.com","iespana.es","ifoward.com","ig.com.br","ignazio.it","ignmail.com","ihateclowns.com","iinet.net.au","ijustdontcare.com","ilovechocolate.com","ilovejesus.com","ilovethemovies.com","ilovetocollect.net","ilse.nl","imaginemail.com","imail.org","imail.ru","imailbox.com","imel.org","imneverwrong.com","imposter.co.uk","imstressed.com","imtoosexy.com","in-box.net","in2jesus.com","iname.com","inbox.net","inbox.ru","incamail.com","includingarabia.com","incredimail.com","indexa.fr","india.com","indiatimes.com","indo-mail.com","indocities.com","indomail.com","indyracers.com","info-media.de","info66.com","infohq.com","infomail.es","infomart.or.jp","infospacemail.com","infovia.com.ar","inicia.es","inmail.sk","innocent.com","inorbit.com","insidebaltimore.net","insight.rr.com","insurer.com","interburp.com","interfree.it","interia.pl","interlap.com.ar","intermail.co.il","internet-club.com","internet-police.com","internetbiz.com","internetdrive.com","internetegypt.com","internetemails.net","internetmailing.net","investormail.com","inwind.it","iobox.com","iobox.fi","iol.it","iowaemail.com","ip3.com","iprimus.com.au","iqemail.com","irangate.net","iraqmail.com","ireland.com","irj.hu","isellcars.com","iservejesus.com","islamonline.net","isleuthmail.com","ismart.net","isonfire.com","isp9.net","itloox.com","itmom.com","ivebeenframed.com","ivillage.com","iwan-fals.com","iwmail.com","iwon.com","izadpanah.com","jahoopa.com","jakuza.hu","japan.com","jaydemail.com","jazzandjava.com","jazzfan.com","jazzgame.com","jerusalemmail.com","jetemail.net","jewishmail.com","jippii.fi","jmail.co.za","joinme.com","jokes.com","jordanmail.com","journalist.com","jovem.te.pt","joymail.com","jpopmail.com","jubiimail.dk","jump.com","jumpy.it","juniormail.com","juno.com","justemail.net","justicemail.com","kaazoo.com","kaixo.com","kalpoint.com","kansascity.com","kapoorweb.com","karachian.com","karachioye.com","karbasi.com","katamail.com","kayafmmail.co.za","kbjrmail.com","kcks.com","keftamail.com","keg-party.com","keko.com.ar","kellychen.com","keromail.com","keyemail.com","kgb.hu","khosropour.com","kickassmail.com","killermail.com","kimo.com","kinki-kids.com","kittymail.com","kitznet.at","kiwibox.com","kiwitown.com","kmail.com.au","konx.com","korea.com","kozmail.com","krongthip.com","krunis.com","ksanmail.com","ksee24mail.com","kube93mail.com","kukamail.com","kumarweb.com","kuwait-mail.com","la.com","ladymail.cz","lagerlouts.com","lahoreoye.com","lakmail.com","lamer.hu","land.ru","lankamail.com","laposte.net","latemodels.com","latinmail.com","latino.com","law.com","lawyer.com","leehom.net","legalactions.com","legislator.com","leonlai.net","letsgomets.net","letterbox.com","levele.com","levele.hu","lex.bg","lexis-nexis-mail.com","liberomail.com","lick101.com","linkmaster.com","linktrader.com","linuxfreemail.com","linuxmail.org","lionsfan.com.au","liontrucks.com","liquidinformation.net","list.ru","littleapple.com","littleblueroom.com","live.com","liverpoolfans.com","llandudno.com","llangollen.com","lmxmail.sk","lobbyist.com","localbar.com","locos.com","london.com","loobie.com","looksmart.co.uk","looksmart.com","looksmart.com.au","lopezclub.com","louiskoo.com","love.cz","loveable.com","lovefootball.com","lovelygirl.net","lovemail.com","lover-boy.com","lovergirl.com","lovethebroncos.com","lovethecowboys.com","lovingjesus.com","lowandslow.com","luso.pt","luukku.com","lycos.co.uk","lycos.com","lycos.es","lycos.it","lycos.ne.jp","lycosemail.com","lycosmail.com","m-a-i-l.com","m-hmail.com","m4.org","mac.com","macbox.com","macfreak.com","machinecandy.com","macmail.com","madcreations.com","madrid.com","maffia.hu","magicmail.co.za","mahmoodweb.com","mail-awu.de","mail-box.cz","mail-center.com","mail-central.com","mail-page.com","mail.austria.com","mail.az","mail.be","mail.bulgaria.com","mail.byte.it","mail.co.za","mail.com","mail.ee","mail.entrepeneurmag.com","mail.freetown.com","mail.gr","mail.hitthebeach.com","mail.kmsp.com","mail.md","mail.nu","mail.org.uk","mail.pf","mail.pharmacy.com","mail.pt","mail.r-o-o-t.com","mail.ru","mail.salu.net","mail.sisna.com","mail.spaceports.com","mail.theboys.com","mail.usa.com","mail.vasarhely.hu","mail15.com","mail1st.com","mail2007.com","mail2aaron.com","mail2abby.com","mail2abc.com","mail2actor.com","mail2admiral.com","mail2adorable.com","mail2adoration.com","mail2adore.com","mail2adventure.com","mail2aeolus.com","mail2aether.com","mail2affection.com","mail2afghanistan.com","mail2africa.com","mail2agent.com","mail2aha.com","mail2ahoy.com","mail2aim.com","mail2air.com","mail2airbag.com","mail2airforce.com","mail2airport.com","mail2alabama.com","mail2alan.com","mail2alaska.com","mail2albania.com","mail2alcoholic.com","mail2alec.com","mail2alexa.com","mail2algeria.com","mail2alicia.com","mail2alien.com","mail2allan.com","mail2allen.com","mail2allison.com","mail2alpha.com","mail2alyssa.com","mail2amanda.com","mail2amazing.com","mail2amber.com","mail2america.com","mail2american.com","mail2andorra.com","mail2andrea.com","mail2andy.com","mail2anesthesiologist.com","mail2angela.com","mail2angola.com","mail2ann.com","mail2anna.com","mail2anne.com","mail2anthony.com","mail2anything.com","mail2aphrodite.com","mail2apollo.com","mail2april.com","mail2aquarius.com","mail2arabia.com","mail2arabic.com","mail2architect.com","mail2ares.com","mail2argentina.com","mail2aries.com","mail2arizona.com","mail2arkansas.com","mail2armenia.com","mail2army.com","mail2arnold.com","mail2art.com","mail2artemus.com","mail2arthur.com","mail2artist.com","mail2ashley.com","mail2ask.com","mail2astronomer.com","mail2athena.com","mail2athlete.com","mail2atlas.com","mail2atom.com","mail2attitude.com","mail2auction.com","mail2aunt.com","mail2australia.com","mail2austria.com","mail2azerbaijan.com","mail2baby.com","mail2bahamas.com","mail2bahrain.com","mail2ballerina.com","mail2ballplayer.com","mail2band.com","mail2bangladesh.com","mail2bank.com","mail2banker.com","mail2bankrupt.com","mail2baptist.com","mail2bar.com","mail2barbados.com","mail2barbara.com","mail2barter.com","mail2basketball.com","mail2batter.com","mail2beach.com","mail2beast.com","mail2beatles.com","mail2beauty.com","mail2becky.com","mail2beijing.com","mail2belgium.com","mail2belize.com","mail2ben.com","mail2bernard.com","mail2beth.com","mail2betty.com","mail2beverly.com","mail2beyond.com","mail2biker.com","mail2bill.com","mail2billionaire.com","mail2billy.com","mail2bio.com","mail2biologist.com","mail2black.com","mail2blackbelt.com","mail2blake.com","mail2blind.com","mail2blonde.com","mail2blues.com","mail2bob.com","mail2bobby.com","mail2bolivia.com","mail2bombay.com","mail2bonn.com","mail2bookmark.com","mail2boreas.com","mail2bosnia.com","mail2boston.com","mail2botswana.com","mail2bradley.com","mail2brazil.com","mail2breakfast.com","mail2brian.com","mail2bride.com","mail2brittany.com","mail2broker.com","mail2brook.com","mail2bruce.com","mail2brunei.com","mail2brunette.com","mail2brussels.com","mail2bryan.com","mail2bug.com","mail2bulgaria.com","mail2business.com","mail2buy.com","mail2ca.com","mail2california.com","mail2calvin.com","mail2cambodia.com","mail2cameroon.com","mail2canada.com","mail2cancer.com","mail2capeverde.com","mail2capricorn.com","mail2cardinal.com","mail2cardiologist.com","mail2care.com","mail2caroline.com","mail2carolyn.com","mail2casey.com","mail2cat.com","mail2caterer.com","mail2cathy.com","mail2catlover.com","mail2catwalk.com","mail2cell.com","mail2chad.com","mail2champaign.com","mail2charles.com","mail2chef.com","mail2chemist.com","mail2cherry.com","mail2chicago.com","mail2chile.com","mail2china.com","mail2chinese.com","mail2chocolate.com","mail2christian.com","mail2christie.com","mail2christmas.com","mail2christy.com","mail2chuck.com","mail2cindy.com","mail2clark.com","mail2classifieds.com","mail2claude.com","mail2cliff.com","mail2clinic.com","mail2clint.com","mail2close.com","mail2club.com","mail2coach.com","mail2coastguard.com","mail2colin.com","mail2college.com","mail2colombia.com","mail2color.com","mail2colorado.com","mail2columbia.com","mail2comedian.com","mail2composer.com","mail2computer.com","mail2computers.com","mail2concert.com","mail2congo.com","mail2connect.com","mail2connecticut.com","mail2consultant.com","mail2convict.com","mail2cook.com","mail2cool.com","mail2cory.com","mail2costarica.com","mail2country.com","mail2courtney.com","mail2cowboy.com","mail2cowgirl.com","mail2craig.com","mail2crave.com","mail2crazy.com","mail2create.com","mail2croatia.com","mail2cry.com","mail2crystal.com","mail2cuba.com","mail2culture.com","mail2curt.com","mail2customs.com","mail2cute.com","mail2cutey.com","mail2cynthia.com","mail2cyprus.com","mail2czechrepublic.com","mail2dad.com","mail2dale.com","mail2dallas.com","mail2dan.com","mail2dana.com","mail2dance.com","mail2dancer.com","mail2danielle.com","mail2danny.com","mail2darlene.com","mail2darling.com","mail2darren.com","mail2daughter.com","mail2dave.com","mail2dawn.com","mail2dc.com","mail2dealer.com","mail2deanna.com","mail2dearest.com","mail2debbie.com","mail2debby.com","mail2deer.com","mail2delaware.com","mail2delicious.com","mail2demeter.com","mail2democrat.com","mail2denise.com","mail2denmark.com","mail2dennis.com","mail2dentist.com","mail2derek.com","mail2desert.com","mail2devoted.com","mail2devotion.com","mail2diamond.com","mail2diana.com","mail2diane.com","mail2diehard.com","mail2dilemma.com","mail2dillon.com","mail2dinner.com","mail2dinosaur.com","mail2dionysos.com","mail2diplomat.com","mail2director.com","mail2dirk.com","mail2disco.com","mail2dive.com","mail2diver.com","mail2divorced.com","mail2djibouti.com","mail2doctor.com","mail2doglover.com","mail2dominic.com","mail2dominica.com","mail2dominicanrepublic.com","mail2don.com","mail2donald.com","mail2donna.com","mail2doris.com","mail2dorothy.com","mail2doug.com","mail2dough.com","mail2douglas.com","mail2dow.com","mail2downtown.com","mail2dream.com","mail2dreamer.com","mail2dude.com","mail2dustin.com","mail2dyke.com","mail2dylan.com","mail2earl.com","mail2earth.com","mail2eastend.com","mail2eat.com","mail2economist.com","mail2ecuador.com","mail2eddie.com","mail2edgar.com","mail2edwin.com","mail2egypt.com","mail2electron.com","mail2eli.com","mail2elizabeth.com","mail2ellen.com","mail2elliot.com","mail2elsalvador.com","mail2elvis.com","mail2emergency.com","mail2emily.com","mail2engineer.com","mail2english.com","mail2environmentalist.com","mail2eos.com","mail2eric.com","mail2erica.com","mail2erin.com","mail2erinyes.com","mail2eris.com","mail2eritrea.com","mail2ernie.com","mail2eros.com","mail2estonia.com","mail2ethan.com","mail2ethiopia.com","mail2eu.com","mail2europe.com","mail2eurus.com","mail2eva.com","mail2evan.com","mail2evelyn.com","mail2everything.com","mail2exciting.com","mail2expert.com","mail2fairy.com","mail2faith.com","mail2fanatic.com","mail2fancy.com","mail2fantasy.com","mail2farm.com","mail2farmer.com","mail2fashion.com","mail2fat.com","mail2feeling.com","mail2female.com","mail2fever.com","mail2fighter.com","mail2fiji.com","mail2filmfestival.com","mail2films.com","mail2finance.com","mail2finland.com","mail2fireman.com","mail2firm.com","mail2fisherman.com","mail2flexible.com","mail2florence.com","mail2florida.com","mail2floyd.com","mail2fly.com","mail2fond.com","mail2fondness.com","mail2football.com","mail2footballfan.com","mail2found.com","mail2france.com","mail2frank.com","mail2frankfurt.com","mail2franklin.com","mail2fred.com","mail2freddie.com","mail2free.com","mail2freedom.com","mail2french.com","mail2freudian.com","mail2friendship.com","mail2from.com","mail2fun.com","mail2gabon.com","mail2gabriel.com","mail2gail.com","mail2galaxy.com","mail2gambia.com","mail2games.com","mail2gary.com","mail2gavin.com","mail2gemini.com","mail2gene.com","mail2genes.com","mail2geneva.com","mail2george.com","mail2georgia.com","mail2gerald.com","mail2german.com","mail2germany.com","mail2ghana.com","mail2gilbert.com","mail2gina.com","mail2girl.com","mail2glen.com","mail2gloria.com","mail2goddess.com","mail2gold.com","mail2golfclub.com","mail2golfer.com","mail2gordon.com","mail2government.com","mail2grab.com","mail2grace.com","mail2graham.com","mail2grandma.com","mail2grandpa.com","mail2grant.com","mail2greece.com","mail2green.com","mail2greg.com","mail2grenada.com","mail2gsm.com","mail2guard.com","mail2guatemala.com","mail2guy.com","mail2hades.com","mail2haiti.com","mail2hal.com","mail2handhelds.com","mail2hank.com","mail2hannah.com","mail2harold.com","mail2harry.com","mail2hawaii.com","mail2headhunter.com","mail2heal.com","mail2heather.com","mail2heaven.com","mail2hebe.com","mail2hecate.com","mail2heidi.com","mail2helen.com","mail2hell.com","mail2help.com","mail2helpdesk.com","mail2henry.com","mail2hephaestus.com","mail2hera.com","mail2hercules.com","mail2herman.com","mail2hermes.com","mail2hespera.com","mail2hestia.com","mail2highschool.com","mail2hindu.com","mail2hip.com","mail2hiphop.com","mail2holland.com","mail2holly.com","mail2hollywood.com","mail2homer.com","mail2honduras.com","mail2honey.com","mail2hongkong.com","mail2hope.com","mail2horse.com","mail2hot.com","mail2hotel.com","mail2houston.com","mail2howard.com","mail2hugh.com","mail2human.com","mail2hungary.com","mail2hungry.com","mail2hygeia.com","mail2hyperspace.com","mail2hypnos.com","mail2ian.com","mail2ice-cream.com","mail2iceland.com","mail2idaho.com","mail2idontknow.com","mail2illinois.com","mail2imam.com","mail2in.com","mail2india.com","mail2indian.com","mail2indiana.com","mail2indonesia.com","mail2infinity.com","mail2intense.com","mail2iowa.com","mail2iran.com","mail2iraq.com","mail2ireland.com","mail2irene.com","mail2iris.com","mail2irresistible.com","mail2irving.com","mail2irwin.com","mail2isaac.com","mail2israel.com","mail2italian.com","mail2italy.com","mail2jackie.com","mail2jacob.com","mail2jail.com","mail2jaime.com","mail2jake.com","mail2jamaica.com","mail2james.com","mail2jamie.com","mail2jan.com","mail2jane.com","mail2janet.com","mail2janice.com","mail2japan.com","mail2japanese.com","mail2jasmine.com","mail2jason.com","mail2java.com","mail2jay.com","mail2jazz.com","mail2jed.com","mail2jeffrey.com","mail2jennifer.com","mail2jenny.com","mail2jeremy.com","mail2jerry.com","mail2jessica.com","mail2jessie.com","mail2jesus.com","mail2jew.com","mail2jeweler.com","mail2jim.com","mail2jimmy.com","mail2joan.com","mail2joann.com","mail2joanna.com","mail2jody.com","mail2joe.com","mail2joel.com","mail2joey.com","mail2john.com","mail2join.com","mail2jon.com","mail2jonathan.com","mail2jones.com","mail2jordan.com","mail2joseph.com","mail2josh.com","mail2joy.com","mail2juan.com","mail2judge.com","mail2judy.com","mail2juggler.com","mail2julian.com","mail2julie.com","mail2jumbo.com","mail2junk.com","mail2justin.com","mail2justme.com","mail2kansas.com","mail2karate.com","mail2karen.com","mail2karl.com","mail2karma.com","mail2kathleen.com","mail2kathy.com","mail2katie.com","mail2kay.com","mail2kazakhstan.com","mail2keen.com","mail2keith.com","mail2kelly.com","mail2kelsey.com","mail2ken.com","mail2kendall.com","mail2kennedy.com","mail2kenneth.com","mail2kenny.com","mail2kentucky.com","mail2kenya.com","mail2kerry.com","mail2kevin.com","mail2kim.com","mail2kimberly.com","mail2king.com","mail2kirk.com","mail2kiss.com","mail2kosher.com","mail2kristin.com","mail2kurt.com","mail2kuwait.com","mail2kyle.com","mail2kyrgyzstan.com","mail2la.com","mail2lacrosse.com","mail2lance.com","mail2lao.com","mail2larry.com","mail2latvia.com","mail2laugh.com","mail2laura.com","mail2lauren.com","mail2laurie.com","mail2lawrence.com","mail2lawyer.com","mail2lebanon.com","mail2lee.com","mail2leo.com","mail2leon.com","mail2leonard.com","mail2leone.com","mail2leslie.com","mail2letter.com","mail2liberia.com","mail2libertarian.com","mail2libra.com","mail2libya.com","mail2liechtenstein.com","mail2life.com","mail2linda.com","mail2linux.com","mail2lionel.com","mail2lipstick.com","mail2liquid.com","mail2lisa.com","mail2lithuania.com","mail2litigator.com","mail2liz.com","mail2lloyd.com","mail2lois.com","mail2lola.com","mail2london.com","mail2looking.com","mail2lori.com","mail2lost.com","mail2lou.com","mail2louis.com","mail2louisiana.com","mail2lovable.com","mail2love.com","mail2lucky.com","mail2lucy.com","mail2lunch.com","mail2lust.com","mail2luxembourg.com","mail2luxury.com","mail2lyle.com","mail2lynn.com","mail2madagascar.com","mail2madison.com","mail2madrid.com","mail2maggie.com","mail2mail4.com","mail2maine.com","mail2malawi.com","mail2malaysia.com","mail2maldives.com","mail2mali.com","mail2malta.com","mail2mambo.com","mail2man.com","mail2mandy.com","mail2manhunter.com","mail2mankind.com","mail2many.com","mail2marc.com","mail2marcia.com","mail2margaret.com","mail2margie.com","mail2marhaba.com","mail2maria.com","mail2marilyn.com","mail2marines.com","mail2mark.com","mail2marriage.com","mail2married.com","mail2marries.com","mail2mars.com","mail2marsha.com","mail2marshallislands.com","mail2martha.com","mail2martin.com","mail2marty.com","mail2marvin.com","mail2mary.com","mail2maryland.com","mail2mason.com","mail2massachusetts.com","mail2matt.com","mail2matthew.com","mail2maurice.com","mail2mauritania.com","mail2mauritius.com","mail2max.com","mail2maxwell.com","mail2maybe.com","mail2mba.com","mail2me4u.com","mail2mechanic.com","mail2medieval.com","mail2megan.com","mail2mel.com","mail2melanie.com","mail2melissa.com","mail2melody.com","mail2member.com","mail2memphis.com","mail2methodist.com","mail2mexican.com","mail2mexico.com","mail2mgz.com","mail2miami.com","mail2michael.com","mail2michelle.com","mail2michigan.com","mail2mike.com","mail2milan.com","mail2milano.com","mail2mildred.com","mail2milkyway.com","mail2millennium.com","mail2millionaire.com","mail2milton.com","mail2mime.com","mail2mindreader.com","mail2mini.com","mail2minister.com","mail2minneapolis.com","mail2minnesota.com","mail2miracle.com","mail2missionary.com","mail2mississippi.com","mail2missouri.com","mail2mitch.com","mail2model.com","mail2moldova.commail2molly.com","mail2mom.com","mail2monaco.com","mail2money.com","mail2mongolia.com","mail2monica.com","mail2montana.com","mail2monty.com","mail2moon.com","mail2morocco.com","mail2morpheus.com","mail2mors.com","mail2moscow.com","mail2moslem.com","mail2mouseketeer.com","mail2movies.com","mail2mozambique.com","mail2mp3.com","mail2mrright.com","mail2msright.com","mail2museum.com","mail2music.com","mail2musician.com","mail2muslim.com","mail2my.com","mail2myboat.com","mail2mycar.com","mail2mycell.com","mail2mygsm.com","mail2mylaptop.com","mail2mymac.com","mail2mypager.com","mail2mypalm.com","mail2mypc.com","mail2myphone.com","mail2myplane.com","mail2namibia.com","mail2nancy.com","mail2nasdaq.com","mail2nathan.com","mail2nauru.com","mail2navy.com","mail2neal.com","mail2nebraska.com","mail2ned.com","mail2neil.com","mail2nelson.com","mail2nemesis.com","mail2nepal.com","mail2netherlands.com","mail2network.com","mail2nevada.com","mail2newhampshire.com","mail2newjersey.com","mail2newmexico.com","mail2newyork.com","mail2newzealand.com","mail2nicaragua.com","mail2nick.com","mail2nicole.com","mail2niger.com","mail2nigeria.com","mail2nike.com","mail2no.com","mail2noah.com","mail2noel.com","mail2noelle.com","mail2normal.com","mail2norman.com","mail2northamerica.com","mail2northcarolina.com","mail2northdakota.com","mail2northpole.com","mail2norway.com","mail2notus.com","mail2noway.com","mail2nowhere.com","mail2nuclear.com","mail2nun.com","mail2ny.com","mail2oasis.com","mail2oceanographer.com","mail2ohio.com","mail2ok.com","mail2oklahoma.com","mail2oliver.com","mail2oman.com","mail2one.com","mail2onfire.com","mail2online.com","mail2oops.com","mail2open.com","mail2ophthalmologist.com","mail2optometrist.com","mail2oregon.com","mail2oscars.com","mail2oslo.com","mail2painter.com","mail2pakistan.com","mail2palau.com","mail2pan.com","mail2panama.com","mail2paraguay.com","mail2paralegal.com","mail2paris.com","mail2park.com","mail2parker.com","mail2party.com","mail2passion.com","mail2pat.com","mail2patricia.com","mail2patrick.com","mail2patty.com","mail2paul.com","mail2paula.com","mail2pay.com","mail2peace.com","mail2pediatrician.com","mail2peggy.com","mail2pennsylvania.com","mail2perry.com","mail2persephone.com","mail2persian.com","mail2peru.com","mail2pete.com","mail2peter.com","mail2pharmacist.com","mail2phil.com","mail2philippines.com","mail2phoenix.com","mail2phonecall.com","mail2phyllis.com","mail2pickup.com","mail2pilot.com","mail2pisces.com","mail2planet.com","mail2platinum.com","mail2plato.com","mail2pluto.com","mail2pm.com","mail2podiatrist.com","mail2poet.com","mail2poland.com","mail2policeman.com","mail2policewoman.com","mail2politician.com","mail2pop.com","mail2pope.com","mail2popular.com","mail2portugal.com","mail2poseidon.com","mail2potatohead.com","mail2power.com","mail2presbyterian.com","mail2president.com","mail2priest.com","mail2prince.com","mail2princess.com","mail2producer.com","mail2professor.com","mail2protect.com","mail2psychiatrist.com","mail2psycho.com","mail2psychologist.com","mail2qatar.com","mail2queen.com","mail2rabbi.com","mail2race.com","mail2racer.com","mail2rachel.com","mail2rage.com","mail2rainmaker.com","mail2ralph.com","mail2randy.com","mail2rap.com","mail2rare.com","mail2rave.com","mail2ray.com","mail2raymond.com","mail2realtor.com","mail2rebecca.com","mail2recruiter.com","mail2recycle.com","mail2redhead.com","mail2reed.com","mail2reggie.com","mail2register.com","mail2rent.com","mail2republican.com","mail2resort.com","mail2rex.com","mail2rhodeisland.com","mail2rich.com","mail2richard.com","mail2ricky.com","mail2ride.com","mail2riley.com","mail2rita.com","mail2rob.com","mail2robert.com","mail2roberta.com","mail2robin.com","mail2rock.com","mail2rocker.com","mail2rod.com","mail2rodney.com","mail2romania.com","mail2rome.com","mail2ron.com","mail2ronald.com","mail2ronnie.com","mail2rose.com","mail2rosie.com","mail2roy.com","mail2rudy.com","mail2rugby.com","mail2runner.com","mail2russell.com","mail2russia.com","mail2russian.com","mail2rusty.com","mail2ruth.com","mail2rwanda.com","mail2ryan.com","mail2sa.com","mail2sabrina.com","mail2safe.com","mail2sagittarius.com","mail2sail.com","mail2sailor.com","mail2sal.com","mail2salaam.com","mail2sam.com","mail2samantha.com","mail2samoa.com","mail2samurai.com","mail2sandra.com","mail2sandy.com","mail2sanfrancisco.com","mail2sanmarino.com","mail2santa.com","mail2sara.com","mail2sarah.com","mail2sat.com","mail2saturn.com","mail2saudi.com","mail2saudiarabia.com","mail2save.com","mail2savings.com","mail2school.com","mail2scientist.com","mail2scorpio.com","mail2scott.com","mail2sean.com","mail2search.com","mail2seattle.com","mail2secretagent.com","mail2senate.com","mail2senegal.com","mail2sensual.com","mail2seth.com","mail2sevenseas.com","mail2sexy.com","mail2seychelles.com","mail2shane.com","mail2sharon.com","mail2shawn.com","mail2ship.com","mail2shirley.com","mail2shoot.com","mail2shuttle.com","mail2sierraleone.com","mail2simon.com","mail2singapore.com","mail2single.com","mail2site.com","mail2skater.com","mail2skier.com","mail2sky.com","mail2sleek.com","mail2slim.com","mail2slovakia.com","mail2slovenia.com","mail2smile.com","mail2smith.com","mail2smooth.com","mail2soccer.com","mail2soccerfan.com","mail2socialist.com","mail2soldier.com","mail2somalia.com","mail2son.com","mail2song.com","mail2sos.com","mail2sound.com","mail2southafrica.com","mail2southamerica.com","mail2southcarolina.com","mail2southdakota.com","mail2southkorea.com","mail2southpole.com","mail2spain.com","mail2spanish.com","mail2spare.com","mail2spectrum.com","mail2splash.com","mail2sponsor.com","mail2sports.com","mail2srilanka.com","mail2stacy.com","mail2stan.com","mail2stanley.com","mail2star.com","mail2state.com","mail2stephanie.com","mail2steve.com","mail2steven.com","mail2stewart.com","mail2stlouis.com","mail2stock.com","mail2stockholm.com","mail2stockmarket.com","mail2storage.com","mail2store.com","mail2strong.com","mail2student.com","mail2studio.com","mail2studio54.com","mail2stuntman.com","mail2subscribe.com","mail2sudan.com","mail2superstar.com","mail2surfer.com","mail2suriname.com","mail2susan.com","mail2suzie.com","mail2swaziland.com","mail2sweden.com","mail2sweetheart.com","mail2swim.com","mail2swimmer.com","mail2swiss.com","mail2switzerland.com","mail2sydney.com","mail2sylvia.com","mail2syria.com","mail2taboo.com","mail2taiwan.com","mail2tajikistan.com","mail2tammy.com","mail2tango.com","mail2tanya.com","mail2tanzania.com","mail2tara.com","mail2taurus.com","mail2taxi.com","mail2taxidermist.com","mail2taylor.com","mail2taz.com","mail2teacher.com","mail2technician.com","mail2ted.com","mail2telephone.com","mail2teletubbie.com","mail2tenderness.com","mail2tennessee.com","mail2tennis.com","mail2tennisfan.com","mail2terri.com","mail2terry.com","mail2test.com","mail2texas.com","mail2thailand.com","mail2therapy.com","mail2think.com","mail2tickets.com","mail2tiffany.com","mail2tim.com","mail2time.com","mail2timothy.com","mail2tina.com","mail2titanic.com","mail2toby.com","mail2todd.com","mail2togo.com","mail2tom.com","mail2tommy.com","mail2tonga.com","mail2tony.com","mail2touch.com","mail2tourist.com","mail2tracey.com","mail2tracy.com","mail2tramp.com","mail2travel.com","mail2traveler.com","mail2travis.com","mail2trekkie.com","mail2trex.com","mail2triallawyer.com","mail2trick.com","mail2trillionaire.com","mail2troy.com","mail2truck.com","mail2trump.com","mail2try.com","mail2tunisia.com","mail2turbo.com","mail2turkey.com","mail2turkmenistan.com","mail2tv.com","mail2tycoon.com","mail2tyler.com","mail2u4me.com","mail2uae.com","mail2uganda.com","mail2uk.com","mail2ukraine.com","mail2uncle.com","mail2unsubscribe.com","mail2uptown.com","mail2uruguay.com","mail2usa.com","mail2utah.com","mail2uzbekistan.com","mail2v.com","mail2vacation.com","mail2valentines.com","mail2valerie.com","mail2valley.com","mail2vamoose.com","mail2vanessa.com","mail2vanuatu.com","mail2venezuela.com","mail2venous.com","mail2venus.com","mail2vermont.com","mail2vickie.com","mail2victor.com","mail2victoria.com","mail2vienna.com","mail2vietnam.com","mail2vince.com","mail2virginia.com","mail2virgo.com","mail2visionary.com","mail2vodka.com","mail2volleyball.com","mail2waiter.com","mail2wallstreet.com","mail2wally.com","mail2walter.com","mail2warren.com","mail2washington.com","mail2wave.com","mail2way.com","mail2waycool.com","mail2wayne.com","mail2webmaster.com","mail2webtop.com","mail2webtv.com","mail2weird.com","mail2wendell.com","mail2wendy.com","mail2westend.com","mail2westvirginia.com","mail2whether.com","mail2whip.com","mail2white.com","mail2whitehouse.com","mail2whitney.com","mail2why.com","mail2wilbur.com","mail2wild.com","mail2willard.com","mail2willie.com","mail2wine.com","mail2winner.com","mail2wired.com","mail2wisconsin.com","mail2woman.com","mail2wonder.com","mail2world.com","mail2worship.com","mail2wow.com","mail2www.com","mail2wyoming.com","mail2xfiles.com","mail2xox.com","mail2yachtclub.com","mail2yahalla.com","mail2yemen.com","mail2yes.com","mail2yugoslavia.com","mail2zack.com","mail2zambia.com","mail2zenith.com","mail2zephir.com","mail2zeus.com","mail2zipper.com","mail2zoo.com","mail2zoologist.com","mail2zurich.com","mail3000.com","mail333.com","mailandftp.com","MailandNews.com","mailandnews.com","mailas.com","mailasia.com","mailbolt.com","mailbomb.net","mailboom.com","mailbox.as","mailbox.co.za","mailbox.gr","mailbox.hu","mailbr.com.br","mailc.net","mailcan.com","mailcc.com","mailchoose.co","mailcity.com","mailclub.fr","mailclub.net","mailexcite.com","mailforce.net","mailftp.com","mailgate.gr","mailgenie.net","mailhaven.com","mailhood.com","mailingweb.com","mailisent.com","mailite.com","mailme.dk","mailmight.com","mailmij.nl","mailnew.com","mailops.com","mailoye.com","mailpanda.com","mailpokemon.com","mailpost.zzn.com","mailpride.com","mailpuppy.com","mailroom.com","mailru.com","mailsent.net","mailshuttle.com","mailstart.com","mailstartplus.com","mailsurf.com","mailtag.com","mailto.de","mailup.net","mailwire.com","maktoob.com","malayalamtelevision.net","maltesemail.com","manager.de","mancity.net","mantrafreenet.com","mantramail.com","mantraonline.com","marchmail.com","mariah-carey.ml.org","mariahc.com","marijuana.com","marijuana.nl","marketing.lu","married-not.com","marsattack.com","martindalemail.com","mash4077.com","masrawy.com","matmail.com","mauimail.com","mauritius.com","maxleft.com","maxmail.co.uk","mbox.com.au","me-mail.hu","me.com","medical.net.au","medmail.com","medscape.com","meetingmall.com","megago.com","megamail.pt","megapoint.com","mehrani.com","mehtaweb.com","mekhong.com","melodymail.com","meloo.com","members.student.com","message.hu","messages.to","metacrawler.com","metalfan.com","metta.lk","miatadriver.com","miesto.sk","mighty.co.za","miho-nakayama.com","mikrotamanet.com","millionaireintraining.com","millionairemail.com","milmail.com","milmail.com15","mindless.com","mindspring.com","mini-mail.com","misery.net","mittalweb.com","mixmail.com","mjfrogmail.com","ml1.net","mobilbatam.com","mochamail.com","mohammed.com","moldova.cc","moldova.com","moldovacc.com","momslife.com","money.net","montevideo.com.uy","moonman.com","moose-mail.com","mortaza.com","mosaicfx.com","most-wanted.com","mostlysunny.com","motormania.com","movemail.com","movieluver.com","mp4.it","mr-potatohead.com","mrpost.com","mscold.com","msgbox.com","msn.com","mttestdriver.com","MTtestdriver.com","MultipleChoices","mundomail.net","munich.com","music.com","music.com19","musician.org","musicscene.org","muslimemail.com","muslimsonline.com","mutantweb.com","mybox.it","mycabin.com","mycampus.com","mycity.com","mycool.com","mydomain.com","mydotcomaddress.com","myfamily.com","myfastmail.com","mygo.com","myiris.com","mynamedot.com","mynetaddress.com","myownemail.com","myownfriends.com","mypad.com","mypersonalemail.com","myplace.com","myrealbox.com","myremarq.com","myself.com","mystupidjob.com","mythirdage.com","myway.com","myworldmail.com","n2.com","n2baseball.com","n2business.com","n2mail.com","n2soccer.com","n2software.com","nabc.biz","nafe.com","nagpal.net","nakedgreens.com","name.com","nameplanet.com","nandomail.com","naplesnews.net","naseej.com","nativestar.net","nativeweb.net","naui.net","navigator.lv","navy.org","naz.com","nchoicemail.com","neeva.net","nemra1.com","nenter.com","neo.rr.com","nervhq.org","net-pager.net","net4b.pt","net4you.at","netbounce.com","netbroadcaster.com","netby.dk","netcenter-vn.net","netcourrier.com","netexecutive.com","netexpressway.com","netgenie.com","netian.com","netizen.com.ar","netlane.com","netlimit.com","netmanor.com","netmongol.com","netnet.com.sg","netnoir.net","netpiper.com","netposta.net","netradiomail.com","netralink.com","netscape.net","netscapeonline.co.uk","netspeedway.com","netsquare.com","netster.com","nettaxi.com","netzero.com","netzero.net","neuro.md","newmail.com","newmail.net","newmail.ru","newsboysmail.com","newyork.com","nexxmail.com","nfmail.com","nhmail.com","nicebush.com","nicegal.com","nicholastse.net","nicolastse.com","nightmail.com","nikopage.com","nimail.com","nirvanafan.com","noavar.com","norika-fujiwara.com","norikomail.com","northgates.net","nospammail.net","ntscan.com","ny.com","nyc.com","nycmail.com","nzoomail.com","o-tay.com","o2.co.uk","OaklandAs-fan.com","oaklandas-fan.com","oceanfree.net","oddpost.com","odmail.com","office-email.com","officedomain.com","offroadwarrior.com","oicexchange.com","okbank.com","okhuman.com","okmad.com","okmagic.com","okname.net","okuk.com","oldies1041.com","oldies104mail.com","ole.com","olemail.com","olympist.net","omaninfo.com","onebox.com","onenet.com.ar","onet.pl","oninet.pt","online.ie","onlinewiz.com","onmilwaukee.com","onobox.com","onvillage.com","operafan.com","operamail.com","optician.com","optonline.net","optusnet.com.au","orbitel.bg","orgmail.net","osite.com.br","oso.com","otakumail.com","our-computer.com","our-office.com","our.st","ourbrisbane.com","ournet.md","outel.com","outgun.com","over-the-rainbow.com","ownmail.net","ozbytes.net.au","ozemail.com.au","pacbell.net","pacific-re.com","packersfan.com","pagina.de","pagons.org","pakistanmail.com","pakistanoye.com","palestinemail.com","parkjiyoon.com","parrot.com","ParsMail.com","parsmail.com","partlycloudy.com","partynight.at","parvazi.com","passwordmail.com","pathfindermail.com","pconnections.net","pcpostal.com","pcsrock.com","peachworld.com","pediatrician.com","pemail.net","penpen.com","peoplepc.com","peopleweb.com","perfectmail.com","personal.ro","personales.com","petml.com","pettypool.com","pezeshkpour.com","phayze.com","phone.net","phreaker.net","Phreaker.net","pianomail.com","pickupman.com","picusnet.com","pigpig.net","pinoymail.com","piracha.net","pisem.net","planet-mail.com","planetaccess.com","planetall.com","planetarymotion.net","planetdirect.com","planetearthinter.net","planetout.com","plasa.com","playersodds.com","playful.com","plusmail.com.br","pmail.net","pobox.hu","pobox.sk","pochta.ru","poczta.fm","poetic.com","pokemonpost.com","pokepost.com","polbox.com","policeoffice.com","pool-sharks.com","poond.com","popaccount.com","popmail.com","popsmail.com","popstar.com","populus.net","portableoffice.com","portugalmail.com","portugalmail.pt","portugalnet.com","positive-thinking.com","post.com","post.cz","post.sk","posta.net","posta.ro","posta.rosativa.ro.org","postaccesslite.com","postafree.com","postaweb.com","postinbox.com","postino.ch","postmark.net","postmaster.co.uk","postpro.net","pousa.com","powerfan.com","praize.com","pray247.com","premiumservice.com","presidency.com","press.co.jp","priest.com","primposta.com","primposta.hu","pro.hu","probemail.com","prodigy.net","progetplus.it","programmer.net","programozo.hu","proinbox.com","project2k.com","prolaunch.com","promessage.com","prontomail.com","prontomail.compopulus.net","psv-supporter.com","ptd.net","public.usa.com","publicist.com","pulp-fiction.com","punkass.com","PunkAss.com","purpleturtle.com","qatarmail.com","qprfans.com","qrio.com","quackquack.com","quakemail.com","qudsmail.com","quepasa.com","quickhosts.com","quickwebmail.com","quiklinks.com","quikmail.com","qwest.net","qwestoffice.net","r-o-o-t.com","raakim.com","racedriver.com","racefanz.com","racingfan.com.au","racingmail.com","radicalz.com","ragingbull.com","ranmamail.com","rastogi.net","ratt-n-roll.com","rattle-snake.com","ravearena.com","ravemail.com","razormail.com","rccgmail.org","realemail.net","reallyfast.biz","realradiomail.com","recycler.com","recyclermail.com","rediffmail.com","rediffmailpro.com","rednecks.com","redseven.de","redsfans.com","reggafan.com","regiononline.com","registerednurses.com","repairman.com","reply.hu","representative.com","rescueteam.com","resumemail.com","rezai.com","richmondhill.com","rickymail.com","rin.ru","riopreto.com.br","rn.com","roadrunner.com","roanokemail.com","rock.com","rocketmail.com","rockfan.com","rodrun.com","rome.com","romymichele.com","roosh.com","rotfl.com","roughnet.com","rr.com","rrohio.com","rsub.com","rubyridge.com","runbox.com","rushpost.com","ruttolibero.com","rvshop.com","s-mail.com","sabreshockey.com","sacbeemail.com","safarimail.com","safe-mail.net","sagra.lu","sagra.lumarketing.lu","sailormoon.com","saintly.com","saintmail.net","sale-sale-sale.com","salehi.net","samerica.com","samilan.net","sammimail.com","sanfranmail.com","sanook.com","sapo.pt","sativa.ro.org","saudia.com","sayhi.net","sbcglobal.net","scandalmail.com","schizo.com","schoolemail.com","schoolmail.com","schoolsucks.com","schweiz.org","sci.fi","science.com.au","scientist.com","scifianime.com","scotland.com","scottishmail.co.uk","scubadiving.com","seanet.com","searchwales.com","sebil.com","secret-police.com","secretservices.net","seductive.com","seekstoyboy.com","seguros.com.br","send.hu","sendme.cz","sent.com","sentrismail.com","serga.com.ar","servemymail.com","sesmail.com","sexmagnet.com","SexMagnet.com","seznam.cz","shahweb.net","shaniastuff.com","sharewaredevelopers.com","sharmaweb.com","she.com","shootmail.com","shotgun.hu","shuf.com","sialkotcity.com","sialkotian.com","sialkotoye.com","sify.com","silkroad.net","sinamail.com","singapore.com","singles4jesus.com","singmail.com","singnet.com.sg","singpost.com","skafan.com","skim.com","skizo.hu","slamdunkfan.com","slingshot.com","slo.net","slotter.com","sm.westchestergov.com","smapxsmap.net","smileyface.comsmithemail.net","smoothmail.com","snail-mail.net","snail-mail.ney","snakemail.com","sndt.net","sneakemail.com","snet.net","sniper.hu","snoopymail.com","snowboarding.com","snowdonia.net","socamail.com","soccerAmerica.net","socceramerica.net","soccermail.com","soccermomz.com","sociologist.com","softhome.net","sol.dk","soldier.hu","soon.com","soulfoodcookbook.com","sp.nl","space-bank.com","space-man.com","space-ship.com","space-travel.com","space.com","spaceart.com","spacebank.com","spacemart.com","spacetowns.com","spacewar.com","spamex.com","spartapiet.com","spazmail.com","speedemail.net","speedpost.net","speedrules.com","speedrulz.com","spils.com","spinfinder.com","spl.at","sportemail.com","sportsmail.com","sporttruckdriver.com","spray.no","spray.se","spymac.com","srilankan.net","st-davids.net","stade.fr","stalag13.com","stargateradio.com","starmail.com","starmail.org","starmedia.com","starplace.com","starspath.com","start.com.au","starting-point.com","StarTrekMail.com","startrekmail.com","stealthmail.com","stockracer.com","stoned.com","stones.com","stopdropandroll.com","storksite.com","stribmail.com","strompost.com","strongguy.com","studentcenter.org","subnetwork.com","subram.com","sudanmail.net","suhabi.com","suisse.org","sukhumvit.net","sunpoint.net","sunrise-sunset.com","sunsgame.com","sunumail.sn","superdada.com","supereva.it","supermail.ru","surat.com","surf3.net","surfree.com","surfy.net","surimail.com","survivormail.com","swbell.net","sweb.cz","swiftdesk.com","swingeasyhithard.com","swingfan.com","swipermail.zzn.com","swirve.com","swissinfo.org","swissmail.net","switchboardmail.com","switzerland.org","sx172.com","syom.com","syriamail.com","t2mail.com","takuyakimura.com","talk21.com","talkcity.com","tamil.com","tampabay.rr.com","tankpolice.com","tatanova.com","tbwt.com","tds.net","teachermail.net","teamdiscovery.com","teamtulsa.net","tech4peace.org","techemail.com","techie.com","technisamail.co.za","technologist.com","techpointer.com","techscout.com","techseek.com","techspot.com","teenagedirtbag.com","telebot.com","telebot.net","teleline.es","telerymd.com","teleserve.dynip.com","telinco.net","telkom.net","telpage.net","temtulsa.net","tenchiclub.com","tenderkiss.com","tennismail.com","terra.cl","terra.com","terra.com.ar","terra.com.br","terra.es","tfanus.com.er","tfz.net","thai.com","thaimail.com","thaimail.net","the-african.com","the-airforce.com","the-aliens.com","the-american.com","the-animal.com","the-army.com","the-astronaut.com","the-beauty.com","the-big-apple.com","the-biker.com","the-boss.com","the-brazilian.com","the-canadian.com","the-canuck.com","the-captain.com","the-chinese.com","the-country.com","the-cowboy.com","the-davis-home.com","the-dutchman.com","the-eagles.com","the-englishman.com","the-fastest.net","the-fool.com","the-frenchman.com","the-galaxy.net","the-genius.com","the-gentleman.com","the-german.com","the-gremlin.com","the-hooligan.com","the-italian.com","the-japanese.com","the-lair.com","the-madman.com","the-mailinglist.com","the-marine.com","the-master.com","the-mexican.com","the-ministry.com","the-monkey.com","the-newsletter.net","the-pentagon.com","the-police.com","the-prayer.com","the-professional.com","the-quickest.com","the-russian.com","the-snake.com","the-spaceman.com","the-stock-market.com","the-student.net","the-whitehouse.net","the-wild-west.com","the18th.com","thecoolguy.com","thecriminals.com","thedoghousemail.com","thedorm.com","theend.hu","theglobe.com","thegolfcourse.com","thegooner.com","theheadoffice.com","thelanddownunder.com","themail.com","themillionare.net","theoffice.net","thepokerface.com","thepostmaster.net","theraces.com","theracetrack.com","thestreetfighter.com","theteebox.com","thewatercooler.com","thewebpros.co.uk","thewizzard.com","thewizzkid.com","thezhangs.net","thirdage.com","thisgirl.com","thoic.com","thundermail.com","tidni.com","timein.net","tiscali.at","tiscali.be","tiscali.co.uk","tiscali.lu","tiscali.se","tkcity.com","toast.com","toolsource.com","topchat.com","topgamers.co.uk","topletter.com","topmail.com.ar","topsurf.com","topteam.bg","torchmail.com","totalmusic.net","ToughGuy.net","toughguy.net","tpg.com.au","travel.li","trialbytrivia.com","tritium.net","trmailbox.com","tropicalstorm.com","truckers.com","truckerz.com","truckracer.com","truckracers.com","trust-me.com","truth247.com","truthmail.com","tsamail.co.za","ttml.co.in","tunisiamail.com","turkey.com","twinstarsmail.com","tycoonmail.com","typemail.com","u2club.com","uae.ac","uaemail.com","ubbi.com","ubbi.com.br","uboot.com","uk2k.com","uk2net.com","uk7.net","uk8.net","ukbuilder.com","ukcool.com","ukdreamcast.com","ukmail.org","ukmax.com","ukr.net","uku.co.uk","ultapulta.com","ultrapostman.com","ummah.org","umpire.com","unbounded.com","unforgettable.com","uni.de","uni.demailto.de","unican.es","unihome.com","universal.pt","uno.ee","uno.it","unofree.it","unomail.com","uol.com.ar","uol.com.br","uol.com.co","uol.com.mx","uol.com.ve","uole.com","uole.com.ve","uolmail.com","uomail.com","upf.org","ureach.com","urgentmail.biz","usa.com","usa.net","usaaccess.net","usanetmail.com","usermail.com","usma.net","usmc.net","uswestmail.net","uymail.com","uyuyuy.com","v-sexi.com","vahoo.com","vampirehunter.com","varbizmail.com","vcmail.com","velnet.co.uk","velocall.com","verizon.net","verizonmail.com","veryfast.biz","veryspeedy.net","violinmakers.co.uk","vip.gr","vipmail.ru","virgilio.it","virgin.net","virtual-mail.com","virtualactive.com","virtualmail.com","visitmail.com","visitweb.com","visto.com","visualcities.com","vivavelocity.com","vivianhsu.net","vjmail.com","vjtimail.com","vlmail.com","vnn.vn","volcanomail.com","vote-democrats.com","vote-hillary.com","vote-republicans.com","vote4gop.org","votenet.com","vr9.com","w3.to","wahoye.com","wales2000.net","wam.co.za","wanadoo.es","warmmail.com","warpmail.net","warrior.hu","waumail.com","wbdet.com","wearab.net","web-mail.com.ar","web-police.com","web.de","webave.com","WebCamMail.com","webcammail.com","webcity.ca","webdream.com","webinbox.com","webindia123.com","webjump.com","webmail.bellsouth.net","webmail.co.yu","webmail.co.za","webmail.hu","webmails.com","webprogramming.com","webstation.com","websurfer.co.za","webtopmail.com","weedmail.com","weekmail.com","weekonline.com","wehshee.com","welsh-lady.com","whale-mail.com","whartontx.com","wheelweb.com","whipmail.com","whoever.com","whoopymail.com","wickedmail.com","wideopenwest.com","wildmail.com","windrivers.net","windstream.net","wingnutz.com","winmail.com.au","winning.com","witty.com","wiz.cc","wkbwmail.com","woh.rr.com","wolf-web.com","wombles.com","wonder-net.com","wongfaye.com","wooow.it","workmail.com","worldemail.com","worldmailer.com","worldnet.att.net","wosaddict.com","wouldilie.com","wowgirl.com","wowmail.com","wowway.com","wp.pl","wptamail.com","wrestlingpages.com","wrexham.net","writeme.com","writemeback.com","wrongmail.com","wtvhmail.com","wwdg.com","www.com","www2000.net","wx88.net","wxs.net","wyrm.supernews.com","x-mail.net","x-networks.net","x5g.com","xmail.com","xmastime.com","xmsg.com","xoom.com","xoommail.com","xpressmail.zzn.com","xsmail.com","xuno.com","xzapmail.com","yada-yada.com","yaho.com","yahoo.ca","yahoo.co.in","yahoo.co.jp","yahoo.co.kr","yahoo.co.nz","yahoo.co.uk","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.com.br","yahoo.com.cn","yahoo.com.hk","yahoo.com.is","yahoo.com.mx","yahoo.com.ru","yahoo.com.sg","yahoo.de","yahoo.dk","yahoo.es","yahoo.fr","yahoo.ie","yahoo.it","yahoo.jp","yahoo.ru","yahoo.se","yahoofs.com","yalla.com","yalla.com.lb","yalook.com","yam.com","yandex.ru","yapost.com","yawmail.com","yclub.com","yebox.com","yehaa.com","yehey.com","yemenmail.com","yepmail.net","yesbox.net","yifan.net","ymail.com","ynnmail.com","yogotemail.com","yopolis.com","youareadork.com","youpy.com","your-house.com","yourinbox.com","yourlover.net","yournightmare.com","yours.com","yourssincerely.com","yourteacher.net","yourwap.com","youvegotmail.net","yuuhuu.net","yyhmail.com","zahadum.com","zcities.com","zdnetmail.com","zeeks.com","zeepost.nl","zensearch.net","zhaowei.net","zionweb.org","zip.net","zipido.com","ziplip.com","zipmail.com","zipmail.com.br","zipmax.com","zmail.ru","zonnet.nl","zoominternet.net","zubee.com","zuvio.com","zuzzurello.com","zwallet.com","zybermail.com","zydecofan.com","zzn.com","zzom.co.uk"],GE="@",p2=(n="")=>{if(!n||n.indexOf(GE)===-1)return!1;const[,e]=n.split(GE);return h2.includes(e)};h.object({id:h.string(),name:h.string().optional(),endTime:h.number().optional(),startTime:h.number().optional()});const g2=h.object({name:h.string(),email:h.string(),id:h.string(),avatar:h.string()});h.object({id:h.string(),source:h.string(),user:g2,name:h.string(),endTime:h.number(),startTime:h.number(),createdAt:h.string(),meeting:h.string(),thumbnail:h.string()});const Sl=h.enum(["unspecified","customer_success","customer_success_support","design","engineering","executive","hr_recruiting","hr","marketing","operations","operations_leadership","product","sales","sales_marketing","support","user_research","vc_investor","other"]),y2=h.enum(["1","2-5","6-20","Over_20"]),_2=h.enum(["referred","search_engine","social_media","community","other"]),v2=h.enum(["tldv_email","referred_by_friend","referred_by_collegue","website_review","other_blog","google","chrome_store","other_engine","facebook","instagram","tiktok","x","youtube","tldv_blog","product_hunt","newsletter","ads","other_social_media","reddit","quora","other_community","other_other"]),Vp=h.enum(["account_executive","sales_executive","inside_sales_rep","inbound_sales_rep","lead_development_rep","lead_response_rep","marketing_qualification_rep","market_response_rep","account_manager","account_rep","sales_development_rep","business_development_rep","account_development_rep","manager_sales_operations","manager_business_development","manager_sales","director_sales","director_business_development","vp_sales","vp_business_development","other_sales_roles","customer_success_rep","customer_success_manager","customer_success_executive","customer_support_executive","other_customer_support_roles","software_developer","technical_architect","qa_testing","cto","other_engineering_roles","product_manager","product_marketer","product_operations","designer","project_manager","product_owner","user_researcher","cpo","vp_product","other_product_role","hr_intern","hr_assistant","hr_representative","hr_specialist_talent_acquisition","hr_specialist_onboarding","hr_specialist_other","hr_manager","hr_consultant","hr_business_partner","director_of_hr","vp_of_hr","chro","other_hr_role","brand_manager","content_manager","content_strategist","copywriter","creative_director","digital_marketing_manager","graphic_designer","marketing_manager","marketing_assistant","marketing_operations","marketing_researcher","motion_designer","pr_specialist","product_marketing_manager","seo_specialist","social_content_creator","social_media_manager","marketing","director_of_seo","director_of_content","director_of_marketing","vp_of_marketing","cmo","other_marketing_role","founder","ceo","director_of_operations","other_other"]);h.object({occupation:Sl,jobRole:Vp,teamSize:y2,acquisitionChannel:_2,acquisitionChannelDetail:v2});const Hd=h.enum(["bg-BG","en-US","es-MX","es-ES","pt-BR","ca-ES","en-GB","en-AU","el-GR","he-IL","nb-NO","pt-PT","fr-FR","de-DE","id-ID","it-IT","nl-NL","ru-RU","zh-CN","ko-KR","ja-JP","en-IN","hi-IN","fil-PH","th-TH","uk-UA","tr-TR","ro-RO","pl-PL","hu-HU","cs-CZ","ar-EG","ar-JO","ar-LB","ar-SA","ar-AE","ar-QA","hr-HR","da-DK","sk-SK","sl-SI","sv-SE"]).default("en-US"),w2=h.enum(["en-US","es-ES","pt-PT","fr-FR","de-DE","ko-KR","ja-JP"]).default("en-US"),E2=h.enum(["by_topic","by_time","by_tags"]).default("by_topic").optional(),b2=h.enum(["notes","speaker-analytics","leave-feedback"]),T2=h.object({onboardingTranscript:h.boolean().optional(),onboardingSignupForm:h.boolean().optional(),onboardingAiCoachingHub:h.boolean().optional(),onBoardingAiCoachingHubFilterPresets:h.boolean().optional(),lastSelectedDashboardConfigId:h.string().optional().nullable(),onboardingAiCoachingHubDashboardConfigs:h.boolean().optional(),objectionsHandlingSampleBlockRemoved:h.boolean().optional(),onboardingSnippets:h.boolean().optional(),onboardingCopyToClipboard:h.boolean().optional(),onboardingFolders:h.boolean().optional(),onboardingExtensions:h.boolean().optional(),onboardingAutomation:h.boolean().optional(),onboardingIntegrations:h.boolean().optional(),onboardingFullScreenReels:h.boolean().optional(),onboardingAiGenerator:h.boolean().optional(),bannerJackNicholson:h.boolean().optional(),notesDefaultTab:E2,referralDiscountBanner:h.boolean().optional(),integrationsTagFilterOnboarding:h.boolean().optional(),initialReviewUserPreferences:h.boolean().optional(),installedPageSeen:h.boolean().optional(),dismissSalesBadgeOnSpeakerInsights:h.boolean().optional(),dismissCoachingBadgeOnLeaveFeedback:h.boolean().optional(),notesPanelOrder:h.array(b2).optional(),defaultReportTemplatesCreated:h.boolean().optional(),skipCalendarPermissions:h.boolean().optional(),aiCoachingHubSavingDashboardConfigsButtonOnboarding:h.boolean().optional(),aiCoachingHubHasAlreadyGeneratedAnalysis:h.boolean().optional(),aiCoachingHubNumberOfVisits:h.number().optional(),onboardingSurveySkippedCount:h.number().optional()}),A2=h.object({askMeLanguageCodeEveryMeeting:h.boolean().optional()}),WE=h.object({languageCode:Hd,uiLanguageCode:w2.nullable().transform(n=>n===null?"en-US":n),platform:T2,chromeExtension:A2}),S2=h.object({name:h.string(),email:h.string(),jobRole:Vp.nullable().default(Vp.enum.other_other),occupation:Sl}),KE=h.object({seconds:h.coerce.number().or(h.nan()).or(h.string()).transform(n=>Number.isNaN(n)||n==="NaN"?0:n),nanos:h.number().nullable().transform(n=>n??0)}),I2=h.object({word:h.string(),speaker:h.string().optional().nullable(),startTime:KE,endTime:KE}),k2=h.array(I2),R2=h.array(k2),P2=h.enum(["error","queued","init","inProgress","complete"]),C2=h.enum(["googleMeetCaptions","google","azure","whisper","microsoftTeamsCaptions"]),x2=h.object({id:h.string(),data:R2,showTranscript:h.boolean(),timesTranscribed:h.number().default(0),status:P2,provider:C2.nullable().transform(n=>n===null?"whisper":n)}),O2=h.object({transcript:h.string(),transcriptTriggered:h.boolean(),slug:h.string(),transcript_id:h.string(),transcriptId:h.string(),languageCode:Hd}),N2=h.object({id:h.string(),name:h.string().nullable().optional(),username:h.string().nullable().optional(),email:h.string()}),D2=h.array(N2),ys=h.enum(["starter","pro","enterprise","business","coaching"]);h.enum(["monthly","annually"]);const M2=h.object({portalUrl:h.string()});h.enum(["eur","usd"]);const L2=h.object({portalUrl:h.string().optional(),checkoutUrl:h.string().optional()});h.object({groupId:h.string(),replacementUserId:h.string().optional(),replacementGroupId:h.string().optional()});const QE=h.object({id:h.string(),name:h.string().optional(),email:h.string(),avatar:h.string().optional(),billingProfile:h.object({isTrial:h.boolean().optional(),planType:ys,status:h.string().optional(),trialEnd:h.string().nullable().optional()})});h.enum(["auto-recording","meeting-ownership","team-overrides","team-meeting-auto-sharing","organization-meeting-auto-sharing","meeting-organizer-has-write-access","auto-request-participants-consent","auto-notify-new-invited-users"]),h.object({ok:h.boolean(),urlPresigned:h.string()}),h.object({isEnabled:h.boolean()});const F2=h.object({id:h.string(),name:h.string()}),Gd=h.enum(["admin","teamAdmin","member"]),V2=h.enum(["active","past_due","unpaid","canceled","incomplete","incomplete_expired","trialing","all","ended"]),j2=h.object({id:h.string(),planType:ys,customerId:h.string(),subscriptionId:h.string(),teamRole:Gd,seats:h.number(),status:V2,groups:h.array(F2)}),U2=h.object({id:h.string(),role:Gd,name:h.string(),email:h.string(),avatar:h.string()}),z2=h.object({id:h.string(),name:h.string(),planType:ys,personnelCount:h.number(),availableSeats:h.number(),members:h.array(U2)}),JE=h.object({id:h.string(),name:h.string()}),$2=h.object({success:h.boolean()}),B2=h.object({id:h.string()}),q2=h.object({groupId:h.string(),userId:h.string(),role:Gd});h.enum(["organization","team"]);const H2=h.object({name:h.string().nullable().optional(),email:h.string(),avatar:h.string().nullable().optional()}),G2=h.object({name:h.string().optional().nullable(),planType:ys,admins:h.array(H2)}),W2=h.object({id:h.string(),roles:h.array(Gd),extraInfo:G2.optional()}),K2=h.object({emails:h.array(h.string()),emailMask:h.array(h.string()),groups:h.array(W2).optional()}),YE=h.enum(["none","read","write","admin","superAdmin"]),Q2=h.object({avatar:h.string().optional(),name:h.string().optional().nullable()}),J2=h.object({id:h.string().nullable(),email:h.string(),extraInfo:Q2.optional()}),jp=h.object({id:h.string(),listedForTeam:h.boolean(),video:h.string().optional(),meeting:h.string(),permission:YE,extraConfig:K2,users:h.array(J2)}),Y2=h.array(jp),Wd=n=>h.object({total:h.number(),pageSize:h.number(),page:h.number(),pages:h.number(),results:h.array(n)});h.object({page:h.number().optional(),limit:h.number().optional()});const Z2=h.enum(["write","read","admin"]).optional(),X2=h.array(h.object({granted:h.boolean(),type:Z2,_id:h.string(),requester:h.string(),requesterEmail:h.string(),meeting:h.string(),video:h.string(),createdAt:h.string(),updatedAt:h.string(),__v:h.number(),id:h.string()})),eO=h.enum(["joined","recording","failed","deleted","pending","reserved","uploading","kickedOut","duplicated","successful","noProvider","processing","waitingRoom","noOneJoined","noPodAvailable","triggeredManually","meetingTriggerError","failedBecauseOfCaptcha","noCapacityForFreeUsers","waitingRoomTimeExceeded","failedBecauseYouCantJoin","failedBecauseInvalidLink","failedBecauseWebinarEnded","failedBecauseBreakoutRoom","failedBecauseCantJoinViaWeb","failedBecauseRestrictedToOrg","failedBecauseNoPasswordWasSet","failedBecauseWrongConferenceId","failedBecauseWebinarWaitingRoom","failedBecauseLocationNotAllowed","failedBecauseBotAlreadyKickedOut","failedBecauseMeetingRequiresSignIn","failedBecauseRemovedWhileInWaitingRoom","failedBecauseWebinarRequiresRegistration","failedBecauseMeetingRequiresRegistration","failedBecauseWebinarIsScheduledInTheFuture","failedBecauseMeetingEndedWhileInWaitingRoom","failedBecauseHostHasAnotherMeetingInProgress","failedBecauseSignInWithTheEmailInvitedToTheMeeting","failedBecauseProviderInternalServerError"]),ZE=h.enum(["audioOnly","video"]),tO=h.object({label:h.string(),value:h.string()}),XE=h.enum(["all","private","team","public","organization"]),Up=h.enum(["all","internal","external"]),nO=h.coerce.date(),rO=h.coerce.date(),iO=h.enum(["any_time","past_hour","past_day","past_week","past_month","past_year"]),zp=h.enum(["all","engineering","marketing","product","design","sales","customer_success","support","operations","user_research","hr_recruiting","other"]),oO=h.array(tO),sO=h.enum(["MEETING_NAME","ORGANIZER_EMAIL","PARTICIPANT_EMAIL","TRANSCRIPT_PHRASE","ORGANIZER_NAME","PARTICIPANT_NAME"]),aO=h.object({matchType:sO,highlights:h.array(h.string()),raw:h.string(),metadata:h.object({timestamp:h.number().optional()}).optional()}),cO=h.enum(["superAdmin","admin","write","read","none"]),lO=h.enum(["public","private"]),uO=h.enum(["addedPeople","teamPlusPeople","private","public"]),eb=h.enum(["private","people","team","organization","public"]),tb=h.object({id:h.string(),duration:h.number(),name:h.string(),createdAt:h.string(),userPermission:cO.default("read"),thumbnailUrl:h.string(),privacy:lO.optional().default("private"),shareSetting:uO.optional().default("private"),videoId:h.string().optional(),matches:h.array(aO).optional().default([]),sharingScope:eb.optional().default("organization"),recordingType:ZE.optional().nullable().default("video")});h.array(tb);const dO=Wd(tb),fO=h.string().length(24),mO=h.boolean(),hO=h.string(),pO=h.string(),gO=h.string(),yO=h.enum(["relevance","date","-date"]),Kd=h.object({from:nO.optional(),to:rO.optional(),department:zp.optional(),participant:fO.optional(),participants:Up.optional(),excludeDomainMeetings:mO.optional(),space:eb.optional(),domain:hO.optional(),query:pO.optional(),title:gO.optional(),sort:yO.optional()}),_O=h.object({id:h.string(),name:h.string(),filters:Kd}),vO=Wd(_O);h.object({title:h.string()}),h.object({name:h.string(),filters:Kd});const wO=h.object({id:h.string(),name:h.string(),filters:Kd});h.object({joined:h.coerce.boolean().default(!1),role:zp.default("all"),type:Up.default("all"),participant:h.string().default("all"),domain:h.string().default(""),title:h.string().default(""),time:iO.default("any_time"),scope:XE.optional().default("all"),teams:h.string().default(""),crmDealStage:h.string().default("")}),h.object({time:h.object({from:h.string(),to:h.string()}).optional(),participant:h.string().optional()});const EO=h.enum(["public","private"]);h.object({privacy:EO});const nb=h.object({meeting:h.string().nullable(),id:h.string()}),bO=h.array(nb),TO=nb.extend({createdAt:h.string(),published_at:h.string(),updatedAt:h.string(),user:h.string().optional()}),AO=h.enum(["processing","successful","failed"]),Er=h.number().nullable().optional().transform(n=>Math.round(n||0)),SO=h.enum(["up","down","sideways","unknown"]),Kr=h.object({direction:SO,changeAmount:h.number()}),IO=h.object({totalTimeTalkedInSeconds:Kr,longestMonologueInSeconds:Kr,totalWordsSpoken:Kr,totalQuestionsAsked:Kr,totalFillerWordsSpoken:Kr,avgWordsPerMinute:Kr,avgTalkTimePercentage:Kr,avgLongestMonologueInSeconds:Kr,avgFillerWordsPerMinute:Kr,avgQuestionsPerHour:Kr}),rb=h.object({name:h.string().optional(),speakerId:h.string().optional(),timeTalkedInSeconds:Er,longestMonologueInSeconds:Er,wordsSpoken:Er,questionsAsked:Er,fillerWordsSpoken:Er,totalOfTalkTimeInSeconds:Er,totalOfTalkTimeInPct:Er,questionsPerHour:Er,fillerWordsPerMinute:Er,longestMonologueInMinutes:Er,wordsPerMinute:Er,trends:IO.optional()});h.object({meetingId:h.string(),status:AO,entries:h.array(rb)}),h.object({noTranscript:h.boolean()}).default({noTranscript:!0});const kO=h.enum(["googleMeet","microsoftTeams","zoom","uploadedMedia"]),ib=h.enum(["init","queued","inProgress","liveVersionComplete","complete","error"]),RO=h.enum(["userDeletion","userAction","scheduledDeletion"]),PO=h.enum(["archived","unarchiving","available"]),CO=h.object({email:h.string().email().optional(),name:h.string().optional(),username:h.string().optional(),reason:RO}),xO=h.object({potentialChunkCount:h.number().optional()}),ob=h.object({id:h.string(),label:h.string(),index:h.number().optional()}),OO=h.object({completedAt:h.coerce.date().optional().nullable(),potentialAutomatedNoteCount:h.number().optional().nullable(),inputCategories:h.array(ob).optional()}),NO=h.object({text:h.string().optional(),timestamp:h.number(),isManual:h.boolean().optional(),category:ob.optional().nullable()}),DO=h.object({id:h.string().optional(),title:h.string(),summary:h.string(),notes:h.array(NO)}),sb=h.object({id:h.string().optional().nullable(),label:h.string().optional().nullable()}),MO=h.object({templateInfo:sb.optional(),completedAt:h.coerce.date().optional().nullable(),meetingTopics:h.array(DO).nullable().optional(),cappedByPaywall:h.boolean().optional(),retriggeredAt:h.number().optional(),conflictingTemplates:h.array(sb).optional().nullable()}),LO=h.object({takeaways:xO.optional(),aiNotes:OO.optional(),aiTopics:MO.optional()}),FO=h.enum(["public","private"]),ab=h.object({_id:h.string(),privacy:FO.default("public"),provider_id:h.string().optional(),source:h.string().optional(),thumbnail:h.string().optional(),thumbnail_src:h.string().optional(),createdAt:h.coerce.date(),meeting:h.string(),transcript:h.object({_id:h.string(),status:ib})}),VO=h.union([h.string(),h.object({_id:h.string(),email:h.string()})]),jO=h.enum(["default","userPreference","highTraffic"]),UO=h.object({dealId:h.string(),dealName:h.string(),dealStageId:h.string(),dealStageName:h.string(),dealStageParentId:h.string(),relatedToEmail:h.string(),relatedToSourceId:h.string(),createdAt:h.string().optional().nullable(),source:h.enum(["hubspot"])}),zO=h.object({id:h.string(),name:h.string(),source:h.enum(["hubspot"]),dealId:h.string(),dealStageParentId:h.string().optional().nullable(),completedAt:h.coerce.date(),updatedAt:h.coerce.date().nullable().optional(),options:h.array(UO)}).optional().nullable(),$O=h.object({_id:h.string(),name:h.string(),organizedBy:VO.nullable(),createdAt:h.coerce.date(),video:ab,duration:h.number().nullable(),conferenceId:h.string().optional(),provider:kO.optional(),organizedByEmail:h.string().optional(),deletionInfo:CO.optional(),status:eO.default("processing"),transcodingStatus:ib.default("init"),userPermission:YE,availability:PO.default("available"),unarchiveDate:h.string().nullable().optional(),scheduledDeletionAt:h.string().nullable().optional(),postProcessingActions:LO.optional(),languageCode:Hd.nullable().transform(n=>n||"en-US").default("en-US"),blocked:h.boolean().default(!1),recordingType:ZE.optional().nullable().default("video"),recordingTypeReason:jO.optional().nullable().default("default"),crmDealStage:zO}),BO=h.object({meeting:$O,video:ab}),qO=h.object({planType:ys}),$p=h.object({id:h.string(),content:h.string(),timestamp:h.number(),user:h.object({deactivated:h.boolean(),id:h.string().optional(),name:h.string().optional(),avatar:h.string().optional()}),createdAt:h.coerce.date(),updatedAt:h.coerce.date()});h.object({content:h.string(),timestamp:h.number()}),h.object({content:h.string(),timestamp:h.number()}),h.object({data:h.array($p)}),h.object({data:$p.pick({content:!0,id:!0,timestamp:!0}).merge(h.object({userId:h.string()}))}),h.object({data:$p.pick({content:!0,id:!0,timestamp:!0})}),h.object({data:h.object({id:h.string(),isDeleted:h.boolean()})});const HO=h.enum(["queued","processing","successful","failed"]),cb=h.object({id:h.string(),title:h.string().nullable().optional().default(""),templateId:h.string().nullable().optional().default(""),createdAt:h.string().optional().nullable().default(new Date().toISOString()),startedAt:h.string().optional().nullable(),isRecurring:h.boolean().default(!1)}),lb=cb.extend({status:HO,prompt:h.string().optional().nullable().default(""),result:h.object({content:h.string().nullable().optional().default(""),evidences:h.array(h.object({meeting_id:h.string(),timestamp:h.number(),url:h.string()})).nullable().optional().default([])})});h.object({prompt:h.string(),includedMeetings:h.array(h.string()).optional().nullable(),excludedMeetings:h.array(h.string()).optional().nullable(),filter:h.object({excludeDomainMeetings:h.boolean().optional(),query:h.string().optional().nullable(),participants:h.string().optional().nullable(),type:h.string().optional().nullable(),role:h.string().optional().nullable(),time:h.string().optional().nullable()}).optional().nullable(),desiredLanguage:h.string().optional().nullable()});const GO=h.array(cb),WO=h.object({page:h.number().optional().default(1),pageSize:h.number().optional().default(10),total:h.number().optional().default(0),items:GO.optional().default([])}),ub=h.object({space:XE.default("all"),excludeDomainMeetings:h.coerce.boolean().default(!1),participants:Up.default("all"),department:zp.default("all"),title:h.string().nullable().optional().default(""),domain:h.string().nullable().optional().default(""),participant:h.string().nullable().optional().default(""),from:h.string().nullable().optional(),to:h.string().nullable().optional(),crmDealStage:h.string().nullable().optional().default("")}),KO=h.enum(["daily","weekly","monthly"]),db=h.object({dayOfWeek:h.coerce.number().min(0).max(6).default(0).optional(),dayOfMonth:h.coerce.number().min(1).max(28).default(1).optional(),time:h.string().default("00:00"),timezone:h.string().default(Intl.DateTimeFormat().resolvedOptions().timeZone)}),fb=h.object({title:h.string().default(""),prompt:h.string().default(""),filtersQueryString:h.string().default(""),frequency:KO.default("weekly"),frequencyConfig:db.default(db.parse({})),status:h.enum(["enabled","disabled"]).default("enabled")}),Qd=fb.extend({id:h.string(),createdAt:h.string().default(new Date().toISOString())});fb.extend({filters:ub.default(ub.parse({}))}).extend({title:h.string().min(5).max(200),prompt:h.string().min(5).max(500)});const QO=h.array(Qd),JO=h.object({page:h.number(),pageSize:h.number(),total:h.number(),items:QO}),YO=h.object({id:h.string(),ownerId:h.string(),prompt:h.string()});h.array(YO);const Bp=h.object({meetingId:h.string().optional(),timestamp:h.number(),url:h.string().optional()}),mb=h.object({id:h.string(),sentence:h.string(),meeting:h.object({id:h.string(),title:h.string()}),evidence:Bp.nullable()});h.object({id:h.string(),question:h.string(),yes_affirmation:h.string().optional(),yes_answers:h.array(mb),no_answers:h.array(mb),frequency:h.number().max(100).min(0)});const hb=h.enum(["recorded-by-free-user","unknown"]),pb=h.object({entries:h.array(rb),hasHiddenSpeakers:h.boolean().optional(),speakerVisibilityThreshold:h.number().optional().default(2)});h.object({speakerInsights:pb,unavailableMeetings:h.record(hb)}),h.object({meetingIds:h.array(h.string())});const qp=h.enum(["speaker-insights","playbook-monitoring","objection-handling"]),gb=h.object({title:h.string(),type:qp,questions:h.array(h.object({languageKey:h.string().nullable(),question:h.string()})).optional(),objections:h.array(h.object({name:h.string(),nameLanguageKey:h.string().nullable(),successCriteriaLanguageKey:h.string().nullable(),successCriteria:h.string().nullable()})).optional()}),ZO=h.object({title:h.string(),blocks:h.array(gb)}),XO=h.object({id:h.string(),role:Sl.optional()}).merge(ZO),eN=h.object({id:h.string(),role:Sl.optional()}).merge(gb);h.object({dashboardTemplates:h.array(XO).optional(),blockTemplates:h.record(Sl,h.record(qp,h.array(eN)))});const tN=h.object({id:h.string(),question:h.string(),languageKey:h.string().nullable()}),nN=h.object({id:h.string(),name:h.string(),nameLanguageKey:h.string().nullable(),successCriteria:h.string().nullable(),successCriteriaLanguageKey:h.string().nullable()}),yb=h.object({meetingId:h.string(),meetingTitle:h.string(),summary:h.string().nullable(),answered:h.boolean(),evidence:Bp.nullable()}),rN=h.object({id:h.string(),question:h.string(),languageKey:h.string().nullable()}).merge(h.object({answerRate:h.number().optional().nullable(),answered:h.array(yb).optional(),unanswered:h.array(yb).optional()})),iN=h.object({answerRate:h.number(),questions:h.array(rN)}),oN=h.object({meetingId:h.string(),meetingTitle:h.string(),mentioned:h.boolean(),metSuccessCriteria:h.boolean(),summary:h.string().nullable(),evidence:Bp.nullable()}),Il=h.object({rate:h.number(),mentions:h.array(oN)});h.enum(["addressed","partiallyAddressed","notAddressed","mentioned","notMentioned"]);const sN=h.object({id:h.string(),name:h.string(),nameLanguageKey:h.string().nullable(),mentionRate:h.number(),effectiveHandlingRate:h.number(),successCriteria:h.string().nullable(),successCriteriaLanguageKey:h.string().nullable(),mentions:h.object({mentioned:Il,notMentioned:Il}),successCriteriaMentions:h.object({met:Il,partiallyMet:Il,unmet:Il}).nullable()}),aN=h.object({objections:h.array(sN)}),_b=h.object({meetingIds:h.array(h.string()),languageCode:Hd,filters:Kd,speakerInsights:pb.merge(h.object({unavailableMeetings:h.record(hb)})).optional(),playbookMonitoring:iN.optional(),objectionHandling:aN.optional()}),vb=h.enum(["indeterminate","processing","successful","failed","item-added","item-removed","item-edited"]),cN=h.object({id:h.string(),type:qp,title:h.string(),order:h.number().default(0),evaluationResult:_b.optional(),comparisonEvaluationResult:_b.optional(),evaluationStatus:vb.default("indeterminate"),questions:h.array(tN).optional(),objections:h.array(nN).optional()}),lN=h.object({id:h.string(),title:h.string(),userId:h.string().optional(),blocks:h.array(cN),evaluationStatus:vb});h.array(lN);const Hp=h.object({id:h.string(),name:h.string(),thumbnailUrl:h.string(),sourceUrl:h.string(),durationMs:h.number(),meetingRef:h.object({name:h.string(),id:h.string(),positionMs:h.number()}).optional()}),Gp=h.object({id:h.string(),createdAt:h.string(),updatedAt:h.string(),createdBy:QE.optional(),name:h.string(),thumbnailUrl:h.string(),sourceUrl:h.string(),clips:h.array(Hp)}),uN=h.object({id:h.string(),createdAt:h.string(),updatedAt:h.string(),name:h.string(),clipsCount:h.number(),thumbnailUrl:h.string(),sourceUrl:h.string(),clipIds:h.array(h.string())});h.object({clips:h.array(Hp.shape.id).optional(),name:Hp.shape.name.optional()});const dN=Wd(uN);h.object({name:h.string(),message:h.string(),stack:h.string().optional()});const fN=h.object({token:h.string()});h.object({seconds:h.coerce.number().or(h.nan()).or(h.string()).transform(n=>Number.isNaN(n)||n==="NaN"?0:n),nanos:h.number().nullable().transform(n=>n||0)}),h.object({data:h.object({token:h.string()})}),h.object({invitationLinkId:h.string()});const mN=h.object({id:h.string(),planType:ys});h.object({id:h.string(),createdAt:h.string(),endTime:h.number(),meeting:h.string(),meetingRef:h.object({id:h.string(),name:h.string(),positionMs:h.number()}).optional(),name:h.string(),published_at:h.string(),source:h.string().optional(),startTime:h.number(),updatedAt:h.string(),user:h.string(),blocked:h.boolean().optional(),userData:mN.optional()});const hN=h.object({id:h.string(),positionMs:h.number(),name:h.string()}),pN=h.object({planType:ys,id:h.string()}),wb=h.object({id:h.string(),createdAt:h.string(),durationMs:h.number(),name:h.string(),sourceUrl:h.string(),thumbnailUrl:h.string(),ownerId:h.string().optional(),createdBy:QE.optional(),meetingRef:hN.optional(),creatorPlan:pN.optional()});wb.omit({meetingRef:!0,createdBy:!0,creatorPlan:!0}),wb.omit({createdBy:!0,creatorPlan:!0}),h.object({meetingId:h.string(),durationMs:h.number(),startTimeMs:h.number(),name:h.string()}),h.object({name:h.string()});const Eb={Zapier:"Zapier",PublicApi:"PublicApi"},gN=h.object({id:h.string(),key:h.string(),createdAt:h.string(),updatedAt:h.string(),audience:h.nativeEnum(Eb)});h.object({audience:h.nativeEnum(Eb),name:h.string().optional()}),h.array(gN);const yN={CREATE_CLIP:"clip_creation",AI_MEETING_TAKEAWAYS:"ai_meeting_takeaways",AI_MEETING_TOPICS:"ai_meeting_topics",UPLOAD_MEETING:"upload_meeting",ZAPIER_INTEGRATION:"zapier_integration",AI_GENERATOR_PROMPTS:"ai_prompt_meetings",AI_COACHING_HUB:"ai_coaching_hub"},bb=h.union([h.enum(Object.values(yN)),h.string()]),_N=h.object({feature:bb,credits:h.number(),infinityCredits:h.boolean(),usages:h.number()});h.object({id:h.string(),feature:bb,credits:h.number()}),Wd(_N);const vN={log:"background-color: #CA9BEF; color: #953BAB;",warn:"background-color: #F9AB3C; color: #8B5509;",error:"background-color: #F17491; color: #B5032C;",success:"background-color: #90E3D3; color: #03815E;"},Tb="background-color: #C1C1FF; color: #1D1DFF; padding: 4px 7px; font-weight: bold;",wN="border-top-left-radius: 6px; border-bottom-left-radius: 6px;",EN="border-top-right-radius: 6px; border-bottom-right-radius: 6px;",bN=[Tb,wN].join(" "),TN=" TL;DV ";function Jd(n,e,t,...r){const i=n.toUpperCase(),s=e.toUpperCase(),c=`%c${TN}%c${i} (${s})`,u=vN[n],m=[Tb,u,EN].join(" "),p=r.length>0;let y=console.group;p||(y=console.log),y(c,bN,m,t),p&&(console.log(...r),console.groupEnd())}const Dt={log(n,e,...t){Jd("log",n,e,...t)},warn(n,e,...t){Jd("warn",n,e,...t)},error(n,e,...t){Jd("error",n,e,...t)},success(n,e,...t){Jd("success",n,e,...t)}};function br(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lo(n){return!!n&&!!n[gt]}function vi(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ON}(n)||Array.isArray(n)||!!n[Nb]||!!(!((e=n.constructor)===null||e===void 0)&&e[Nb])||Wp(n)||Kp(n))}function _s(n,e,t){t===void 0&&(t=!1),Ia(n)===0?(t?Object.keys:Ra)(n).forEach(function(r){t&&typeof r=="symbol"||e(r,n[r],n)}):n.forEach(function(r,i){return e(i,r,n)})}function Ia(n){var e=n[gt];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:Wp(n)?2:Kp(n)?3:0}function ka(n,e){return Ia(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function AN(n,e){return Ia(n)===2?n.get(e):n[e]}function Ab(n,e,t){var r=Ia(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Sb(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function Wp(n){return CN&&n instanceof Map}function Kp(n){return xN&&n instanceof Set}function vs(n){return n.o||n.t}function Qp(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=Db(n);delete e[gt];for(var t=Ra(e),r=0;r<t.length;r++){var i=t[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),e)}function Jp(n,e){return e===void 0&&(e=!1),Yp(n)||lo(n)||!vi(n)||(Ia(n)>1&&(n.set=n.add=n.clear=n.delete=SN),Object.freeze(n),e&&_s(n,function(t,r){return Jp(r,!0)},!0)),n}function SN(){br(2)}function Yp(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function Qr(n){var e=sg[n];return e||br(18,n),e}function IN(n,e){sg[n]||(sg[n]=e)}function Zp(){return kl}function Xp(n,e){e&&(Qr("Patches"),n.u=[],n.s=[],n.v=e)}function Yd(n){eg(n),n.p.forEach(kN),n.p=null}function eg(n){n===kl&&(kl=n.l)}function Ib(n){return kl={p:[],l:kl,h:n,m:!0,_:0}}function kN(n){var e=n[gt];e.i===0||e.i===1?e.j():e.g=!0}function tg(n,e){e._=e.p.length;var t=e.p[0],r=n!==void 0&&n!==t;return e.h.O||Qr("ES5").S(e,n,r),r?(t[gt].P&&(Yd(e),br(4)),vi(n)&&(n=Zd(e,n),e.l||Xd(e,n)),e.u&&Qr("Patches").M(t[gt].t,n,e.u,e.s)):n=Zd(e,t,[]),Yd(e),e.u&&e.v(e.u,e.s),n!==Ob?n:void 0}function Zd(n,e,t){if(Yp(e))return e;var r=e[gt];if(!r)return _s(e,function(u,m){return kb(n,r,e,u,m,t)},!0),e;if(r.A!==n)return e;if(!r.P)return Xd(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Qp(r.k):r.o,s=i,c=!1;r.i===3&&(s=new Set(i),i.clear(),c=!0),_s(s,function(u,m){return kb(n,r,i,u,m,t,c)}),Xd(n,i,!1),t&&n.u&&Qr("Patches").N(r,t,n.u,n.s)}return r.o}function kb(n,e,t,r,i,s,c){if(lo(i)){var u=Zd(n,i,s&&e&&e.i!==3&&!ka(e.R,r)?s.concat(r):void 0);if(Ab(t,r,u),!lo(u))return;n.m=!1}else c&&t.add(i);if(vi(i)&&!Yp(i)){if(!n.h.D&&n._<1)return;Zd(n,i),e&&e.A.l||Xd(n,i)}}function Xd(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&Jp(e,t)}function ng(n,e){var t=n[gt];return(t?vs(t):n)[e]}function Rb(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Object.getPrototypeOf(t)}}function uo(n){n.P||(n.P=!0,n.l&&uo(n.l))}function rg(n){n.o||(n.o=Qp(n.t))}function ig(n,e,t){var r=Wp(e)?Qr("MapSet").F(e,t):Kp(e)?Qr("MapSet").T(e,t):n.O?function(i,s){var c=Array.isArray(i),u={i:c?1:0,A:s?s.A:Zp(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},m=u,p=Rl;c&&(m=[u],p=Pl);var y=Proxy.revocable(m,p),w=y.revoke,b=y.proxy;return u.k=b,u.j=w,b}(e,t):Qr("ES5").J(e,t);return(t?t.A:Zp()).p.push(r),r}function RN(n){return lo(n)||br(22,n),function e(t){if(!vi(t))return t;var r,i=t[gt],s=Ia(t);if(i){if(!i.P&&(i.i<4||!Qr("ES5").K(i)))return i.t;i.I=!0,r=Pb(t,s),i.I=!1}else r=Pb(t,s);return _s(r,function(c,u){i&&AN(i.t,c)===u||Ab(r,c,e(u))}),s===3?new Set(r):r}(n)}function Pb(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return Qp(n)}function PN(){function n(s,c){var u=i[s];return u?u.enumerable=c:i[s]=u={configurable:!0,enumerable:c,get:function(){var m=this[gt];return Rl.get(m,s)},set:function(m){var p=this[gt];Rl.set(p,s,m)}},u}function e(s){for(var c=s.length-1;c>=0;c--){var u=s[c][gt];if(!u.P)switch(u.i){case 5:r(u)&&uo(u);break;case 4:t(u)&&uo(u)}}}function t(s){for(var c=s.t,u=s.k,m=Ra(u),p=m.length-1;p>=0;p--){var y=m[p];if(y!==gt){var w=c[y];if(w===void 0&&!ka(c,y))return!0;var b=u[y],k=b&&b[gt];if(k?k.t!==w:!Sb(b,w))return!0}}var C=!!c[gt];return m.length!==Ra(c).length+(C?0:1)}function r(s){var c=s.k;if(c.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(c,c.length-1);if(u&&!u.get)return!0;for(var m=0;m<c.length;m++)if(!c.hasOwnProperty(m))return!0;return!1}var i={};IN("ES5",{J:function(s,c){var u=Array.isArray(s),m=function(y,w){if(y){for(var b=Array(w.length),k=0;k<w.length;k++)Object.defineProperty(b,""+k,n(k,!0));return b}var C=Db(w);delete C[gt];for(var D=Ra(C),N=0;N<D.length;N++){var F=D[N];C[F]=n(F,y||!!C[F].enumerable)}return Object.create(Object.getPrototypeOf(w),C)}(u,s),p={i:u?5:4,A:c?c.A:Zp(),P:!1,I:!1,R:{},l:c,t:s,k:m,o:null,g:!1,C:!1};return Object.defineProperty(m,gt,{value:p,writable:!0}),m},S:function(s,c,u){u?lo(c)&&c[gt].A===s&&e(s.p):(s.u&&function m(p){if(p&&typeof p=="object"){var y=p[gt];if(y){var w=y.t,b=y.k,k=y.R,C=y.i;if(C===4)_s(b,function(G){G!==gt&&(w[G]!==void 0||ka(w,G)?k[G]||m(b[G]):(k[G]=!0,uo(y)))}),_s(w,function(G){b[G]!==void 0||ka(b,G)||(k[G]=!1,uo(y))});else if(C===5){if(r(y)&&(uo(y),k.length=!0),b.length<w.length)for(var D=b.length;D<w.length;D++)k[D]=!1;else for(var N=w.length;N<b.length;N++)k[N]=!0;for(var F=Math.min(b.length,w.length),q=0;q<F;q++)b.hasOwnProperty(q)||(k[q]=!0),k[q]===void 0&&m(b[q])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?t(s):r(s)}})}var Cb,kl,og=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",CN=typeof Map<"u",xN=typeof Set<"u",xb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ob=og?Symbol.for("immer-nothing"):((Cb={})["immer-nothing"]=!0,Cb),Nb=og?Symbol.for("immer-draftable"):"__$immer_draftable",gt=og?Symbol.for("immer-state"):"__$immer_state",ON=""+Object.prototype.constructor,Ra=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Db=Object.getOwnPropertyDescriptors||function(n){var e={};return Ra(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},sg={},Rl={get:function(n,e){if(e===gt)return n;var t=vs(n);if(!ka(t,e))return function(i,s,c){var u,m=Rb(s,c);return m?"value"in m?m.value:(u=m.get)===null||u===void 0?void 0:u.call(i.k):void 0}(n,t,e);var r=t[e];return n.I||!vi(r)?r:r===ng(n.t,e)?(rg(n),n.o[e]=ig(n.A.h,r,n)):r},has:function(n,e){return e in vs(n)},ownKeys:function(n){return Reflect.ownKeys(vs(n))},set:function(n,e,t){var r=Rb(vs(n),e);if(r!=null&&r.set)return r.set.call(n.k,t),!0;if(!n.P){var i=ng(vs(n),e),s=i==null?void 0:i[gt];if(s&&s.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(Sb(t,i)&&(t!==void 0||ka(n.t,e)))return!0;rg(n),uo(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return ng(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,rg(n),uo(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=vs(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty:function(){br(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){br(12)}},Pl={};_s(Rl,function(n,e){Pl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Pl.deleteProperty=function(n,e){return Pl.set.call(this,n,e,void 0)},Pl.set=function(n,e,t){return Rl.set.call(this,n[0],e,t,n[0])};var NN=function(){function n(t){var r=this;this.O=xb,this.D=!0,this.produce=function(i,s,c){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var m=r;return function(D){var N=this;D===void 0&&(D=u);for(var F=arguments.length,q=Array(F>1?F-1:0),G=1;G<F;G++)q[G-1]=arguments[G];return m.produce(D,function(re){var Q;return(Q=s).call.apply(Q,[N,re].concat(q))})}}var p;if(typeof s!="function"&&br(6),c!==void 0&&typeof c!="function"&&br(7),vi(i)){var y=Ib(r),w=ig(r,i,void 0),b=!0;try{p=s(w),b=!1}finally{b?Yd(y):eg(y)}return typeof Promise<"u"&&p instanceof Promise?p.then(function(D){return Xp(y,c),tg(D,y)},function(D){throw Yd(y),D}):(Xp(y,c),tg(p,y))}if(!i||typeof i!="object"){if((p=s(i))===void 0&&(p=i),p===Ob&&(p=void 0),r.D&&Jp(p,!0),c){var k=[],C=[];Qr("Patches").M(i,p,k,C),c(k,C)}return p}br(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(p){for(var y=arguments.length,w=Array(y>1?y-1:0),b=1;b<y;b++)w[b-1]=arguments[b];return r.produceWithPatches(p,function(k){return i.apply(void 0,[k].concat(w))})};var c,u,m=r.produce(i,s,function(p,y){c=p,u=y});return typeof Promise<"u"&&m instanceof Promise?m.then(function(p){return[p,c,u]}):[m,c,u]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){vi(t)||br(8),lo(t)&&(t=RN(t));var r=Ib(this),i=ig(this,t,void 0);return i[gt].C=!0,eg(r),i},e.finishDraft=function(t,r){var i=t&&t[gt],s=i.A;return Xp(s,r),tg(void 0,s)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!xb&&br(20),this.O=t},e.applyPatches=function(t,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(r=r.slice(i+1));var c=Qr("Patches").$;return lo(t)?c(t,r):this.produce(t,function(u){return c(u,r)})},n}(),Vn=new NN,Mb=Vn.produce;Vn.produceWithPatches.bind(Vn),Vn.setAutoFreeze.bind(Vn),Vn.setUseProxies.bind(Vn),Vn.applyPatches.bind(Vn),Vn.createDraft.bind(Vn),Vn.finishDraft.bind(Vn);function Cl(n){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(n)}function DN(n,e){if(Cl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MN(n){var e=DN(n,"string");return Cl(e)=="symbol"?e:e+""}function LN(n,e,t){return(e=MN(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){LN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cn(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Vb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ag=function(){return Math.random().toString(36).substring(7).split("").join(".")},ef={INIT:"@@redux/INIT"+ag(),REPLACE:"@@redux/REPLACE"+ag(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ag()}};function FN(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function cg(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(cn(1));return t(cg)(n,e)}if(typeof n!="function")throw new Error(cn(2));var i=n,s=e,c=[],u=c,m=!1;function p(){u===c&&(u=c.slice())}function y(){if(m)throw new Error(cn(3));return s}function w(D){if(typeof D!="function")throw new Error(cn(4));if(m)throw new Error(cn(5));var N=!0;return p(),u.push(D),function(){if(N){if(m)throw new Error(cn(6));N=!1,p();var q=u.indexOf(D);u.splice(q,1),c=null}}}function b(D){if(!FN(D))throw new Error(cn(7));if(typeof D.type>"u")throw new Error(cn(8));if(m)throw new Error(cn(9));try{m=!0,s=i(s,D)}finally{m=!1}for(var N=c=u,F=0;F<N.length;F++){var q=N[F];q()}return D}function k(D){if(typeof D!="function")throw new Error(cn(10));i=D,b({type:ef.REPLACE})}function C(){var D,N=w;return D={subscribe:function(q){if(typeof q!="object"||q===null)throw new Error(cn(11));function G(){q.next&&q.next(y())}G();var re=N(G);return{unsubscribe:re}}},D[Vb]=function(){return this},D}return b({type:ef.INIT}),r={dispatch:b,subscribe:w,getState:y,replaceReducer:k},r[Vb]=C,r}function VN(n){Object.keys(n).forEach(function(e){var t=n[e],r=t(void 0,{type:ef.INIT});if(typeof r>"u")throw new Error(cn(12));if(typeof t(void 0,{type:ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function lg(n){for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r];typeof n[i]=="function"&&(t[i]=n[i])}var s=Object.keys(t),c;try{VN(t)}catch(u){c=u}return function(m,p){if(m===void 0&&(m={}),c)throw c;for(var y=!1,w={},b=0;b<s.length;b++){var k=s[b],C=t[k],D=m[k],N=C(D,p);if(typeof N>"u")throw p&&p.type,new Error(cn(14));w[k]=N,y=y||N!==D}return y=y||s.length!==Object.keys(m).length,y?w:m}}function tf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function jb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(cn(15))},c={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(m){return m(c)});return s=tf.apply(void 0,u)(i.dispatch),Fb(Fb({},i),{},{dispatch:s})}}}function Ub(n){var e=function(r){var i=r.dispatch,s=r.getState;return function(c){return function(u){return typeof u=="function"?u(i,s,n):c(u)}}};return e}var ug=Ub();ug.withExtraArgument=Ub;var zb=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jN=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){t.label=p[1];break}if(p[0]===6&&t.label<s[1]){t.label=s[1],s=p;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(p);break}s[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(y){p=[6,y],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Pa=function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},UN=Object.defineProperty,zN=Object.defineProperties,$N=Object.getOwnPropertyDescriptors,$b=Object.getOwnPropertySymbols,BN=Object.prototype.hasOwnProperty,qN=Object.prototype.propertyIsEnumerable,Bb=function(n,e,t){return e in n?UN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},fo=function(n,e){for(var t in e||(e={}))BN.call(e,t)&&Bb(n,t,e[t]);if($b)for(var r=0,i=$b(e);r<i.length;r++){var t=i[r];qN.call(e,t)&&Bb(n,t,e[t])}return n},dg=function(n,e){return zN(n,$N(e))},HN=function(n,e,t){return new Promise(function(r,i){var s=function(m){try{u(t.next(m))}catch(p){i(p)}},c=function(m){try{u(t.throw(m))}catch(p){i(p)}},u=function(m){return m.done?r(m.value):Promise.resolve(m.value).then(s,c)};u((t=t.apply(n,e)).next())})},GN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tf:tf.apply(null,arguments)};function WN(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}function Se(n,e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return fo(fo({type:n,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:n,payload:r[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(r){return r.type===n},t}var KN=function(n){zb(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Pa([void 0],t[0].concat(this)))):new(e.bind.apply(e,Pa([void 0],t.concat(this))))},e}(Array),QN=function(n){zb(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Pa([void 0],t[0].concat(this)))):new(e.bind.apply(e,Pa([void 0],t.concat(this))))},e}(Array);function fg(n){return vi(n)?Mb(n,function(){}):n}function JN(n){return typeof n=="boolean"}function YN(){return function(e){return ZN(e)}}function ZN(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var r=new KN;return t&&(JN(t)?r.push(ug):r.push(ug.withExtraArgument(t.extraArgument))),r}function XN(n){var e=YN(),t=n||{},r=t.reducer,i=r===void 0?void 0:r,s=t.middleware,c=s===void 0?e():s,u=t.devTools,m=u===void 0?!0:u,p=t.preloadedState,y=p===void 0?void 0:p,w=t.enhancers,b=w===void 0?void 0:w,k;if(typeof i=="function")k=i;else if(WN(i))k=lg(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var C=c;typeof C=="function"&&(C=C(e));var D=jb.apply(void 0,C),N=tf;m&&(N=GN(fo({trace:!1},typeof m=="object"&&m)));var F=new QN(D),q=F;Array.isArray(b)?q=Pa([D],b):typeof b=="function"&&(q=b(F));var G=N.apply(void 0,q);return cg(k,y,G)}function qb(n){var e={},t=[],r,i={addCase:function(s,c){var u=typeof s=="string"?s:s.type;if(!u)throw new Error("`builder.addCase` cannot be called with an empty action type");if(u in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[u]=c,i},addMatcher:function(s,c){return t.push({matcher:s,reducer:c}),i},addDefaultCase:function(s){return r=s,i}};return n(i),[e,t,r]}function eD(n){return typeof n=="function"}function tD(n,e,t,r){t===void 0&&(t=[]);var i=typeof e=="function"?qb(e):[e,t,r],s=i[0],c=i[1],u=i[2],m;if(eD(n))m=function(){return fg(n())};else{var p=fg(n);m=function(){return p}}function y(w,b){w===void 0&&(w=m());var k=Pa([s[b.type]],c.filter(function(C){var D=C.matcher;return D(b)}).map(function(C){var D=C.reducer;return D}));return k.filter(function(C){return!!C}).length===0&&(k=[u]),k.reduce(function(C,D){if(D)if(lo(C)){var N=C,F=D(N,b);return F===void 0?C:F}else{if(vi(C))return Mb(C,function(q){return D(q,b)});var F=D(C,b);if(F===void 0){if(C===null)return C;throw Error("A case reducer on a non-draftable value must not return undefined")}return F}return C},w)}return y.getInitialState=m,y}function nD(n,e){return n+"/"+e}function Jr(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:fg(n.initialState),r=n.reducers||{},i=Object.keys(r),s={},c={},u={};i.forEach(function(y){var w=r[y],b=nD(e,y),k,C;"reducer"in w?(k=w.reducer,C=w.prepare):k=w,s[y]=k,c[b]=k,u[y]=C?Se(b,C):Se(b)});function m(){var y=typeof n.extraReducers=="function"?qb(n.extraReducers):[n.extraReducers],w=y[0],b=w===void 0?{}:w,k=y[1],C=k===void 0?[]:k,D=y[2],N=D===void 0?void 0:D,F=fo(fo({},b),c);return tD(t,function(q){for(var G in F)q.addCase(G,F[G]);for(var re=0,Q=C;re<Q.length;re++){var K=Q[re];q.addMatcher(K.matcher,K.reducer)}N&&q.addDefaultCase(N)})}var p;return{name:e,reducer:function(y,w){return p||(p=m()),p(y,w)},actions:u,caseReducers:s,getInitialState:function(){return p||(p=m()),p.getInitialState()}}}var rD="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iD=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=rD[Math.random()*64|0];return e},oD=["name","message","stack","code"],mg=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),Hb=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),sD=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,r=oD;t<r.length;t++){var i=r[t];typeof n[i]=="string"&&(e[i]=n[i])}return e}return{message:String(n)}};(function(){function n(e,t,r){var i=Se(e+"/fulfilled",function(p,y,w,b){return{payload:p,meta:dg(fo({},b||{}),{arg:w,requestId:y,requestStatus:"fulfilled"})}}),s=Se(e+"/pending",function(p,y,w){return{payload:void 0,meta:dg(fo({},w||{}),{arg:y,requestId:p,requestStatus:"pending"})}}),c=Se(e+"/rejected",function(p,y,w,b,k){return{payload:b,error:(r&&r.serializeError||sD)(p||"Rejected"),meta:dg(fo({},k||{}),{arg:w,requestId:y,rejectedWithValue:!!b,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return p.prototype.abort=function(){},p}();function m(p){return function(y,w,b){var k=r!=null&&r.idGenerator?r.idGenerator(p):iD(),C=new u,D;function N(q){D=q,C.abort()}var F=function(){return HN(this,null,function(){var q,G,re,Q,K,x,I;return jN(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),Q=(q=r==null?void 0:r.condition)==null?void 0:q.call(r,p,{getState:w,extra:b}),cD(Q)?[4,Q]:[3,2];case 1:Q=A.sent(),A.label=2;case 2:if(Q===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return K=new Promise(function(P,O){return C.signal.addEventListener("abort",function(){return O({name:"AbortError",message:D||"Aborted"})})}),y(s(k,p,(G=r==null?void 0:r.getPendingMeta)==null?void 0:G.call(r,{requestId:k,arg:p},{getState:w,extra:b}))),[4,Promise.race([K,Promise.resolve(t(p,{dispatch:y,getState:w,extra:b,requestId:k,signal:C.signal,abort:N,rejectWithValue:function(P,O){return new mg(P,O)},fulfillWithValue:function(P,O){return new Hb(P,O)}})).then(function(P){if(P instanceof mg)throw P;return P instanceof Hb?i(P.payload,k,p,P.meta):i(P,k,p)})])];case 3:return re=A.sent(),[3,5];case 4:return x=A.sent(),re=x instanceof mg?c(null,k,p,x.payload,x.meta):c(x,k,p),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&c.match(re)&&re.meta.condition,I||y(re),[2,re]}})})}();return Object.assign(F,{abort:N,requestId:k,arg:p,unwrap:function(){return F.then(aD)}})}}return Object.assign(m,{pending:s,rejected:c,fulfilled:i,typePrefix:e})}return n.withTypes=function(){return n},n})();function aD(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function cD(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var hg="listenerMiddleware";Se(hg+"/add"),Se(hg+"/removeAll"),Se(hg+"/remove");var Gb;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),PN();const nf="auth",Wb={accessToken:void 0},pg=Jr({name:nf,initialState:Wb,reducers:{persistPlatformToken:(n,{payload:e})=>{n.accessToken=e},resetAuthState:()=>Wb}}),{persistPlatformToken:gg,resetAuthState:xl}=pg.actions,lD=Se(`${nf}/getUserInformation`),rf=Se(`${nf}/getUserInformationFulfilled`),yg=Se(`${nf}/persistPlatformTokenFulfilled`),uD="database",Kb={isConnecting:!1,isReady:!1,isAuthenticated:!1},_g=Jr({name:uD,initialState:Kb,reducers:{resetDatabase:()=>Kb,setDatabaseAsConnecting(n){n.isReady=!1,n.isAuthenticated=!1,n.isConnecting=!0},setDatabaseAsConnected(n){n.isReady=!0,n.isAuthenticated=!0,n.isConnecting=!1}}}),{resetDatabase:vg,setDatabaseAsConnecting:dD,setDatabaseAsConnected:Qb}=_g.actions,Jb=Se("database/startLoadingFirebase"),Yb=Se("database/listenForDatabaseAuthentication"),Zb=Se("database/tryToAuthenticateWithFirebase"),Xb="featureFlags",eT={[bl.FetchCalendarOnJoin]:!1},jn=Jr({name:Xb,initialState:eT,reducers:{setFeatureFlags:(n,e)=>Object.assign(n,e.payload),resetAllFeatureFlags:()=>eT}}),{setFeatureFlags:fD,resetAllFeatureFlags:mD}=jn.actions;Se(`${Xb}/persistFulfilled`);const hD=60*60;function pD(n,e=hD){const t=new Date,r=new Date(n);return(t.getTime()-r.getTime())/1e3>=e}const wg="tracking";function gD(){return Se(`${wg}/trackEvent`)}const ws=gD(),yD=Se(`${wg}/trackEventFulfilled`),_D=Se(`${wg}/trackIdentifyFulfilled`);function At(n){return typeof n=="function"}function vD(n){return At(n==null?void 0:n.lift)}function In(n){return function(e){if(vD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Eg=function(n,e){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Eg(n,e)};function Tr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eg(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function bg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function wD(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(y){try{p(r.next(y))}catch(w){c(w)}}function m(y){try{p(r.throw(y))}catch(w){c(w)}}function p(y){y.done?s(y.value):i(y.value).then(u,m)}p((r=r.apply(n,e||[])).next())})}function tT(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(t=0)),t;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){t.label=p[1];break}if(p[0]===6&&t.label<s[1]){t.label=s[1],s=p;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(p);break}s[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(y){p=[6,y],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Ca(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return s}function ho(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function xa(n){return this instanceof xa?(this.v=n,this):new xa(n)}function ED(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(k){return function(C){return Promise.resolve(C).then(k,w)}}function u(k,C){r[k]&&(i[k]=function(D){return new Promise(function(N,F){s.push([k,D,N,F])>1||m(k,D)})},C&&(i[k]=C(i[k])))}function m(k,C){try{p(r[k](C))}catch(D){b(s[0][3],D)}}function p(k){k.value instanceof xa?Promise.resolve(k.value.v).then(y,w):b(s[0][2],k)}function y(k){m("next",k)}function w(k){m("throw",k)}function b(k,C){k(C),s.shift(),s.length&&m(s[0][0],s[0][1])}}function bD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ca=="function"?Ca(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(c){return new Promise(function(u,m){c=n[s](c),i(u,m,c.done,c.value)})}}function i(s,c,u,m){Promise.resolve(m).then(function(p){s({value:p,done:u})},c)}}typeof SuppressedError=="function"&&SuppressedError;var nT=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function rT(n){return At(n==null?void 0:n.then)}function Tg(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ag=Tg(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function of(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ol=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=Ca(c),m=u.next();!m.done;m=u.next()){var p=m.value;p.remove(this)}}catch(D){e={error:D}}finally{try{m&&!m.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else c.remove(this);var y=this.initialTeardown;if(At(y))try{y()}catch(D){s=D instanceof Ag?D.errors:[D]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var b=Ca(w),k=b.next();!k.done;k=b.next()){var C=k.value;try{sT(C)}catch(D){s=s??[],D instanceof Ag?s=ho(ho([],mo(s)),mo(D.errors)):s.push(D)}}}catch(D){r={error:D}}finally{try{k&&!k.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}}if(s)throw new Ag(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)sT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&of(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&of(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),iT=Ol.EMPTY;function oT(n){return n instanceof Ol||n&&"closed"in n&&At(n.remove)&&At(n.add)&&At(n.unsubscribe)}function sT(n){At(n)?n():n.unsubscribe()}var TD={Promise:void 0},AD={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,ho([n,e],mo(t)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function aT(n){AD.setTimeout(function(){throw n})}function Sg(){}function sf(n){n()}var Ig=function(n){Tr(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,oT(t)&&t.add(r)):r.destination=kD,r}return e.create=function(t,r,i){return new kg(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ol),SD=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){af(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){af(r)}else af(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){af(t)}},n}(),kg=function(n){Tr(e,n);function e(t,r,i){var s=n.call(this)||this,c;return At(t)||!t?c={next:t??void 0,error:r??void 0,complete:i??void 0}:c=t,s.destination=new SD(c),s}return e}(Ig);function af(n){aT(n)}function ID(n){throw n}var kD={closed:!0,next:Sg,error:ID,complete:Sg},Rg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cf(n){return n}function RD(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return cT(n)}function cT(n){return n.length===0?cf:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var Jt=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=CD(e)?e:new kg(e,t,r);return sf(function(){var c=i,u=c.operator,m=c.source;s.add(u?u.call(s,m):m?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=lT(t),new t(function(i,s){var c=new kg({next:function(u){try{e(u)}catch(m){s(m),c.unsubscribe()}},error:s,complete:i});r.subscribe(c)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Rg]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cT(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=lT(e),new e(function(r,i){var s;t.subscribe(function(c){return s=c},function(c){return i(c)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function lT(n){var e;return(e=n??TD.Promise)!==null&&e!==void 0?e:Promise}function PD(n){return n&&At(n.next)&&At(n.error)&&At(n.complete)}function CD(n){return n&&n instanceof Ig||PD(n)&&oT(n)}function uT(n){return At(n[Rg])}function dT(n){return Symbol.asyncIterator&&At(n==null?void 0:n[Symbol.asyncIterator])}function fT(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function xD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mT=xD();function hT(n){return At(n==null?void 0:n[mT])}function pT(n){return ED(this,arguments,function(){var t,r,i,s;return tT(this,function(c){switch(c.label){case 0:t=n.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,xa(t.read())];case 3:return r=c.sent(),i=r.value,s=r.done,s?[4,xa(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,xa(i)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function gT(n){return At(n==null?void 0:n.getReader)}function Un(n){if(n instanceof Jt)return n;if(n!=null){if(uT(n))return OD(n);if(nT(n))return ND(n);if(rT(n))return DD(n);if(dT(n))return yT(n);if(hT(n))return MD(n);if(gT(n))return LD(n)}throw fT(n)}function OD(n){return new Jt(function(e){var t=n[Rg]();if(At(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ND(n){return new Jt(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DD(n){return new Jt(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,aT)})}function MD(n){return new Jt(function(e){var t,r;try{for(var i=Ca(n),s=i.next();!s.done;s=i.next()){var c=s.value;if(e.next(c),e.closed)return}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function yT(n){return new Jt(function(e){FD(n,e).catch(function(t){return e.error(t)})})}function LD(n){return yT(pT(n))}function FD(n,e){var t,r,i,s;return wD(this,void 0,void 0,function(){var c,u;return tT(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,11]),t=bD(n),m.label=1;case 1:return[4,t.next()];case 2:if(r=m.sent(),!!r.done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];m.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=m.sent(),i={error:u},[3,11];case 6:return m.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Yt(n,e,t,r,i){return new VD(n,e,t,r,i)}var VD=function(n){Tr(e,n);function e(t,r,i,s,c,u){var m=n.call(this,t)||this;return m.onFinalize=c,m.shouldUnsubscribe=u,m._next=r?function(p){try{r(p)}catch(y){t.error(y)}}:n.prototype._next,m._error=s?function(p){try{s(p)}catch(y){t.error(y)}finally{this.unsubscribe()}}:n.prototype._error,m._complete=i?function(){try{i()}catch(p){t.error(p)}finally{this.unsubscribe()}}:n.prototype._complete,m}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Ig),jD=function(n){Tr(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(Ol),_T={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,ho([n,e],mo(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},vT=function(n){Tr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var s=this.id,c=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(c,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(c,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),_T.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&_T.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,s;try{this.work(t)}catch(c){i=!0,s=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,of(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(jD),Pg={now:function(){return(Pg.delegate||Date).now()},delegate:void 0},wT=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=Pg.now,n}(),ET=function(n){Tr(e,n);function e(t,r){r===void 0&&(r=wT.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(wT),lf=new ET(vT),UD=lf;function bT(n){return n&&At(n.schedule)}function zD(n){return n instanceof Date&&!isNaN(n)}function TT(n,e,t){n===void 0&&(n=0),t===void 0&&(t=UD);var r=-1;return e!=null&&(bT(e)?t=e:r=e),new Jt(function(i){var s=zD(n)?+n-t.now():n;s<0&&(s=0);var c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Cg(n){return n[n.length-1]}function AT(n){return At(Cg(n))?n.pop():void 0}function ST(n){return bT(Cg(n))?n.pop():void 0}function $D(n,e){return typeof Cg(n)=="number"?n.pop():e}function Es(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Nl(n){return In(function(e,t){var r=null,i=!1,s;r=e.subscribe(Yt(t,void 0,void 0,function(c){s=Un(n(c,Nl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var BD=Array.isArray,qD=Object.getPrototypeOf,HD=Object.prototype,GD=Object.keys;function WD(n){if(n.length===1){var e=n[0];if(BD(e))return{args:e,keys:null};if(KD(e)){var t=GD(e);return{args:t.map(function(r){return e[r]}),keys:t}}}return{args:n,keys:null}}function KD(n){return n&&typeof n=="object"&&qD(n)===HD}function Dl(n,e){return e===void 0&&(e=0),In(function(t,r){t.subscribe(Yt(r,function(i){return Es(r,n,function(){return r.next(i)},e)},function(){return Es(r,n,function(){return r.complete()},e)},function(i){return Es(r,n,function(){return r.error(i)},e)}))})}function xg(n,e){return e===void 0&&(e=0),In(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function QD(n,e){return Un(n).pipe(xg(e),Dl(e))}function JD(n,e){return Un(n).pipe(xg(e),Dl(e))}function YD(n,e){return new Jt(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZD(n,e){return new Jt(function(t){var r;return Es(t,e,function(){r=n[mT](),Es(t,e,function(){var i,s,c;try{i=r.next(),s=i.value,c=i.done}catch(u){t.error(u);return}c?t.complete():t.next(s)},0,!0)}),function(){return At(r==null?void 0:r.return)&&r.return()}})}function IT(n,e){if(!n)throw new Error("Iterable cannot be null");return new Jt(function(t){Es(t,e,function(){var r=n[Symbol.asyncIterator]();Es(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function XD(n,e){return IT(pT(n),e)}function eM(n,e){if(n!=null){if(uT(n))return QD(n,e);if(nT(n))return YD(n,e);if(rT(n))return JD(n,e);if(dT(n))return IT(n,e);if(hT(n))return ZD(n,e);if(gT(n))return XD(n,e)}throw fT(n)}function Ml(n,e){return e?eM(n,e):Un(n)}function Ll(n,e){return In(function(t,r){var i=0;t.subscribe(Yt(r,function(s){r.next(n.call(e,s,i++))}))})}var tM=Array.isArray;function nM(n,e){return tM(e)?n.apply(void 0,ho([],mo(e))):n(e)}function kT(n){return Ll(function(e){return nM(n,e)})}function rM(n,e){return n.reduce(function(t,r,i){return t[r]=e[i],t},{})}function iM(n,e,t){return t===void 0&&(t=cf),function(r){RT(e,function(){for(var i=n.length,s=new Array(i),c=i,u=i,m=function(y){RT(e,function(){var w=Ml(n[y],e),b=!1;w.subscribe(Yt(r,function(k){s[y]=k,b||(b=!0,u--),u||r.next(t(s.slice()))},function(){--c||r.complete()}))},r)},p=0;p<i;p++)m(p)})}}function RT(n,e,t){e()}function oM(n,e,t,r,i,s,c,u){var m=[],p=0,y=0,w=!1,b=function(){w&&!m.length&&!p&&e.complete()},k=function(D){return p<r?C(D):m.push(D)},C=function(D){p++;var N=!1;Un(t(D,y++)).subscribe(Yt(e,function(F){e.next(F)},function(){N=!0},void 0,function(){if(N)try{p--;for(var F=function(){var q=m.shift();c||C(q)};m.length&&p<r;)F();b()}catch(q){e.error(q)}}))};return n.subscribe(Yt(e,k,function(){w=!0,b()})),function(){}}function we(n,e,t){return t===void 0&&(t=1/0),At(e)?we(function(r,i){return Ll(function(s,c){return e(r,s,i,c)})(Un(n(r,i)))},t):(typeof e=="number"&&(t=e),In(function(r,i){return oM(r,i,n,t)}))}var sM=Array.isArray;function aM(n){return n.length===1&&sM(n[0])?n[0]:n}function PT(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=AT(n);return t?RD(PT.apply(void 0,ho([],mo(n))),kT(t)):In(function(r,i){iM(ho([r],mo(aM(n))))(i)})}function Og(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return PT.apply(void 0,ho([],mo(n)))}function cM(n){return n===void 0&&(n=1/0),we(cf,n)}var lM=Tg(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Oa=function(n){Tr(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new CT(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new lM},e.prototype.next=function(t){var r=this;sf(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var c=Ca(r.currentObservers),u=c.next();!u.done;u=c.next()){var m=u.value;m.next(t)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;sf(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;sf(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,s=i.hasError,c=i.isStopped,u=i.observers;return s||c?iT:(this.currentObservers=null,u.push(t),new Ol(function(){r.currentObservers=null,of(u,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r.thrownError,c=r.isStopped;i?t.error(s):c&&t.complete()},e.prototype.asObservable=function(){var t=new Jt;return t.source=this,t},e.create=function(t,r){return new CT(t,r)},e}(Jt),CT=function(n){Tr(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:iT},e}(Oa);function xT(n,e){return e===void 0&&(e=lf),In(function(t,r){var i=null,s=null,c=null,u=function(){if(i){i.unsubscribe(),i=null;var p=s;s=null,r.next(p)}};function m(){var p=c+n,y=e.now();if(y<p){i=this.schedule(void 0,p-y),r.add(i);return}u()}t.subscribe(Yt(r,function(p){s=p,c=e.now(),i||(i=e.schedule(m,n),r.add(i))},function(){u(),r.complete()},void 0,function(){s=i=null}))})}function uM(n){return In(function(e,t){var r=!1;e.subscribe(Yt(t,function(i){r=!0,t.next(i)},function(){r||t.next(n),t.complete()}))})}var OT=new Jt(function(n){return n.complete()});function NT(n){return n<=0?function(){return OT}:In(function(e,t){var r=0;e.subscribe(Yt(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dM(n){return Ll(function(){return n})}function fM(n,e){return we(function(t,r){return Un(n(t,r)).pipe(NT(1),dM(t))})}function Ng(n,e){e===void 0&&(e=lf);var t=TT(n,e);return fM(function(){return t})}function Yr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ST(n);return Ml(n,t)}function de(n,e){return In(function(t,r){var i=0;t.subscribe(Yt(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}var DT=Tg(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function mM(n){return n===void 0&&(n=hM),In(function(e,t){var r=!1;e.subscribe(Yt(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(n())}))})}function hM(){return new DT}function po(n,e){return In(function(t,r){var i=0,s=null,c=!1;t.subscribe(Yt(r,function(u){s||(s=Yt(r,void 0,function(){s=null,c&&r.complete()}),Un(n(u,i++)).subscribe(s))},function(){c=!0,!s&&r.complete()}))})}function MT(n,e){var t=arguments.length>=2;return function(r){return r.pipe(cf,NT(1),t?uM(e):mM(function(){return new DT}))}}var LT=function(n){Tr(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Pg);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(t){var r=this,i=r.isStopped,s=r._buffer,c=r._infiniteTimeWindow,u=r._timestampProvider,m=r._windowTime;i||(s.push(t),!c&&s.push(u.now()+m)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,c=i._buffer,u=c.slice(),m=0;m<u.length&&!t.closed;m+=s?1:2)t.next(u[m]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,s=t._buffer,c=t._infiniteTimeWindow,u=(c?1:2)*r;if(r<1/0&&u<s.length&&s.splice(0,s.length-u),!c){for(var m=i.now(),p=0,y=1;y<s.length&&s[y]<=m;y+=2)p=y;p&&s.splice(0,p+1)}},e}(Oa);function pM(n,e){return e===void 0&&(e=lf),TT(n,n,e)}function Dg(n,e){return In(function(t,r){var i=null,s=0,c=!1,u=function(){return c&&!i&&r.complete()};t.subscribe(Yt(r,function(m){i==null||i.unsubscribe();var p=0,y=s++;Un(n(m,y)).subscribe(i=Yt(r,function(w){return r.next(e?e(m,w,y,p++):w)},function(){i=null,u()}))},function(){c=!0,u()}))})}function bs(n){return In(function(e,t){Un(n).subscribe(Yt(t,function(){return t.complete()},Sg)),!t.closed&&e.subscribe(t)})}const gM=(n,e,t)=>{const r=n>=500,s=e+1>t;return r&&!s};function Mg(n){return n.message.includes("Unauthorized")}class FT extends Error{constructor(e,t,r){super(e),this.message=e,this.payload=t,this.statusCode=r}}const _n=n=>({Authorization:`Bearer ${n}`}),VT={headers:{}},Na=async(n,e,t,r,i,s=VT,c=[],u=1)=>{var y;s.headers=s.headers??VT.headers;const m=c.reduce((w,b)=>b(w),s),p=`${e}${t}`;try{await l2(u);const b=await fetch(p,{method:n,...m,headers:{...(()=>{const F=(m==null?void 0:m.body)instanceof FormData,q={};return F?q:{"Content-Type":"application/json"}})(),...m==null?void 0:m.headers}});if(b.status===401)throw new FT("Unauthorized",b,b.status);const k=(y=b.headers)==null?void 0:y.get("content-type"),C=(k==null?void 0:k.indexOf("application/json"))!==-1;if(b.ok)return b.status===204||!C?void 0:b.json();if(gM(b.status,u,i))return Na(n,e,t,r,i,m,c,u+1);if(!C)throw new Error(`Non-JSON response. status=${b.status}`);const N=await b.json();throw N!=null&&N.message?new FT(N.message,N,b.status):new Error(`Unexpected error, status=${b.status}`)}catch(w){if(w instanceof Error)throw Object.assign(w,{message:`Error trying to fetch. url=${p}, method=${n}, retryCount=${u}, originalMessage=${w.message}`}),r(w),w}},jT={maxRetries:3,onError(n){throw n}};function UT(n){const e=n.baseURL,t=n.maxRetries??jT.maxRetries,r=n.onError??jT.onError,i=n.interceptors??[];return{get(s,c){return Na("GET",e,s,r,t,c,i)},post(s,c){return Na("POST",e,s,r,t,c,i)},put(s,c){return Na("PUT",e,s,r,t,c,i)},patch(s,c){return Na("PATCH",e,s,r,t,c,i)},delete(s,c){return Na("DELETE",e,s,r,t,c,i)}}}const yM=n=>{const e=UT(n);return{requestBotToJoinZoomMeeting(t,r){return e.post("/meetings/join-now",{body:JSON.stringify(t),...r})},requestBotToJoinTeamsMeeting(t,r){return e.post("/meetings/join-now",{body:JSON.stringify({...t,provider:zd.MicrosoftTeams}),...r})},requestBotToJoinGoogleMeeting(t,r){return t={...t,provider:"googleMeet"},e.post("/meetings/join-now",{body:JSON.stringify(t),...r})},getMeetingId(t,r){return e.get(`/meetings/v2/get-id?conferenceId=${t.conferenceId}&provider=${t.provider}`,r)},addParticipant(t,r){return e.post("/meetings/participants",{body:JSON.stringify(t),...r})},getUserInfo(t){return e.get("/users/me",t)},triggerAutoRecord(t,r){return e.post("/meetings/v2/auto-recording",{body:JSON.stringify(t),...r})},getUserSettings(t){return e.get("/user-settings",t)},updateUserSettings(t,r){return e.put("/user-settings",{body:JSON.stringify(t),...r})}}},_M=h.object({status:h.enum(["ok","actionRequired"])}),vM=h.object({success:h.boolean(),message:h.string().optional()});h.object({token:h.string()});const wM=h.object({id:h.string(),name:h.string().optional(),email:h.string(),avatar:h.string().optional()}),EM=h.object({data:h.array(wM)}),bM=n=>{const e=UT(n);return{getUserSettings(t){return e.get("/v1/user-settings/",t).then(WE.parse)},updateUserSettings(t,r){return e.put("/v1/user-settings/",{body:JSON.stringify(t),...r}).then(WE.parse)},getMeetingTranscript(t,r){return e.get(`/v1/meetings/${t}/transcript`,r).then(x2.parse)},postMeetingSharing(t,r){var s;const i=(s=t.groupIds)!=null&&s.length?{teams:t.groupIds}:{};return e.post(`/v1/meetings/${t.meetingId}/share`,{body:JSON.stringify({...i,type:t.type}),...r})},postMeetingAcl(t,r){return t.id&&delete t.id,e.post("/v1/access-controls",{body:JSON.stringify(t),...r}).then(jp.parse)},putMeetingAcl(t,r){return e.put(`/v1/access-controls/${t.id}`,{body:JSON.stringify(t),...r}).then(jp.parse)},putMeetingVideo({videoId:t,payload:r},i){return e.put(`/v1/videos/${t}`,{body:JSON.stringify(r),...i})},postSendVideoAccessGrantedEmail(t,r){return e.post("/v1/video-access-requests/grant",{body:JSON.stringify(t),...r})},getLibrarySuggestions(t,r="",i){return e.get(`/v1/search/suggest/${t}?q=${r}`,i).then(oO.parse)},getContacts(t){return e.get("/v1/users/contacts",t)},getUserPreferences(t){return e.get("/v1/users/preferences",t)},updateUserPreferences(t,r){return e.put("/v1/users/preferences",{body:JSON.stringify({preferences:t}),...r})},getTeamPreferences(t){return e.get("/v1/users/team/preferences",t)},getTeamPreferencesOverridden(t){return e.get("/v1/users/preferences/overridden",t)},updateTeamPreferences(t,r){return e.put("/v1/users/team/preferences",{body:JSON.stringify(t),...r})},getMeetingAclsByMeetingId(t,r){return e.get(`/v1/meetings/${t}/acls`,r).then(Y2.parse)},track(t){return e.post("/v1/track",{headers:{Accept:"text/plain","Content-Type":"application/json"},body:JSON.stringify(t)})},getFeatureFlags(t){return e.get("/v1/featureflags",t)},createUserReport(t,r){return e.post("/v1/ai/reports",{body:JSON.stringify(t),...r}).then(lb.parse)},getUserReport(t,r){return e.get(`/v1/ai/reports/${t}`,r).then(lb.parse)},getUserReportTemplate(t,r){return e.get(`/v1/ai/report-templates/${t}`,r).then(Qd.parse)},getUserReports(t,r){const i=new URLSearchParams;t&&(i.set("page",String(t.page)),i.set("pageSize",String(t.pageSize)),i.set("sort",t.sort||"-updatedAt"));const s=`?${i.toString()}`;return e.get(`/v1/ai/reports${s}`,{...r}).then(WO.parse)},getReels(t=BE,r){return e.get("/v1/reels/",{...r,body:JSON.stringify({...BE,...t})}).then(dN.parse)},getReel(t,r){return e.get(`/v1/reels/${t}`,r).then(Gp.parse)},postReel(t,r,i){return e.post(`/v1/reels/${t}`,{...i,body:JSON.stringify(r)}).then(Gp.parse)},putReel(t,r,i){return e.put(`/v1/reels/${t}`,{...i,body:JSON.stringify(r)}).then(Gp.parse)},deleteReel(t,r){return e.delete(`/v1/reels/${t}`,r)},getUserReportTemplates(t,r){const i=new URLSearchParams;t&&(i.set("page",String(t.page)),i.set("pageSize",String(t.pageSize)),i.set("sort",t.sort||"-updatedAt"));const s=`?${i.toString()}`;return e.get(`/v1/ai/report-templates${s}`,r).then(JO.parse)},putUpdateUser(t,r){return e.put("/v1/users/me",{body:JSON.stringify(t),...r})},getTeamMemberProfile(t,r){return e.get(`/v1/team-members/${t}/profile`,r).then(S2.parse)},putUpdateTeamMemberUser(t,r,i){return e.put(`/v1/team-members/${r}/profile`,{body:JSON.stringify(t),...i})},createUserReportTemplate(t,r){return e.post("/v1/ai/report-templates",{body:JSON.stringify(t),...r}).then(Qd.parse)},createUserDefaultReportTemplates(t,r){return e.post("/v1/ai/default-report-templates",{body:JSON.stringify(t),...r})},putUserReportTemplate(t,r,i){return e.put(`/v1/ai/report-templates/${t}`,{body:JSON.stringify(r),...i}).then(Qd.parse)},deleteUserReportTemplate(t,r){return e.delete(`/v1/ai/report-templates/${t}`,r)},patchUpdateReport(t,r,i){return e.patch(`/v1/ai/reports/${t}`,{body:JSON.stringify(r),...i})},deleteUpdateReport(t,r){return e.delete(`/v1/ai/reports/${t}`,r)},sendSignupForm(t,r){return e.post("/v1/users/signup-form",{body:JSON.stringify({formData:t}),...r})},geContactSuggestions(t){return e.get("/v1/search/suggest/users",t).then(D2.parse)},getUserViewingConfirmations(t){return e.get("/v1/viewing-confirmations/me",t).then(bO.parse)},postViewingConfirmation(t,r){return e.post("/v1/viewing-confirmations",{body:JSON.stringify({meetingId:t}),...r}).then(TO.parse)},generateTranscript(t,r){return e.post(`/v1/transcripts/${t}/generate`,r).then(O2.parse)},getUserMeetings(t,r){const i=t.toString();return e.get(`/v1/meetings${i?`?${i}`:""}`,r).then(dO.parse)},getCelloToken(t){return e.get("/v1/referral-programs/cello/token",t).then(fN.parse)},getMeeting(t,r){return e.get(`/v1/meetings/${t}/watch-page?noTranscript=true`,r).then(BO.parse)},getVideoAccessRequests(t){return e.get("/v1/video-access-requests",t).then(X2.parse)},postVideoAccessRequests(t,r){return e.post("/v1/video-access-requests",{body:JSON.stringify(t),...r})},getFilterPresets(t){return e.get("/v1/library/filter-presets",t).then(vO.parse)},postFilterPresets(t,r){return e.post("/v1/library/filter-presets",{body:JSON.stringify(t),...r}).then(wO.parse)},deleteFilterPreset(t,r){return e.delete(`/v1/library/filter-presets/${t}`,r)},getMeetingOwnerPlan(t,r){return e.get(`/v1/meetings/${t}/organizer/billing/profile`,r).then(qO.parse)},getUserProfile(t){return e.get("/v3/billing/profile",t).then(j2.parse)},getGroupById(t,r){return e.get(`/v1/billing/groups/${t}`,r).then(z2.parse)},createGroup(t,r){return e.post("/v1/billing/groups",{body:JSON.stringify(t),...r}).then(JE.parse)},updateGroup(t,r,i){return e.put(`/v1/billing/groups/${t}`,{body:JSON.stringify(r),...i}).then(JE.parse)},removeUserFromGroup(t,r,i){return e.delete(`/v1/billing/groups/${t}/users/${r}`,i).then($2.parse)},addUsersToGroup(t,r,i){return e.post(`/v1/billing/groups/${t}/users`,{body:JSON.stringify({users:r}),...i}).then(B2.parse)},updateGroupMemberRole({groupId:t,userId:r,role:i},s){return e.put(`/v1/billing/groups/${t}/users/${r}/role`,{body:JSON.stringify({role:i}),...s}).then(q2.parse)},getStripeBillingPortal(t,r){return e.post("/v1/billing/portal",{body:JSON.stringify({returnUrl:t}),...r}).then(M2.parse)},getStripePaymentPortal(t,r){return e.post("/v1/billing/payment-url",{body:JSON.stringify(t),...r}).then(L2.parse)},regenerateMeetingTopics(t,r,i){return e.post(`/v1/meetings/${t}/ai-topics/regenerate`,{body:JSON.stringify({templateId:r}),...i})},getUserCalendarIntegrationStatus(t){return e.get("/v1/users/me/calendar-integration/google/status",t).then(_M.parse)},postUserAuthTokens(t,r="google",i){return e.post(`/v1/users/me/oauth/${r}/tokens`,{body:JSON.stringify({code:t}),...i}).then(vM.parse)},getFirebaseToken(t){return e.get("/v1/users/firebase/token",t)},getUserContacts(t){return e.get("/v1/users/contacts",t).then(EM.parse)},summarizeMeeting(t,r){return e.post(`/v1/meetings/${t}/takeaways/regenerate`,r)},deleteUser(t,r){return e.delete(`/v1/users/${t}/delete`,r)}}},Fl=h.object({id:h.string(),label:h.string(),description:h.string().optional().nullable(),ownerId:h.string().nullable(),automationCriteriaEnabled:h.boolean().default(!1),sortOrder:h.number().default(0)});h.object({id:h.string().optional().nullable(),label:h.string().optional().nullable()});const TM=h.object({id:h.string(),label:h.string(),ownerId:h.string().nullable(),userOccupation:h.string().optional()});h.array(Fl.extend({template:TM.optional().nullable()})),h.object({builtin:h.record(h.string(),h.array(Fl)),custom:h.array(Fl)});const AM=h.object({enabled:h.boolean(),matchMeetingType:h.enum(["internal","external","both"]).optional().nullable(),matchMeetingTitle:h.string().optional().nullable(),matchParticipantEmail:h.union([h.literal(""),h.string().email()]).optional().nullable(),matchCrmDealStage:h.string().optional().nullable()});Fl.extend({userOccupation:h.string().optional(),automationCriteria:AM.nullable(),tags:h.array(Fl)}),h.object({id:h.string().optional().nullable(),label:h.string(),description:h.string().optional().nullable(),sortOrder:h.number().default(0)}),h.object({label:h.string()}),h.object({}),h.record(h.boolean()),h.object({workspace:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),name:h.string({required_error:"This field is mandatory"}).min(5,"Task name must be at least 5 characters"),project:h.string().optional(),description:h.string().optional(),dueAt:h.string().optional(),assignee:h.string().optional()});const SM=h.object({gid:h.string(),name:h.string(),resource_type:h.string()});h.object({data:h.array(SM),next_page:h.object({offset:h.string().optional().nullable(),path:h.string().optional().nullable(),uri:h.string().optional().nullable()}).optional().nullable()}),h.object({data:h.object({gid:h.string(),email:h.string(),name:h.string().optional().nullable(),photo:h.string().optional().nullable()})}),h.object({workspace:h.string(),task:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),comment:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory")}),h.object({data:h.array(h.object({gid:h.string(),name:h.string(),resource_type:h.string()}))}),h.object({task:h.string(),comment:h.string()}),h.object({itemId:h.string(),itemName:h.string(),itemUrl:h.string(),itemKey:h.string()}),h.object({name:h.string(),message:h.string(),errors:h.record(h.string()).optional().nullable()});const zT=h.object({expand:h.string(),self:h.string(),id:h.string(),key:h.string(),name:h.string(),avatarUrls:h.object({"48x48":h.string(),"24x24":h.string(),"16x16":h.string(),"32x32":h.string()}),projectTypeKey:h.string(),simplified:h.boolean(),style:h.string(),isPrivate:h.boolean()});h.object({self:h.string(),maxResults:h.number(),startAt:h.number(),total:h.number(),isLast:h.boolean(),values:h.array(zT)});const IM=h.object({self:h.string(),id:h.string(),description:h.string().nullable(),iconUrl:h.string(),name:h.string(),subtask:h.boolean().optional(),avatarId:h.number().optional()});zT.merge(h.object({issueTypes:h.array(IM)}));const kM=h.object({self:h.string(),accountId:h.string(),accountType:h.string(),emailAddress:h.string().optional(),avatarUrls:h.record(h.string(),h.string()),displayName:h.string(),active:h.boolean(),timeZone:h.string(),locale:h.string()});h.array(kM),h.object({project:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),issueType:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),summary:h.string({required_error:"This field is mandatory"}).min(5,"Summary must be at least 5 characters"),description:h.string().optional(),assignee:h.string().optional(),baseUrl:h.string().optional(),epic:h.string().optional()}),h.object({project:h.string().optional(),issue:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),comment:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory")});const RM=h.object({id:h.coerce.string(),key:h.string(),keyHtml:h.string(),img:h.string().optional().nullable(),summary:h.string(),summaryText:h.string()});h.array(RM),h.object({issue:h.string(),comment:h.string(),content:h.any().optional()}),h.object({board:h.string({required_error:"This field is mandatory"}),list:h.string({required_error:"This field is mandatory"}),name:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory"),description:h.string().optional(),members:h.array(h.string()).optional(),labels:h.array(h.string()).optional(),due:h.string().optional()}),h.array(h.object({id:h.string(),name:h.string(),desc:h.string().optional(),url:h.string(),closed:h.boolean(),shortUrl:h.string()}));const PM=h.object({id:h.string(),name:h.string(),closed:h.boolean(),pos:h.number(),idBoard:h.string()});h.array(PM),h.array(h.object({id:h.string(),name:h.string(),desc:h.string().optional(),shortLink:h.string(),shortUrl:h.string()})),h.object({board:h.string(),card:h.string({required_error:"This field is mandatory"}),comment:h.string({required_error:"This field is mandatory"}).min(1,"This field is mandatory")}),h.object({card:h.string(),comment:h.string()}),h.array(h.object({id:h.string(),fullName:h.string(),username:h.string()})),h.array(h.object({id:h.string(),name:h.string(),color:h.string()}));const CM=h.object({id:h.string(),name:h.string(),used:h.boolean().optional().default(!1),source:h.string(),parentId:h.string().nullable().optional(),userId:h.string()});h.array(CM);var xM=function(n){Tr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.schedule=function(t,r){return r===void 0&&(r=0),r>0?n.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,r){return r>0||this.closed?n.prototype.execute.call(this,t,r):this._execute(t,r)},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.flush(this),0)},e}(vT),OM=function(n){Tr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(ET),$T=new OM(xM);function NM(n){return new Jt(function(e){Un(n()).subscribe(e)})}function DM(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=AT(n),r=WD(n),i=r.args,s=r.keys,c=new Jt(function(u){var m=i.length;if(!m){u.complete();return}for(var p=new Array(m),y=m,w=m,b=function(C){var D=!1;Un(i[C]).subscribe(Yt(u,function(N){D||(D=!0,w--),p[C]=N},function(){return y--},void 0,function(){(!y||!D)&&(w||u.next(s?rM(s,p):p),u.complete())}))},k=0;k<m;k++)b(k)});return t?c.pipe(kT(t)):c}function uf(n,e,t){return new Jt(function(r){var i=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return r.next(c.length===1?c[0]:c)},s=n(i);return At(e)?function(){return e(i,s)}:void 0})}function df(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ST(n),r=$D(n,1/0),i=n;return i.length?i.length===1?Un(i[0]):cM(r)(Ml(i,t)):OT}function Ar(){return Nl(n=>Mg(n)?Yr(xl()):[])}function go(n){return Og(Yr(yM({baseURL:n.coreApiBaseUrl,onError:n.onError})))}function Ts(n){return Og(Yr(bM({baseURL:n.apiGatewayBaseUrl,onError:n.onError})))}function vn(n){return Ml(NM(n))}const MM=(n,e,t)=>n.pipe(de(r=>rf.match(r)||yg.match(r)),Ts(t),we(([,r])=>{var i,s,c,u;return!e.value.settings.deviceId||!((s=(i=e.value.user)==null?void 0:i.user)!=null&&s.id)?((c=t.onLog)==null||c.call(t,"Identify cant be performed. Skipping."),[]):((u=t.onLog)==null||u.call(t,"Performing identify."),vn(()=>{var m,p;return r.track([{event:"$identify",properties:{token:t.mixpanelToken,$identified_id:(p=(m=e.value.user)==null?void 0:m.user)==null?void 0:p.id,$distinct_id_before_identity:e.value.settings.deviceId,$anon_id:e.value.settings.deviceId}}])}).pipe(we(()=>[_D()]),Ar()))})),LM=(n,e,t)=>n.pipe(de(ws.match),de(()=>{var r,i,s,c,u;return!!((i=(r=e==null?void 0:e.value)==null?void 0:r.settings)!=null&&i.deviceId)||!!((u=(c=(s=e==null?void 0:e.value)==null?void 0:s.user)==null?void 0:c.user)!=null&&u.id)}),Ts(t),we(([{payload:r},i])=>vn(()=>{var m,p;const s=(m=e.value.user.user)==null?void 0:m.id,c=(p=e.value.settings)==null?void 0:p.deviceId,u=s||c;return i.track([{event:r.event,properties:{distinct_id:u,time:0,token:t.mixpanelToken,version:t.version,platform:t.platform,...r.params}}])}).pipe(we(()=>[yD(r.event)])))),$t="queue",BT={},FM={status:Wr.IDLE,origin:$d.UNSPECIFIED,viewMode:El.GUEST,hideInterface:!1,showLanguageSwitcher:!1},qT=5e3,VM=1e3,jM=10,ff=Jr({name:$t,initialState:BT,reducers:{addMeetingToQueue:(n,{payload:e})=>{n[e.conferenceId]={...FM,...n[e.conferenceId],...e}},updateMeetingQueue:(n,e)=>{n[e.payload.conferenceId]&&Object.assign(n[e.payload.conferenceId],e.payload)},updateAutoRecordingTimer:(n,e)=>{n[e.payload.conferenceId]&&Object.assign(n[e.payload.conferenceId],{autoRecordJoiningIn:e.payload.autoRecordJoiningIn})},resetAutoRecordingTimer:(n,e)=>{n[e.payload.conferenceId]&&Object.assign(n[e.payload.conferenceId],{autoRecordJoiningIn:void 0})},removeMeetingFromQueue:(n,{payload:e})=>{delete n[e]},setMeetingAsVisited:(n,{payload:e})=>{n[e]&&(n[e].visited=!0)},cancelLanguageSwitcher:(n,{payload:e})=>{n[e.conferenceId]&&Object.assign(n[e.conferenceId],{showLanguageSwitcher:!1})},resetQueue:()=>BT}}),{addMeetingToQueue:HT,updateMeetingQueue:er,removeMeetingFromQueue:GT,cancelLanguageSwitcher:WT,updateAutoRecordingTimer:KT,resetAutoRecordingTimer:Vl}=ff.actions,Lg=Se(`${$t}/checkMeetingQueueToKeep`),QT=Se(`${$t}/resubscribeToAllMeetingsInQueue`),mf=Se(`${$t}/unsubscribeMeetingInQueue`),JT=Se(`${$t}/unsubscribeToAllMeetingsInQueue`),YT=Se(`${$t}/checkIfBotNeedsToJoin`),UM=Se(`${$t}/checkIfBotNeedsToJoinFulfilled`),hf=Se(`${$t}/joinMeetingInQueue`),zM=Se(`${$t}/joinMeetingInQueueFulfilled`),Fg=Se(`${$t}/triggerAutoRecording`);Se(`${$t}/triggerAutoRecordingFulfilled`);const ZT=Se(`${$t}/subscribeToMeetingOnQueue`),XT=Se(`${$t}/subscribeToMeetingOnQueueFulfilled`),Vg=Se(`${$t}/triggerLanguageSwitcher`),$M=Se(`${$t}/triggerLanguageSwitcherFulfilled`),eA=Se(`${$t}/showLanguageSwitcher`),BM=Se(`${$t}/showLanguageSwitcherFulfilled`),qM=Se(`
  ${$t}/confirmLanguageSwitcher
`),HM=n=>e=>{var t;if(n)return(t=e==null?void 0:e.queue)==null?void 0:t[n]},GM=n=>Object.values((n==null?void 0:n.queue)||{}),WM="settings",tA={defaultLanguage:"en",deviceId:void 0,sessionId:void 0},jg=Jr({name:WM,initialState:tA,reducers:{updateDefaultLanguage:(n,{payload:e})=>{n.defaultLanguage=e},setDeviceId(n,{payload:e}){n.deviceId=e},setSessionId(n,{payload:e}){n.sessionId=e},resetAllSettings:()=>tA}}),{updateDefaultLanguage:KM,setDeviceId:QM,setSessionId:nA}=jg.actions,St="meetings",JM={},YM=3e3,Ug="",pf=Jr({name:St,initialState:JM,reducers:{addMeeting(n,{payload:e}){n[e.conferenceId]={...n[e.conferenceId],highlights:[],participants:[],contacts:[]}},addHighlightsIntoMeeting(n,{payload:e}){n[e.conferenceId]&&(n[e.conferenceId].highlights=e.highlights)},addParticipantsIntoMeeting(n,{payload:e}){n[e.conferenceId]&&(n[e.conferenceId].participants=e.participants)},restoreHighlight(n,{payload:e}){n[e.conferenceId]&&(n[e.conferenceId].highlights=n[e.conferenceId].highlights.map(t=>(t.id===e.highlightId&&delete t.hide,t)))},removeMeeting(n,{payload:e}){delete n[e]},addContactsIntoMeeting(n,{payload:e}){n[e.conferenceId]&&(n[e.conferenceId].contacts=e.contacts||[])}}}),{addMeeting:rA,addHighlightsIntoMeeting:ZM,addParticipantsIntoMeeting:XM,restoreHighlight:eL,removeMeeting:iA,addContactsIntoMeeting:tL}=pf.actions,nL=Se(`${St}/createHighlight`),rL=Se(`${St}/createHighlightFulfilled`),iL=Se(`${St}/addParticipant`),oL=Se(`${St}/addParticipantFulfilled`),sL=Se(`${St}/removeParticipant`),aL=Se(`${St}/removeParticipantFulfilled`),cL=Se(`${St}/removeAllParticipants`),lL=Se(`${St}/removeAllParticipantsFulfilled`),uL=Se(`${St}/updateHighlight`),dL=Se(`${St}/updateHighlightFulfilled`),fL=Se(`${St}/removeHighlight`),oA=Se(`${St}/removeHighlightFulfilled`),sA=Se(`${St}/hideHighlightFromFirebase`);Se(`${St}/hideHighlightFromFirebaseFulfilled`);const aA=Se(`${St}/removeHighlightFromFirebase`),cA=Se(`${St}/stopListeningMeetingData`),mL=Se(`${St}/askBotToStopRecording`),hL=Se(`${St}/askBotToStopRecordingFulfilled`),lA=Se(`${St}/fetchUserContacts`),pL=Se(`${St}/fetchUserContactsFulfilled`),jl="user",uA={user:void 0,preferences:void 0},zg=Jr({name:jl,initialState:uA,reducers:{addUserInformation:(n,{payload:e})=>{n.user=e},addUserSettings:(n,{payload:e})=>{n.settings=e},addUserPreferences:(n,{payload:e})=>{n.preferences=e},updateAutoSharePreference:(n,{payload:e})=>{var t,r;(r=(t=n.preferences)==null?void 0:t["auto-sharing-via-email"])!=null&&r.value&&(n.preferences["auto-sharing-via-email"].value=e)},updateUserSettings:(n,{payload:e})=>{Object.assign(n.settings||{},e.data)},removeUserInformation:()=>uA}}),{addUserInformation:dA,addUserPreferences:gL,updateAutoSharePreference:yL,removeUserInformation:_L,addUserSettings:vL,updateUserSettings:wL}=zg.actions,gf=Se(`${jl}/fetchUserPreferences`),EL=Se(`${jl}/fetchUserPreferencesFulfilled`),yf=Se(`${jl}/fetchUserSettings`),bL=Se(`${jl}/fetchUserSettingsFulfilled`);function TL(n){var e,t,r;return!!((r=(t=(e=n==null?void 0:n.user)==null?void 0:e.settings)==null?void 0:t.chromeExtension)!=null&&r.askMeLanguageCodeEveryMeeting)}const Ul=Jr({name:"drafts",initialState:{highlight:"",timestamp:void 0},reducers:{setDraftHighlight:(n,e)=>{n.highlight=e.payload},setDraftTimestamp:(n,e)=>{n.timestamp=e.payload},clearHighlightDraft:n=>{n.highlight=""},clearDraftTimestamp:n=>{n.timestamp=void 0}}}),{clearHighlightDraft:AL,clearDraftTimestamp:SL}=Ul.actions,fA={isAutoHighlightOnboardVisible:!0,dismissFirstMeetingTip:!1},zl=Jr({name:"flags",initialState:fA,reducers:{setFlag(n,e){n[e.payload.flag]=e.payload.value}}}),{setFlag:$g}=zl.actions,IL="globalData",mA={"lmi.mode":"expanded","lmi.position":void 0,"lmi.height":void 0,"lmi.theme":"light","os.type":void 0,"app.update":jE.LATEST},Zr=Jr({name:IL,initialState:mA,reducers:{setGlobalData:(n,e)=>Object.assign(n,e.payload.data),resetGlobalData:()=>mA}});function Bg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function kL(){if(hA)return $e;hA=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function N(j,Z,pe){this.props=j,this.context=Z,this.refs=D,this.updater=pe||k}N.prototype.isReactComponent={},N.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F(){}F.prototype=N.prototype;function q(j,Z,pe){this.props=j,this.context=Z,this.refs=D,this.updater=pe||k}var G=q.prototype=new F;G.constructor=q,C(G,N.prototype),G.isPureReactComponent=!0;var re=Array.isArray,Q=Object.prototype.hasOwnProperty,K={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(j,Z,pe){var ke,Ue={},Be=null,Ze=null;if(Z!=null)for(ke in Z.ref!==void 0&&(Ze=Z.ref),Z.key!==void 0&&(Be=""+Z.key),Z)Q.call(Z,ke)&&!x.hasOwnProperty(ke)&&(Ue[ke]=Z[ke]);var Xe=arguments.length-2;if(Xe===1)Ue.children=pe;else if(1<Xe){for(var ut=Array(Xe),Ht=0;Ht<Xe;Ht++)ut[Ht]=arguments[Ht+2];Ue.children=ut}if(j&&j.defaultProps)for(ke in Xe=j.defaultProps,Xe)Ue[ke]===void 0&&(Ue[ke]=Xe[ke]);return{$$typeof:n,type:j,key:Be,ref:Ze,props:Ue,_owner:K.current}}function A(j,Z){return{$$typeof:n,type:j.type,key:Z,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function O(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return Z[pe]})}var L=/\/+/g;function S(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):Z.toString(36)}function fe(j,Z,pe,ke,Ue){var Be=typeof j;(Be==="undefined"||Be==="boolean")&&(j=null);var Ze=!1;if(j===null)Ze=!0;else switch(Be){case"string":case"number":Ze=!0;break;case"object":switch(j.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=j,Ue=Ue(Ze),j=ke===""?"."+S(Ze,0):ke,re(Ue)?(pe="",j!=null&&(pe=j.replace(L,"$&/")+"/"),fe(Ue,Z,pe,"",function(Ht){return Ht})):Ue!=null&&(P(Ue)&&(Ue=A(Ue,pe+(!Ue.key||Ze&&Ze.key===Ue.key?"":(""+Ue.key).replace(L,"$&/")+"/")+j)),Z.push(Ue)),1;if(Ze=0,ke=ke===""?".":ke+":",re(j))for(var Xe=0;Xe<j.length;Xe++){Be=j[Xe];var ut=ke+S(Be,Xe);Ze+=fe(Be,Z,pe,ut,Ue)}else if(ut=b(j),typeof ut=="function")for(j=ut.call(j),Xe=0;!(Be=j.next()).done;)Be=Be.value,ut=ke+S(Be,Xe++),Ze+=fe(Be,Z,pe,ut,Ue);else if(Be==="object")throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ze}function ue(j,Z,pe){if(j==null)return j;var ke=[],Ue=0;return fe(j,ke,"","",function(Be){return Z.call(pe,Be,Ue++)}),ke}function je(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var J={current:null},z={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:z,ReactCurrentOwner:K};function ee(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ue,forEach:function(j,Z,pe){ue(j,function(){Z.apply(this,arguments)},pe)},count:function(j){var Z=0;return ue(j,function(){Z++}),Z},toArray:function(j){return ue(j,function(Z){return Z})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$e.Component=N,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=q,$e.StrictMode=r,$e.Suspense=m,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,$e.act=ee,$e.cloneElement=function(j,Z,pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ke=C({},j.props),Ue=j.key,Be=j.ref,Ze=j._owner;if(Z!=null){if(Z.ref!==void 0&&(Be=Z.ref,Ze=K.current),Z.key!==void 0&&(Ue=""+Z.key),j.type&&j.type.defaultProps)var Xe=j.type.defaultProps;for(ut in Z)Q.call(Z,ut)&&!x.hasOwnProperty(ut)&&(ke[ut]=Z[ut]===void 0&&Xe!==void 0?Xe[ut]:Z[ut])}var ut=arguments.length-2;if(ut===1)ke.children=pe;else if(1<ut){Xe=Array(ut);for(var Ht=0;Ht<ut;Ht++)Xe[Ht]=arguments[Ht+2];ke.children=Xe}return{$$typeof:n,type:j.type,key:Ue,ref:Be,props:ke,_owner:Ze}},$e.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},$e.createElement=I,$e.createFactory=function(j){var Z=I.bind(null,j);return Z.type=j,Z},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:u,render:j}},$e.isValidElement=P,$e.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:je}},$e.memo=function(j,Z){return{$$typeof:p,type:j,compare:Z===void 0?null:Z}},$e.startTransition=function(j){var Z=z.transition;z.transition={};try{j()}finally{z.transition=Z}},$e.unstable_act=ee,$e.useCallback=function(j,Z){return J.current.useCallback(j,Z)},$e.useContext=function(j){return J.current.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j){return J.current.useDeferredValue(j)},$e.useEffect=function(j,Z){return J.current.useEffect(j,Z)},$e.useId=function(){return J.current.useId()},$e.useImperativeHandle=function(j,Z,pe){return J.current.useImperativeHandle(j,Z,pe)},$e.useInsertionEffect=function(j,Z){return J.current.useInsertionEffect(j,Z)},$e.useLayoutEffect=function(j,Z){return J.current.useLayoutEffect(j,Z)},$e.useMemo=function(j,Z){return J.current.useMemo(j,Z)},$e.useReducer=function(j,Z,pe){return J.current.useReducer(j,Z,pe)},$e.useRef=function(j){return J.current.useRef(j)},$e.useState=function(j){return J.current.useState(j)},$e.useSyncExternalStore=function(j,Z,pe){return J.current.useSyncExternalStore(j,Z,pe)},$e.useTransition=function(){return J.current.useTransition()},$e.version="18.3.1",$e}var pA;function Hg(){return pA||(pA=1,qg.exports=kL()),qg.exports}var RL=Hg(),Gg={exports:{}},rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function PL(){if(gA)return rt;gA=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,m=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,k=n?Symbol.for("react.memo"):60115,C=n?Symbol.for("react.lazy"):60116,D=n?Symbol.for("react.block"):60121,N=n?Symbol.for("react.fundamental"):60117,F=n?Symbol.for("react.responder"):60118,q=n?Symbol.for("react.scope"):60119;function G(Q){if(typeof Q=="object"&&Q!==null){var K=Q.$$typeof;switch(K){case e:switch(Q=Q.type,Q){case m:case p:case r:case s:case i:case w:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case u:case y:case C:case k:case c:return Q;default:return K}}case t:return K}}}function re(Q){return G(Q)===p}return rt.AsyncMode=m,rt.ConcurrentMode=p,rt.ContextConsumer=u,rt.ContextProvider=c,rt.Element=e,rt.ForwardRef=y,rt.Fragment=r,rt.Lazy=C,rt.Memo=k,rt.Portal=t,rt.Profiler=s,rt.StrictMode=i,rt.Suspense=w,rt.isAsyncMode=function(Q){return re(Q)||G(Q)===m},rt.isConcurrentMode=re,rt.isContextConsumer=function(Q){return G(Q)===u},rt.isContextProvider=function(Q){return G(Q)===c},rt.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e},rt.isForwardRef=function(Q){return G(Q)===y},rt.isFragment=function(Q){return G(Q)===r},rt.isLazy=function(Q){return G(Q)===C},rt.isMemo=function(Q){return G(Q)===k},rt.isPortal=function(Q){return G(Q)===t},rt.isProfiler=function(Q){return G(Q)===s},rt.isStrictMode=function(Q){return G(Q)===i},rt.isSuspense=function(Q){return G(Q)===w},rt.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===r||Q===p||Q===s||Q===i||Q===w||Q===b||typeof Q=="object"&&Q!==null&&(Q.$$typeof===C||Q.$$typeof===k||Q.$$typeof===c||Q.$$typeof===u||Q.$$typeof===y||Q.$$typeof===N||Q.$$typeof===F||Q.$$typeof===q||Q.$$typeof===D)},rt.typeOf=G,rt}var yA;function CL(){return yA||(yA=1,Gg.exports=PL()),Gg.exports}var Wg,_A;function xL(){if(_A)return Wg;_A=1;var n=CL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function c(C){return n.isMemo(C)?i:s[C.$$typeof]||e}var u=Object.defineProperty,m=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,b=Object.prototype;function k(C,D,N){if(typeof D!="string"){if(b){var F=w(D);F&&F!==b&&k(C,F,N)}var q=m(D);p&&(q=q.concat(p(D)));for(var G=c(C),re=c(D),Q=0;Q<q.length;++Q){var K=q[Q];if(!t[K]&&!(N&&N[K])&&!(re&&re[K])&&!(G&&G[K])){var x=y(D,K);try{u(C,K,x)}catch{}}}}return C}return Wg=k,Wg}xL();var Kg={exports:{}},ot={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function OL(){if(vA)return ot;vA=1;var n=60103,e=60106,t=60107,r=60108,i=60114,s=60109,c=60110,u=60112,m=60113,p=60120,y=60115,w=60116,b=60121,k=60122,C=60117,D=60129,N=60131;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;n=F("react.element"),e=F("react.portal"),t=F("react.fragment"),r=F("react.strict_mode"),i=F("react.profiler"),s=F("react.provider"),c=F("react.context"),u=F("react.forward_ref"),m=F("react.suspense"),p=F("react.suspense_list"),y=F("react.memo"),w=F("react.lazy"),b=F("react.block"),k=F("react.server.block"),C=F("react.fundamental"),D=F("react.debug_trace_mode"),N=F("react.legacy_hidden")}function q(S){if(typeof S=="object"&&S!==null){var fe=S.$$typeof;switch(fe){case n:switch(S=S.type,S){case t:case i:case r:case m:case p:return S;default:switch(S=S&&S.$$typeof,S){case c:case u:case w:case y:case s:return S;default:return fe}}case e:return fe}}}var G=s,re=n,Q=u,K=t,x=w,I=y,A=e,P=i,O=r,L=m;return ot.ContextConsumer=c,ot.ContextProvider=G,ot.Element=re,ot.ForwardRef=Q,ot.Fragment=K,ot.Lazy=x,ot.Memo=I,ot.Portal=A,ot.Profiler=P,ot.StrictMode=O,ot.Suspense=L,ot.isAsyncMode=function(){return!1},ot.isConcurrentMode=function(){return!1},ot.isContextConsumer=function(S){return q(S)===c},ot.isContextProvider=function(S){return q(S)===s},ot.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},ot.isForwardRef=function(S){return q(S)===u},ot.isFragment=function(S){return q(S)===t},ot.isLazy=function(S){return q(S)===w},ot.isMemo=function(S){return q(S)===y},ot.isPortal=function(S){return q(S)===e},ot.isProfiler=function(S){return q(S)===i},ot.isStrictMode=function(S){return q(S)===r},ot.isSuspense=function(S){return q(S)===m},ot.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===i||S===D||S===r||S===m||S===p||S===N||typeof S=="object"&&S!==null&&(S.$$typeof===w||S.$$typeof===y||S.$$typeof===s||S.$$typeof===c||S.$$typeof===u||S.$$typeof===C||S.$$typeof===b||S[0]===k)},ot.typeOf=q,ot}var wA;function NL(){return wA||(wA=1,Kg.exports=OL()),Kg.exports}NL();var Qg={exports:{}},kn={},Jg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function DL(){return EA||(EA=1,function(n){function e(z,X){var ee=z.length;z.push(X);e:for(;0<ee;){var j=ee-1>>>1,Z=z[j];if(0<i(Z,X))z[j]=X,z[ee]=Z,ee=j;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],ee=z.pop();if(ee!==X){z[0]=ee;e:for(var j=0,Z=z.length,pe=Z>>>1;j<pe;){var ke=2*(j+1)-1,Ue=z[ke],Be=ke+1,Ze=z[Be];if(0>i(Ue,ee))Be<Z&&0>i(Ze,Ue)?(z[j]=Ze,z[Be]=ee,j=Be):(z[j]=Ue,z[ke]=ee,j=ke);else if(Be<Z&&0>i(Ze,ee))z[j]=Ze,z[Be]=ee,j=Be;else break e}}return X}function i(z,X){var ee=z.sortIndex-X.sortIndex;return ee!==0?ee:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var m=[],p=[],y=1,w=null,b=3,k=!1,C=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(z){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=z)r(p),X.sortIndex=X.expirationTime,e(m,X);else break;X=t(p)}}function re(z){if(D=!1,G(z),!C)if(t(m)!==null)C=!0,je(Q);else{var X=t(p);X!==null&&J(re,X.startTime-z)}}function Q(z,X){C=!1,D&&(D=!1,F(I),I=-1),k=!0;var ee=b;try{for(G(X),w=t(m);w!==null&&(!(w.expirationTime>X)||z&&!O());){var j=w.callback;if(typeof j=="function"){w.callback=null,b=w.priorityLevel;var Z=j(w.expirationTime<=X);X=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(m)&&r(m),G(X)}else r(m);w=t(m)}if(w!==null)var pe=!0;else{var ke=t(p);ke!==null&&J(re,ke.startTime-X),pe=!1}return pe}finally{w=null,b=ee,k=!1}}var K=!1,x=null,I=-1,A=5,P=-1;function O(){return!(n.unstable_now()-P<A)}function L(){if(x!==null){var z=n.unstable_now();P=z;var X=!0;try{X=x(!0,z)}finally{X?S():(K=!1,x=null)}}else K=!1}var S;if(typeof q=="function")S=function(){q(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=L,S=function(){ue.postMessage(null)}}else S=function(){N(L,0)};function je(z){x=z,K||(K=!0,S())}function J(z,X){I=N(function(){z(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){C||k||(C=!0,je(Q))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(z){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ee=b;b=X;try{return z()}finally{b=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=b;b=z;try{return X()}finally{b=ee}},n.unstable_scheduleCallback=function(z,X,ee){var j=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?j+ee:j):ee=j,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ee+Z,z={id:y++,callback:X,priorityLevel:z,startTime:ee,expirationTime:Z,sortIndex:-1},ee>j?(z.sortIndex=ee,e(p,z),t(m)===null&&z===t(p)&&(D?(F(I),I=-1):D=!0,J(re,ee-j))):(z.sortIndex=Z,e(m,z),C||k||(C=!0,je(Q))),z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(z){var X=b;return function(){var ee=b;b=X;try{return z.apply(this,arguments)}finally{b=ee}}}}(Yg)),Yg}var bA;function ML(){return bA||(bA=1,Jg.exports=DL()),Jg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function LL(){if(TA)return kn;TA=1;var n=Hg(),e=ML();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function b(o){return m.call(w,o)?!0:m.call(y,o)?!1:p.test(o)?w[o]=!0:(y[o]=!0,!1)}function k(o,a,l,f){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,a,l,f){if(a===null||typeof a>"u"||k(o,a,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function D(o,a,l,f,g,v,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new D(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];N[a]=new D(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new D(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new D(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new D(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new D(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new D(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new D(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new D(o,5,!1,o.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(F,q);N[a]=new D(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(F,q);N[a]=new D(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(F,q);N[a]=new D(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new D(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new D(o,1,!1,o.toLowerCase(),null,!0,!0)});function G(o,a,l,f){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,l,g,f)&&(l=null),f||g===null?b(a)&&(l===null?o.removeAttribute(a):o.setAttribute(a,""+l)):g.mustUseProperty?o[g.propertyName]=l===null?g.type===3?!1:"":l:(a=g.attributeName,f=g.attributeNamespace,l===null?o.removeAttribute(a):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?o.setAttributeNS(f,a,l):o.setAttribute(a,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),K=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),z=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Object.assign,j;function Z(o){if(j===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var pe=!1;function ke(o,a){if(!o||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(o,[],a)}else{try{a.call()}catch(W){f=W}o.call(a.prototype)}else{try{throw Error()}catch(W){f=W}o()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),v=f.stack.split(`
`),T=g.length-1,M=v.length-1;1<=T&&0<=M&&g[T]!==v[M];)M--;for(;1<=T&&0<=M;T--,M--)if(g[T]!==v[M]){if(T!==1||M!==1)do if(T--,M--,0>M||g[T]!==v[M]){var V=`
`+g[T].replace(" at new "," at ");return o.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",o.displayName)),V}while(1<=T&&0<=M);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(o=o?o.displayName||o.name:"")?Z(o):""}function Ue(o){switch(o.tag){case 5:return Z(o.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return o=ke(o.type,!1),o;case 11:return o=ke(o.type.render,!1),o;case 1:return o=ke(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case K:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case fe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case O:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case L:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ue:return a=o.displayName||null,a!==null?a:Be(o.type)||"Memo";case je:a=o._payload,o=o._init;try{return Be(o(a))}catch{}}return null}function Ze(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ut(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ht(o){var a=ut(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,v.call(this,T)}}),Object.defineProperty(o,a,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function zi(o){o._valueTracker||(o._valueTracker=Ht(o))}function mc(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return o&&(f=ut(o)?o.checked?"true":"false":o.value),o=f,o!==l?(a.setValue(o),!0):!1}function Uo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Gs(o,a){var l=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??o._wrapperState.initialChecked})}function hc(o,a){var l=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;l=Xe(a.value!=null?a.value:l),o._wrapperState={initialChecked:f,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ju(o,a){a=a.checked,a!=null&&G(o,"checked",a,!1)}function Uu(o,a){ju(o,a);var l=Xe(a.value),f=a.type;if(l!=null)f==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+l):o.value!==""+l&&(o.value=""+l);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?pc(o,a.type,l):a.hasOwnProperty("defaultValue")&&pc(o,a.type,Xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function ph(o,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,l||a===o.value||(o.value=a),o.defaultValue=a}l=o.name,l!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,l!==""&&(o.name=l)}function pc(o,a,l){(a!=="number"||Uo(o.ownerDocument)!==o)&&(l==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+l&&(o.defaultValue=""+l))}var $i=Array.isArray;function Bi(o,a,l,f){if(o=o.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<o.length;l++)g=a.hasOwnProperty("$"+o[l].value),o[l].selected!==g&&(o[l].selected=g),g&&f&&(o[l].defaultSelected=!0)}else{for(l=""+Xe(l),a=null,g=0;g<o.length;g++){if(o[g].value===l){o[g].selected=!0,f&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function zu(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function gc(o,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(t(92));if($i(l)){if(1<l.length)throw Error(t(93));l=l[0]}a=l}a==null&&(a=""),l=a}o._wrapperState={initialValue:Xe(l)}}function yc(o,a){var l=Xe(a.value),f=Xe(a.defaultValue);l!=null&&(l=""+l,l!==o.value&&(o.value=l),a.defaultValue==null&&o.defaultValue!==l&&(o.defaultValue=l)),f!=null&&(o.defaultValue=""+f)}function $u(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Ft(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Ft(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var qi,Bu=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,f,g){MSApp.execUnsafeLocalFunction(function(){return o(a,l,f,g)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=qi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function zo(o,a){if(a){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=a;return}}o.textContent=a}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(o){Ks.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Ws[a]=Ws[o]})});function qu(o,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Ws.hasOwnProperty(o)&&Ws[o]?(""+a).trim():a+"px"}function Hu(o,a){o=o.style;for(var l in a)if(a.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=qu(l,a[l],f);l==="float"&&(l="cssFloat"),f?o.setProperty(l,g):o[l]=g}}var Gu=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(o,a){if(a){if(Gu[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ku(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function _c(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vc=null,cr=null,oi=null;function wc(o){if(o=_d(o)){if(typeof vc!="function")throw Error(t(280));var a=o.stateNode;a&&(a=Hh(a),vc(o.stateNode,o.type,a))}}function si(o){cr?oi?oi.push(o):oi=[o]:cr=o}function Qu(){if(cr){var o=cr,a=oi;if(oi=cr=null,wc(o),a)for(o=0;o<a.length;o++)wc(a[o])}}function Js(o,a){return o(a)}function Ju(){}var Hi=!1;function Yu(o,a,l){if(Hi)return o(a,l);Hi=!0;try{return Js(o,a,l)}finally{Hi=!1,(cr!==null||oi!==null)&&(Ju(),Qu())}}function kt(o,a){var l=o.stateNode;if(l===null)return null;var f=Hh(l);if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(t(231,a,typeof l));return l}var Ec=!1;if(u)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Ec=!1}function Ys(o,a,l,f,g,v,T,M,V){var W=Array.prototype.slice.call(arguments,3);try{a.apply(l,W)}catch(oe){this.onError(oe)}}var Zs=!1,bc=null,Cr=!1,Zu=null,Kv={onError:function(o){Zs=!0,bc=o}};function Tc(o,a,l,f,g,v,T,M,V){Zs=!1,bc=null,Ys.apply(Kv,arguments)}function gh(o,a,l,f,g,v,T,M,V){if(Tc.apply(this,arguments),Zs){if(Zs){var W=bc;Zs=!1,bc=null}else throw Error(t(198));Cr||(Cr=!0,Zu=W)}}function xr(o){var a=o,l=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(l=a.return),o=a.return;while(o)}return a.tag===3?l:null}function Xs(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Or(o){if(xr(o)!==o)throw Error(t(188))}function yh(o){var a=o.alternate;if(!a){if(a=xr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var l=o,f=a;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return Or(g),o;if(v===f)return Or(g),a;v=v.sibling}throw Error(t(188))}if(l.return!==f.return)l=g,f=v;else{for(var T=!1,M=g.child;M;){if(M===l){T=!0,l=g,f=v;break}if(M===f){T=!0,f=g,l=v;break}M=M.sibling}if(!T){for(M=v.child;M;){if(M===l){T=!0,l=v,f=g;break}if(M===f){T=!0,f=v,l=g;break}M=M.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?o:a}function Xu(o){return o=yh(o),o!==null?Ac(o):null}function Ac(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Ac(o);if(a!==null)return a;o=o.sibling}return null}var Sc=e.unstable_scheduleCallback,ed=e.unstable_cancelCallback,_h=e.unstable_shouldYield,Qv=e.unstable_requestPaint,dt=e.unstable_now,vh=e.unstable_getCurrentPriorityLevel,ea=e.unstable_ImmediatePriority,$o=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,td=e.unstable_LowPriority,wh=e.unstable_IdlePriority,ta=null,Wn=null;function Eh(o){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(ta,o,void 0,(o.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Th,nd=Math.log,bh=Math.LN2;function Th(o){return o>>>=0,o===0?32:31-(nd(o)/bh|0)|0}var Ic=64,kc=4194304;function Bo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function na(o,a){var l=o.pendingLanes;if(l===0)return 0;var f=0,g=o.suspendedLanes,v=o.pingedLanes,T=l&268435455;if(T!==0){var M=T&~g;M!==0?f=Bo(M):(v&=T,v!==0&&(f=Bo(v)))}else T=l&~g,T!==0?f=Bo(T):v!==0&&(f=Bo(v));if(f===0)return 0;if(a!==0&&a!==f&&!(a&g)&&(g=f&-f,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if(f&4&&(f|=l&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)l=31-bn(a),g=1<<l,f|=o[l],a&=~g;return f}function Jv(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(o,a){for(var l=o.suspendedLanes,f=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var T=31-bn(v),M=1<<T,V=g[T];V===-1?(!(M&l)||M&f)&&(g[T]=Jv(M,a)):V<=a&&(o.expiredLanes|=M),v&=~M}}function Kn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ra(){var o=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),o}function qo(o){for(var a=[],l=0;31>l;l++)a.push(o);return a}function Ho(o,a,l){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-bn(a),o[a]=l}function lt(o,a){var l=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<l;){var g=31-bn(l),v=1<<g;a[g]=0,f[g]=-1,o[g]=-1,l&=~v}}function Go(o,a){var l=o.entangledLanes|=a;for(o=o.entanglements;l;){var f=31-bn(l),g=1<<f;g&a|o[f]&a&&(o[f]|=a),l&=~g}}var We=0;function Wo(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ah,Rc,Sh,Ih,kh,rd=!1,ai=[],nn=null,Nr=null,Dr=null,Ko=new Map,ur=new Map,ci=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(o,a){switch(o){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ko.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(a.pointerId)}}function Cn(o,a,l,f,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},a!==null&&(a=_d(a),a!==null&&Rc(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function Zv(o,a,l,f,g){switch(a){case"focusin":return nn=Cn(nn,o,a,l,f,g),!0;case"dragenter":return Nr=Cn(Nr,o,a,l,f,g),!0;case"mouseover":return Dr=Cn(Dr,o,a,l,f,g),!0;case"pointerover":var v=g.pointerId;return Ko.set(v,Cn(Ko.get(v)||null,o,a,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,ur.set(v,Cn(ur.get(v)||null,o,a,l,f,g)),!0}return!1}function Ph(o){var a=ca(o.target);if(a!==null){var l=xr(a);if(l!==null){if(a=l.tag,a===13){if(a=Xs(l),a!==null){o.blockedOn=a,kh(o.priority,function(){Sh(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Wi(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var l=Pc(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Qs=f,l.target.dispatchEvent(f),Qs=null}else return a=_d(l),a!==null&&Rc(a),o.blockedOn=l,!1;a.shift()}return!0}function ia(o,a,l){Wi(o)&&l.delete(a)}function Ch(){rd=!1,nn!==null&&Wi(nn)&&(nn=null),Nr!==null&&Wi(Nr)&&(Nr=null),Dr!==null&&Wi(Dr)&&(Dr=null),Ko.forEach(ia),ur.forEach(ia)}function Mr(o,a){o.blockedOn===a&&(o.blockedOn=null,rd||(rd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ch)))}function Lr(o){function a(g){return Mr(g,o)}if(0<ai.length){Mr(ai[0],o);for(var l=1;l<ai.length;l++){var f=ai[l];f.blockedOn===o&&(f.blockedOn=null)}}for(nn!==null&&Mr(nn,o),Nr!==null&&Mr(Nr,o),Dr!==null&&Mr(Dr,o),Ko.forEach(a),ur.forEach(a),l=0;l<ci.length;l++)f=ci[l],f.blockedOn===o&&(f.blockedOn=null);for(;0<ci.length&&(l=ci[0],l.blockedOn===null);)Ph(l),l.blockedOn===null&&ci.shift()}var Ki=re.ReactCurrentBatchConfig,Qo=!0;function yt(o,a,l,f){var g=We,v=Ki.transition;Ki.transition=null;try{We=1,id(o,a,l,f)}finally{We=g,Ki.transition=v}}function Xv(o,a,l,f){var g=We,v=Ki.transition;Ki.transition=null;try{We=4,id(o,a,l,f)}finally{We=g,Ki.transition=v}}function id(o,a,l,f){if(Qo){var g=Pc(o,a,l,f);if(g===null)uw(o,a,f,oa,l),Rh(o,f);else if(Zv(g,o,a,l,f))f.stopPropagation();else if(Rh(o,f),a&4&&-1<Yv.indexOf(o)){for(;g!==null;){var v=_d(g);if(v!==null&&Ah(v),v=Pc(o,a,l,f),v===null&&uw(o,a,f,oa,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else uw(o,a,f,null,l)}}var oa=null;function Pc(o,a,l,f){if(oa=null,o=_c(f),o=ca(o),o!==null)if(a=xr(o),a===null)o=null;else if(l=a.tag,l===13){if(o=Xs(a),o!==null)return o;o=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return oa=o,null}function od(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vh()){case ea:return 1;case $o:return 4;case lr:case td:return 16;case wh:return 536870912;default:return 16}default:return 16}}var Qn=null,Cc=null,xn=null;function sd(){if(xn)return xn;var o,a=Cc,l=a.length,f,g="value"in Qn?Qn.value:Qn.textContent,v=g.length;for(o=0;o<l&&a[o]===g[o];o++);var T=l-o;for(f=1;f<=T&&a[l-f]===g[v-f];f++);return xn=g.slice(o,1<f?1-f:void 0)}function xc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function li(){return!0}function ad(){return!1}function rn(o){function a(l,f,g,v,T){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(l=o[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?li:ad,this.isPropagationStopped=ad,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),a}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=rn(Fr),ui=ee({},Fr,{view:0,detail:0}),ew=rn(ui),Nc,Qi,Jo,sa=ee({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Jo&&(Jo&&o.type==="mousemove"?(Nc=o.screenX-Jo.screenX,Qi=o.screenY-Jo.screenY):Qi=Nc=0,Jo=o),Nc)},movementY:function(o){return"movementY"in o?o.movementY:Qi}}),Dc=rn(sa),cd=ee({},sa,{dataTransfer:0}),xh=rn(cd),Mc=ee({},ui,{relatedTarget:0}),Lc=rn(Mc),Oh=ee({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ji=rn(Oh),Nh=ee({},Fr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Dh=rn(Nh),Mh=ee({},Fr,{data:0}),ld=rn(Mh),Fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Lh[o])?!!a[o]:!1}function di(){return Fh}var d=ee({},ui,{key:function(o){if(o.key){var a=Fc[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Tn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(o){return o.type==="keypress"?xc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=rn(d),E=ee({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=rn(E),$=ee({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),Y=rn($),le=ee({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=rn(le),jt=ee({},sa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=rn(jt),Gt=[9,13,27,32],Ot=u&&"CompositionEvent"in window,dr=null;u&&"documentMode"in document&&(dr=document.documentMode);var Jn=u&&"TextEvent"in window&&!dr,aa=u&&(!Ot||dr&&8<dr&&11>=dr),Vc=" ",M1=!1;function L1(o,a){switch(o){case"keyup":return Gt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var jc=!1;function W5(o,a){switch(o){case"compositionend":return F1(a);case"keypress":return a.which!==32?null:(M1=!0,Vc);case"textInput":return o=a.data,o===Vc&&M1?null:o;default:return null}}function K5(o,a){if(jc)return o==="compositionend"||!Ot&&L1(o,a)?(o=sd(),xn=Cc=Qn=null,jc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return aa&&a.locale!=="ko"?null:a.data;default:return null}}var Q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V1(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Q5[o.type]:a==="textarea"}function j1(o,a,l,f){si(f),a=$h(a,"onChange"),0<a.length&&(l=new Oc("onChange","change",null,l,f),o.push({event:l,listeners:a}))}var ud=null,dd=null;function J5(o){rP(o,0)}function Vh(o){var a=qc(o);if(mc(a))return o}function Y5(o,a){if(o==="change")return a}var U1=!1;if(u){var tw;if(u){var nw="oninput"in document;if(!nw){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),nw=typeof z1.oninput=="function"}tw=nw}else tw=!1;U1=tw&&(!document.documentMode||9<document.documentMode)}function $1(){ud&&(ud.detachEvent("onpropertychange",B1),dd=ud=null)}function B1(o){if(o.propertyName==="value"&&Vh(dd)){var a=[];j1(a,dd,o,_c(o)),Yu(J5,a)}}function Z5(o,a,l){o==="focusin"?($1(),ud=a,dd=l,ud.attachEvent("onpropertychange",B1)):o==="focusout"&&$1()}function X5(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Vh(dd)}function eG(o,a){if(o==="click")return Vh(a)}function tG(o,a){if(o==="input"||o==="change")return Vh(a)}function nG(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Vr=typeof Object.is=="function"?Object.is:nG;function fd(o,a){if(Vr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var l=Object.keys(o),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!m.call(a,g)||!Vr(o[g],a[g]))return!1}return!0}function q1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function H1(o,a){var l=q1(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=a&&f>=a)return{node:l,offset:a-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=q1(l)}}function G1(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?G1(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function W1(){for(var o=window,a=Uo();a instanceof o.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)o=a.contentWindow;else break;a=Uo(o.document)}return a}function rw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function rG(o){var a=W1(),l=o.focusedElem,f=o.selectionRange;if(a!==l&&l&&l.ownerDocument&&G1(l.ownerDocument.documentElement,l)){if(f!==null&&rw(l)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(o,l.value.length);else if(o=(a=l.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=l.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!o.extend&&v>f&&(g=f,f=v,v=g),g=H1(l,v);var T=H1(l,f);g&&T&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),v>f?(o.addRange(a),o.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),o.addRange(a)))}}for(a=[],o=l;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)o=a[l],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var iG=u&&"documentMode"in document&&11>=document.documentMode,Uc=null,iw=null,md=null,ow=!1;function K1(o,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ow||Uc==null||Uc!==Uo(f)||(f=Uc,"selectionStart"in f&&rw(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),md&&fd(md,f)||(md=f,f=$h(iw,"onSelect"),0<f.length&&(a=new Oc("onSelect","select",null,a,l),o.push({event:a,listeners:f}),a.target=Uc)))}function jh(o,a){var l={};return l[o.toLowerCase()]=a.toLowerCase(),l["Webkit"+o]="webkit"+a,l["Moz"+o]="moz"+a,l}var zc={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionend:jh("Transition","TransitionEnd")},sw={},Q1={};u&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Uh(o){if(sw[o])return sw[o];if(!zc[o])return o;var a=zc[o],l;for(l in a)if(a.hasOwnProperty(l)&&l in Q1)return sw[o]=a[l];return o}var J1=Uh("animationend"),Y1=Uh("animationiteration"),Z1=Uh("animationstart"),X1=Uh("transitionend"),eP=new Map,tP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yo(o,a){eP.set(o,a),s(a,[o])}for(var aw=0;aw<tP.length;aw++){var cw=tP[aw],oG=cw.toLowerCase(),sG=cw[0].toUpperCase()+cw.slice(1);Yo(oG,"on"+sG)}Yo(J1,"onAnimationEnd"),Yo(Y1,"onAnimationIteration"),Yo(Z1,"onAnimationStart"),Yo("dblclick","onDoubleClick"),Yo("focusin","onFocus"),Yo("focusout","onBlur"),Yo(X1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aG=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function nP(o,a,l){var f=o.type||"unknown-event";o.currentTarget=l,gh(f,a,void 0,o),o.currentTarget=null}function rP(o,a){a=(a&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],g=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var T=f.length-1;0<=T;T--){var M=f[T],V=M.instance,W=M.currentTarget;if(M=M.listener,V!==v&&g.isPropagationStopped())break e;nP(g,M,W),v=V}else for(T=0;T<f.length;T++){if(M=f[T],V=M.instance,W=M.currentTarget,M=M.listener,V!==v&&g.isPropagationStopped())break e;nP(g,M,W),v=V}}}if(Cr)throw o=Zu,Cr=!1,Zu=null,o}function ht(o,a){var l=a[gw];l===void 0&&(l=a[gw]=new Set);var f=o+"__bubble";l.has(f)||(iP(a,o,2,!1),l.add(f))}function lw(o,a,l){var f=0;a&&(f|=4),iP(l,o,f,a)}var zh="_reactListening"+Math.random().toString(36).slice(2);function pd(o){if(!o[zh]){o[zh]=!0,r.forEach(function(l){l!=="selectionchange"&&(aG.has(l)||lw(l,!1,o),lw(l,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[zh]||(a[zh]=!0,lw("selectionchange",!1,a))}}function iP(o,a,l,f){switch(od(a)){case 1:var g=yt;break;case 4:g=Xv;break;default:g=id}l=g.bind(null,a,l,o),g=void 0,!Ec||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?o.addEventListener(a,l,{capture:!0,passive:g}):o.addEventListener(a,l,!0):g!==void 0?o.addEventListener(a,l,{passive:g}):o.addEventListener(a,l,!1)}function uw(o,a,l,f,g){var v=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;T=T.return}for(;M!==null;){if(T=ca(M),T===null)return;if(V=T.tag,V===5||V===6){f=v=T;continue e}M=M.parentNode}}f=f.return}Yu(function(){var W=v,oe=_c(l),se=[];e:{var ie=eP.get(o);if(ie!==void 0){var ge=Oc,Ee=o;switch(o){case"keypress":if(xc(l)===0)break e;case"keydown":case"keyup":ge=_;break;case"focusin":Ee="focus",ge=Lc;break;case"focusout":Ee="blur",ge=Lc;break;case"beforeblur":case"afterblur":ge=Lc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Y;break;case J1:case Y1:case Z1:ge=Ji;break;case X1:ge=it;break;case"scroll":ge=ew;break;case"wheel":ge=Ye;break;case"copy":case"cut":case"paste":ge=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=R}var be=(a&4)!==0,Rt=!be&&o==="scroll",B=be?ie!==null?ie+"Capture":null:ie;be=[];for(var U=W,H;U!==null;){H=U;var ce=H.stateNode;if(H.tag===5&&ce!==null&&(H=ce,B!==null&&(ce=kt(U,B),ce!=null&&be.push(gd(U,ce,H)))),Rt)break;U=U.return}0<be.length&&(ie=new ge(ie,Ee,null,l,oe),se.push({event:ie,listeners:be}))}}if(!(a&7)){e:{if(ie=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",ie&&l!==Qs&&(Ee=l.relatedTarget||l.fromElement)&&(ca(Ee)||Ee[Yi]))break e;if((ge||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(Ee=l.relatedTarget||l.toElement,ge=W,Ee=Ee?ca(Ee):null,Ee!==null&&(Rt=xr(Ee),Ee!==Rt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ge=null,Ee=W),ge!==Ee)){if(be=Dc,ce="onMouseLeave",B="onMouseEnter",U="mouse",(o==="pointerout"||o==="pointerover")&&(be=R,ce="onPointerLeave",B="onPointerEnter",U="pointer"),Rt=ge==null?ie:qc(ge),H=Ee==null?ie:qc(Ee),ie=new be(ce,U+"leave",ge,l,oe),ie.target=Rt,ie.relatedTarget=H,ce=null,ca(oe)===W&&(be=new be(B,U+"enter",Ee,l,oe),be.target=H,be.relatedTarget=Rt,ce=be),Rt=ce,ge&&Ee)t:{for(be=ge,B=Ee,U=0,H=be;H;H=$c(H))U++;for(H=0,ce=B;ce;ce=$c(ce))H++;for(;0<U-H;)be=$c(be),U--;for(;0<H-U;)B=$c(B),H--;for(;U--;){if(be===B||B!==null&&be===B.alternate)break t;be=$c(be),B=$c(B)}be=null}else be=null;ge!==null&&oP(se,ie,ge,be,!1),Ee!==null&&Rt!==null&&oP(se,Rt,Ee,be,!0)}}e:{if(ie=W?qc(W):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Ae=Y5;else if(V1(ie))if(U1)Ae=tG;else{Ae=X5;var Re=Z5}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ae=eG);if(Ae&&(Ae=Ae(o,W))){j1(se,Ae,l,oe);break e}Re&&Re(o,ie,W),o==="focusout"&&(Re=ie._wrapperState)&&Re.controlled&&ie.type==="number"&&pc(ie,"number",ie.value)}switch(Re=W?qc(W):window,o){case"focusin":(V1(Re)||Re.contentEditable==="true")&&(Uc=Re,iw=W,md=null);break;case"focusout":md=iw=Uc=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,K1(se,l,oe);break;case"selectionchange":if(iG)break;case"keydown":case"keyup":K1(se,l,oe)}var Pe;if(Ot)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else jc?L1(o,l)&&(De="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(aa&&l.locale!=="ko"&&(jc||De!=="onCompositionStart"?De==="onCompositionEnd"&&jc&&(Pe=sd()):(Qn=oe,Cc="value"in Qn?Qn.value:Qn.textContent,jc=!0)),Re=$h(W,De),0<Re.length&&(De=new ld(De,o,null,l,oe),se.push({event:De,listeners:Re}),Pe?De.data=Pe:(Pe=F1(l),Pe!==null&&(De.data=Pe)))),(Pe=Jn?W5(o,l):K5(o,l))&&(W=$h(W,"onBeforeInput"),0<W.length&&(oe=new ld("onBeforeInput","beforeinput",null,l,oe),se.push({event:oe,listeners:W}),oe.data=Pe))}rP(se,a)})}function gd(o,a,l){return{instance:o,listener:a,currentTarget:l}}function $h(o,a){for(var l=a+"Capture",f=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=kt(o,l),v!=null&&f.unshift(gd(o,v,g)),v=kt(o,a),v!=null&&f.push(gd(o,v,g))),o=o.return}return f}function $c(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function oP(o,a,l,f,g){for(var v=a._reactName,T=[];l!==null&&l!==f;){var M=l,V=M.alternate,W=M.stateNode;if(V!==null&&V===f)break;M.tag===5&&W!==null&&(M=W,g?(V=kt(l,v),V!=null&&T.unshift(gd(l,V,M))):g||(V=kt(l,v),V!=null&&T.push(gd(l,V,M)))),l=l.return}T.length!==0&&o.push({event:a,listeners:T})}var cG=/\r\n?/g,lG=/\u0000|\uFFFD/g;function sP(o){return(typeof o=="string"?o:""+o).replace(cG,`
`).replace(lG,"")}function Bh(o,a,l){if(a=sP(a),sP(o)!==a&&l)throw Error(t(425))}function qh(){}var dw=null,fw=null;function mw(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hw=typeof setTimeout=="function"?setTimeout:void 0,uG=typeof clearTimeout=="function"?clearTimeout:void 0,aP=typeof Promise=="function"?Promise:void 0,dG=typeof queueMicrotask=="function"?queueMicrotask:typeof aP<"u"?function(o){return aP.resolve(null).then(o).catch(fG)}:hw;function fG(o){setTimeout(function(){throw o})}function pw(o,a){var l=a,f=0;do{var g=l.nextSibling;if(o.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){o.removeChild(g),Lr(a);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Lr(a)}function Zo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function cP(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return o;a--}else l==="/$"&&a++}o=o.previousSibling}return null}var Bc=Math.random().toString(36).slice(2),fi="__reactFiber$"+Bc,yd="__reactProps$"+Bc,Yi="__reactContainer$"+Bc,gw="__reactEvents$"+Bc,mG="__reactListeners$"+Bc,hG="__reactHandles$"+Bc;function ca(o){var a=o[fi];if(a)return a;for(var l=o.parentNode;l;){if(a=l[Yi]||l[fi]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(o=cP(o);o!==null;){if(l=o[fi])return l;o=cP(o)}return a}o=l,l=o.parentNode}return null}function _d(o){return o=o[fi]||o[Yi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function qc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Hh(o){return o[yd]||null}var yw=[],Hc=-1;function Xo(o){return{current:o}}function pt(o){0>Hc||(o.current=yw[Hc],yw[Hc]=null,Hc--)}function ft(o,a){Hc++,yw[Hc]=o.current,o.current=a}var es={},mn=Xo(es),On=Xo(!1),la=es;function Gc(o,a){var l=o.type.contextTypes;if(!l)return es;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=a[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function Nn(o){return o=o.childContextTypes,o!=null}function Gh(){pt(On),pt(mn)}function lP(o,a,l){if(mn.current!==es)throw Error(t(168));ft(mn,a),ft(On,l)}function uP(o,a,l){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,Ze(o)||"Unknown",g));return ee({},l,f)}function Wh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||es,la=mn.current,ft(mn,o),ft(On,On.current),!0}function dP(o,a,l){var f=o.stateNode;if(!f)throw Error(t(169));l?(o=uP(o,a,la),f.__reactInternalMemoizedMergedChildContext=o,pt(On),pt(mn),ft(mn,o)):pt(On),ft(On,l)}var Zi=null,Kh=!1,_w=!1;function fP(o){Zi===null?Zi=[o]:Zi.push(o)}function pG(o){Kh=!0,fP(o)}function ts(){if(!_w&&Zi!==null){_w=!0;var o=0,a=We;try{var l=Zi;for(We=1;o<l.length;o++){var f=l[o];do f=f(!0);while(f!==null)}Zi=null,Kh=!1}catch(g){throw Zi!==null&&(Zi=Zi.slice(o+1)),Sc(ea,ts),g}finally{We=a,_w=!1}}return null}var Wc=[],Kc=0,Qh=null,Jh=0,fr=[],mr=0,ua=null,Xi=1,eo="";function da(o,a){Wc[Kc++]=Jh,Wc[Kc++]=Qh,Qh=o,Jh=a}function mP(o,a,l){fr[mr++]=Xi,fr[mr++]=eo,fr[mr++]=ua,ua=o;var f=Xi;o=eo;var g=32-bn(f)-1;f&=~(1<<g),l+=1;var v=32-bn(a)+g;if(30<v){var T=g-g%5;v=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Xi=1<<32-bn(a)+g|l<<g|f,eo=v+o}else Xi=1<<v|l<<g|f,eo=o}function vw(o){o.return!==null&&(da(o,1),mP(o,1,0))}function ww(o){for(;o===Qh;)Qh=Wc[--Kc],Wc[Kc]=null,Jh=Wc[--Kc],Wc[Kc]=null;for(;o===ua;)ua=fr[--mr],fr[mr]=null,eo=fr[--mr],fr[mr]=null,Xi=fr[--mr],fr[mr]=null}var Yn=null,Zn=null,_t=!1,jr=null;function hP(o,a){var l=yr(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=o,a=o.deletions,a===null?(o.deletions=[l],o.flags|=16):a.push(l)}function pP(o,a){switch(o.tag){case 5:var l=o.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Yn=o,Zn=Zo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Yn=o,Zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=ua!==null?{id:Xi,overflow:eo}:null,o.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=yr(18,null,null,0),l.stateNode=a,l.return=o,o.child=l,Yn=o,Zn=null,!0):!1;default:return!1}}function Ew(o){return(o.mode&1)!==0&&(o.flags&128)===0}function bw(o){if(_t){var a=Zn;if(a){var l=a;if(!pP(o,a)){if(Ew(o))throw Error(t(418));a=Zo(l.nextSibling);var f=Yn;a&&pP(o,a)?hP(f,l):(o.flags=o.flags&-4097|2,_t=!1,Yn=o)}}else{if(Ew(o))throw Error(t(418));o.flags=o.flags&-4097|2,_t=!1,Yn=o}}}function gP(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Yn=o}function Yh(o){if(o!==Yn)return!1;if(!_t)return gP(o),_t=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!mw(o.type,o.memoizedProps)),a&&(a=Zn)){if(Ew(o))throw yP(),Error(t(418));for(;a;)hP(o,a),a=Zo(a.nextSibling)}if(gP(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"){if(a===0){Zn=Zo(o.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}o=o.nextSibling}Zn=null}}else Zn=Yn?Zo(o.stateNode.nextSibling):null;return!0}function yP(){for(var o=Zn;o;)o=Zo(o.nextSibling)}function Qc(){Zn=Yn=null,_t=!1}function Tw(o){jr===null?jr=[o]:jr.push(o)}var gG=re.ReactCurrentBatchConfig;function vd(o,a,l){if(o=l.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,o));var g=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(T){var M=g.refs;T===null?delete M[v]:M[v]=T},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,o))}return o}function Zh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function _P(o){var a=o._init;return a(o._payload)}function vP(o){function a(B,U){if(o){var H=B.deletions;H===null?(B.deletions=[U],B.flags|=16):H.push(U)}}function l(B,U){if(!o)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function f(B,U){for(B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function g(B,U){return B=ls(B,U),B.index=0,B.sibling=null,B}function v(B,U,H){return B.index=H,o?(H=B.alternate,H!==null?(H=H.index,H<U?(B.flags|=2,U):H):(B.flags|=2,U)):(B.flags|=1048576,U)}function T(B){return o&&B.alternate===null&&(B.flags|=2),B}function M(B,U,H,ce){return U===null||U.tag!==6?(U=hE(H,B.mode,ce),U.return=B,U):(U=g(U,H),U.return=B,U)}function V(B,U,H,ce){var Ae=H.type;return Ae===x?oe(B,U,H.props.children,ce,H.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===je&&_P(Ae)===U.type)?(ce=g(U,H.props),ce.ref=vd(B,U,H),ce.return=B,ce):(ce=bp(H.type,H.key,H.props,null,B.mode,ce),ce.ref=vd(B,U,H),ce.return=B,ce)}function W(B,U,H,ce){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=pE(H,B.mode,ce),U.return=B,U):(U=g(U,H.children||[]),U.return=B,U)}function oe(B,U,H,ce,Ae){return U===null||U.tag!==7?(U=va(H,B.mode,ce,Ae),U.return=B,U):(U=g(U,H),U.return=B,U)}function se(B,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return U=hE(""+U,B.mode,H),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return H=bp(U.type,U.key,U.props,null,B.mode,H),H.ref=vd(B,null,U),H.return=B,H;case K:return U=pE(U,B.mode,H),U.return=B,U;case je:var ce=U._init;return se(B,ce(U._payload),H)}if($i(U)||X(U))return U=va(U,B.mode,H,null),U.return=B,U;Zh(B,U)}return null}function ie(B,U,H,ce){var Ae=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ae!==null?null:M(B,U,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:return H.key===Ae?V(B,U,H,ce):null;case K:return H.key===Ae?W(B,U,H,ce):null;case je:return Ae=H._init,ie(B,U,Ae(H._payload),ce)}if($i(H)||X(H))return Ae!==null?null:oe(B,U,H,ce,null);Zh(B,H)}return null}function ge(B,U,H,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return B=B.get(H)||null,M(U,B,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Q:return B=B.get(ce.key===null?H:ce.key)||null,V(U,B,ce,Ae);case K:return B=B.get(ce.key===null?H:ce.key)||null,W(U,B,ce,Ae);case je:var Re=ce._init;return ge(B,U,H,Re(ce._payload),Ae)}if($i(ce)||X(ce))return B=B.get(H)||null,oe(U,B,ce,Ae,null);Zh(U,ce)}return null}function Ee(B,U,H,ce){for(var Ae=null,Re=null,Pe=U,De=U=0,Qt=null;Pe!==null&&De<H.length;De++){Pe.index>De?(Qt=Pe,Pe=null):Qt=Pe.sibling;var tt=ie(B,Pe,H[De],ce);if(tt===null){Pe===null&&(Pe=Qt);break}o&&Pe&&tt.alternate===null&&a(B,Pe),U=v(tt,U,De),Re===null?Ae=tt:Re.sibling=tt,Re=tt,Pe=Qt}if(De===H.length)return l(B,Pe),_t&&da(B,De),Ae;if(Pe===null){for(;De<H.length;De++)Pe=se(B,H[De],ce),Pe!==null&&(U=v(Pe,U,De),Re===null?Ae=Pe:Re.sibling=Pe,Re=Pe);return _t&&da(B,De),Ae}for(Pe=f(B,Pe);De<H.length;De++)Qt=ge(Pe,B,De,H[De],ce),Qt!==null&&(o&&Qt.alternate!==null&&Pe.delete(Qt.key===null?De:Qt.key),U=v(Qt,U,De),Re===null?Ae=Qt:Re.sibling=Qt,Re=Qt);return o&&Pe.forEach(function(us){return a(B,us)}),_t&&da(B,De),Ae}function be(B,U,H,ce){var Ae=X(H);if(typeof Ae!="function")throw Error(t(150));if(H=Ae.call(H),H==null)throw Error(t(151));for(var Re=Ae=null,Pe=U,De=U=0,Qt=null,tt=H.next();Pe!==null&&!tt.done;De++,tt=H.next()){Pe.index>De?(Qt=Pe,Pe=null):Qt=Pe.sibling;var us=ie(B,Pe,tt.value,ce);if(us===null){Pe===null&&(Pe=Qt);break}o&&Pe&&us.alternate===null&&a(B,Pe),U=v(us,U,De),Re===null?Ae=us:Re.sibling=us,Re=us,Pe=Qt}if(tt.done)return l(B,Pe),_t&&da(B,De),Ae;if(Pe===null){for(;!tt.done;De++,tt=H.next())tt=se(B,tt.value,ce),tt!==null&&(U=v(tt,U,De),Re===null?Ae=tt:Re.sibling=tt,Re=tt);return _t&&da(B,De),Ae}for(Pe=f(B,Pe);!tt.done;De++,tt=H.next())tt=ge(Pe,B,De,tt.value,ce),tt!==null&&(o&&tt.alternate!==null&&Pe.delete(tt.key===null?De:tt.key),U=v(tt,U,De),Re===null?Ae=tt:Re.sibling=tt,Re=tt);return o&&Pe.forEach(function(QG){return a(B,QG)}),_t&&da(B,De),Ae}function Rt(B,U,H,ce){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:e:{for(var Ae=H.key,Re=U;Re!==null;){if(Re.key===Ae){if(Ae=H.type,Ae===x){if(Re.tag===7){l(B,Re.sibling),U=g(Re,H.props.children),U.return=B,B=U;break e}}else if(Re.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===je&&_P(Ae)===Re.type){l(B,Re.sibling),U=g(Re,H.props),U.ref=vd(B,Re,H),U.return=B,B=U;break e}l(B,Re);break}else a(B,Re);Re=Re.sibling}H.type===x?(U=va(H.props.children,B.mode,ce,H.key),U.return=B,B=U):(ce=bp(H.type,H.key,H.props,null,B.mode,ce),ce.ref=vd(B,U,H),ce.return=B,B=ce)}return T(B);case K:e:{for(Re=H.key;U!==null;){if(U.key===Re)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(B,U.sibling),U=g(U,H.children||[]),U.return=B,B=U;break e}else{l(B,U);break}else a(B,U);U=U.sibling}U=pE(H,B.mode,ce),U.return=B,B=U}return T(B);case je:return Re=H._init,Rt(B,U,Re(H._payload),ce)}if($i(H))return Ee(B,U,H,ce);if(X(H))return be(B,U,H,ce);Zh(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,U!==null&&U.tag===6?(l(B,U.sibling),U=g(U,H),U.return=B,B=U):(l(B,U),U=hE(H,B.mode,ce),U.return=B,B=U),T(B)):l(B,U)}return Rt}var Jc=vP(!0),wP=vP(!1),Xh=Xo(null),ep=null,Yc=null,Aw=null;function Sw(){Aw=Yc=ep=null}function Iw(o){var a=Xh.current;pt(Xh),o._currentValue=a}function kw(o,a,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===l)break;o=o.return}}function Zc(o,a){ep=o,Aw=Yc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Dn=!0),o.firstContext=null)}function hr(o){var a=o._currentValue;if(Aw!==o)if(o={context:o,memoizedValue:a,next:null},Yc===null){if(ep===null)throw Error(t(308));Yc=o,ep.dependencies={lanes:0,firstContext:o}}else Yc=Yc.next=o;return a}var fa=null;function Rw(o){fa===null?fa=[o]:fa.push(o)}function EP(o,a,l,f){var g=a.interleaved;return g===null?(l.next=l,Rw(a)):(l.next=g.next,g.next=l),a.interleaved=l,to(o,f)}function to(o,a){o.lanes|=a;var l=o.alternate;for(l!==null&&(l.lanes|=a),l=o,o=o.return;o!==null;)o.childLanes|=a,l=o.alternate,l!==null&&(l.childLanes|=a),l=o,o=o.return;return l.tag===3?l.stateNode:null}var ns=!1;function Pw(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function no(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function rs(o,a,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,et&2){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,to(o,l)}return g=f.interleaved,g===null?(a.next=a,Rw(f)):(a.next=g.next,g.next=a),f.interleaved=a,to(o,l)}function tp(o,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,l|=f,a.lanes=l,Go(o,l)}}function TP(o,a){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?g=v=a:v=v.next=a}else g=v=a;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=a:o.next=a,l.lastBaseUpdate=a}function np(o,a,l,f){var g=o.updateQueue;ns=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var V=M,W=V.next;V.next=null,T===null?v=W:T.next=W,T=V;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==T&&(M===null?oe.firstBaseUpdate=W:M.next=W,oe.lastBaseUpdate=V))}if(v!==null){var se=g.baseState;T=0,oe=W=V=null,M=v;do{var ie=M.lane,ge=M.eventTime;if((f&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=o,be=M;switch(ie=a,ge=l,be.tag){case 1:if(Ee=be.payload,typeof Ee=="function"){se=Ee.call(ge,se,ie);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=be.payload,ie=typeof Ee=="function"?Ee.call(ge,se,ie):Ee,ie==null)break e;se=ee({},se,ie);break e;case 2:ns=!0}}M.callback!==null&&M.lane!==0&&(o.flags|=64,ie=g.effects,ie===null?g.effects=[M]:ie.push(M))}else ge={eventTime:ge,lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(W=oe=ge,V=se):oe=oe.next=ge,T|=ie;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);if(oe===null&&(V=se),g.baseState=V,g.firstBaseUpdate=W,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);pa|=T,o.lanes=T,o.memoizedState=se}}function AP(o,a,l){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var wd={},mi=Xo(wd),Ed=Xo(wd),bd=Xo(wd);function ma(o){if(o===wd)throw Error(t(174));return o}function Cw(o,a){switch(ft(bd,a),ft(Ed,o),ft(mi,wd),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Vt(a,o)}pt(mi),ft(mi,a)}function Xc(){pt(mi),pt(Ed),pt(bd)}function SP(o){ma(bd.current);var a=ma(mi.current),l=Vt(a,o.type);a!==l&&(ft(Ed,o),ft(mi,l))}function xw(o){Ed.current===o&&(pt(mi),pt(Ed))}var Et=Xo(0);function rp(o){for(var a=o;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ow=[];function Nw(){for(var o=0;o<Ow.length;o++)Ow[o]._workInProgressVersionPrimary=null;Ow.length=0}var ip=re.ReactCurrentDispatcher,Dw=re.ReactCurrentBatchConfig,ha=0,bt=null,Ut=null,Wt=null,op=!1,Td=!1,Ad=0,yG=0;function hn(){throw Error(t(321))}function Mw(o,a){if(a===null)return!1;for(var l=0;l<a.length&&l<o.length;l++)if(!Vr(o[l],a[l]))return!1;return!0}function Lw(o,a,l,f,g,v){if(ha=v,bt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ip.current=o===null||o.memoizedState===null?EG:bG,o=l(f,g),Td){v=0;do{if(Td=!1,Ad=0,25<=v)throw Error(t(301));v+=1,Wt=Ut=null,a.updateQueue=null,ip.current=TG,o=l(f,g)}while(Td)}if(ip.current=cp,a=Ut!==null&&Ut.next!==null,ha=0,Wt=Ut=bt=null,op=!1,a)throw Error(t(300));return o}function Fw(){var o=Ad!==0;return Ad=0,o}function hi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o,Wt}function pr(){if(Ut===null){var o=bt.alternate;o=o!==null?o.memoizedState:null}else o=Ut.next;var a=Wt===null?bt.memoizedState:Wt.next;if(a!==null)Wt=a,Ut=o;else{if(o===null)throw Error(t(310));Ut=o,o={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o}return Wt}function Sd(o,a){return typeof a=="function"?a(o):a}function Vw(o){var a=pr(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=o;var f=Ut,g=f.baseQueue,v=l.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}f.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,f=f.baseState;var M=T=null,V=null,W=v;do{var oe=W.lane;if((ha&oe)===oe)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:o(f,W.action);else{var se={lane:oe,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(M=V=se,T=f):V=V.next=se,bt.lanes|=oe,pa|=oe}W=W.next}while(W!==null&&W!==v);V===null?T=f:V.next=M,Vr(f,a.memoizedState)||(Dn=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=V,l.lastRenderedState=f}if(o=l.interleaved,o!==null){g=o;do v=g.lane,bt.lanes|=v,pa|=v,g=g.next;while(g!==o)}else g===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function jw(o){var a=pr(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=o;var f=l.dispatch,g=l.pending,v=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do v=o(v,T.action),T=T.next;while(T!==g);Vr(v,a.memoizedState)||(Dn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,f]}function IP(){}function kP(o,a){var l=bt,f=pr(),g=a(),v=!Vr(f.memoizedState,g);if(v&&(f.memoizedState=g,Dn=!0),f=f.queue,Uw(CP.bind(null,l,f,o),[o]),f.getSnapshot!==a||v||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,Id(9,PP.bind(null,l,f,g,a),void 0,null),Kt===null)throw Error(t(349));ha&30||RP(l,a,g)}return g}function RP(o,a,l){o.flags|=16384,o={getSnapshot:a,value:l},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.stores=[o]):(l=a.stores,l===null?a.stores=[o]:l.push(o))}function PP(o,a,l,f){a.value=l,a.getSnapshot=f,xP(a)&&OP(o)}function CP(o,a,l){return l(function(){xP(a)&&OP(o)})}function xP(o){var a=o.getSnapshot;o=o.value;try{var l=a();return!Vr(o,l)}catch{return!0}}function OP(o){var a=to(o,1);a!==null&&Br(a,o,1,-1)}function NP(o){var a=hi();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:o},a.queue=o,o=o.dispatch=wG.bind(null,bt,o),[a.memoizedState,o]}function Id(o,a,l,f){return o={tag:o,create:a,destroy:l,deps:f,next:null},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.lastEffect=o.next=o):(l=a.lastEffect,l===null?a.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,a.lastEffect=o)),o}function DP(){return pr().memoizedState}function sp(o,a,l,f){var g=hi();bt.flags|=o,g.memoizedState=Id(1|a,l,void 0,f===void 0?null:f)}function ap(o,a,l,f){var g=pr();f=f===void 0?null:f;var v=void 0;if(Ut!==null){var T=Ut.memoizedState;if(v=T.destroy,f!==null&&Mw(f,T.deps)){g.memoizedState=Id(a,l,v,f);return}}bt.flags|=o,g.memoizedState=Id(1|a,l,v,f)}function MP(o,a){return sp(8390656,8,o,a)}function Uw(o,a){return ap(2048,8,o,a)}function LP(o,a){return ap(4,2,o,a)}function FP(o,a){return ap(4,4,o,a)}function VP(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function jP(o,a,l){return l=l!=null?l.concat([o]):null,ap(4,4,VP.bind(null,a,o),l)}function zw(){}function UP(o,a){var l=pr();a=a===void 0?null:a;var f=l.memoizedState;return f!==null&&a!==null&&Mw(a,f[1])?f[0]:(l.memoizedState=[o,a],o)}function zP(o,a){var l=pr();a=a===void 0?null:a;var f=l.memoizedState;return f!==null&&a!==null&&Mw(a,f[1])?f[0]:(o=o(),l.memoizedState=[o,a],o)}function $P(o,a,l){return ha&21?(Vr(l,a)||(l=ra(),bt.lanes|=l,pa|=l,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Dn=!0),o.memoizedState=l)}function _G(o,a){var l=We;We=l!==0&&4>l?l:4,o(!0);var f=Dw.transition;Dw.transition={};try{o(!1),a()}finally{We=l,Dw.transition=f}}function BP(){return pr().memoizedState}function vG(o,a,l){var f=as(o);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},qP(o))HP(a,l);else if(l=EP(o,a,l,f),l!==null){var g=Sn();Br(l,o,f,g),GP(l,a,f)}}function wG(o,a,l){var f=as(o),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(qP(o))HP(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var T=a.lastRenderedState,M=v(T,l);if(g.hasEagerState=!0,g.eagerState=M,Vr(M,T)){var V=a.interleaved;V===null?(g.next=g,Rw(a)):(g.next=V.next,V.next=g),a.interleaved=g;return}}catch{}finally{}l=EP(o,a,g,f),l!==null&&(g=Sn(),Br(l,o,f,g),GP(l,a,f))}}function qP(o){var a=o.alternate;return o===bt||a!==null&&a===bt}function HP(o,a){Td=op=!0;var l=o.pending;l===null?a.next=a:(a.next=l.next,l.next=a),o.pending=a}function GP(o,a,l){if(l&4194240){var f=a.lanes;f&=o.pendingLanes,l|=f,a.lanes=l,Go(o,l)}}var cp={readContext:hr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},EG={readContext:hr,useCallback:function(o,a){return hi().memoizedState=[o,a===void 0?null:a],o},useContext:hr,useEffect:MP,useImperativeHandle:function(o,a,l){return l=l!=null?l.concat([o]):null,sp(4194308,4,VP.bind(null,a,o),l)},useLayoutEffect:function(o,a){return sp(4194308,4,o,a)},useInsertionEffect:function(o,a){return sp(4,2,o,a)},useMemo:function(o,a){var l=hi();return a=a===void 0?null:a,o=o(),l.memoizedState=[o,a],o},useReducer:function(o,a,l){var f=hi();return a=l!==void 0?l(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=vG.bind(null,bt,o),[f.memoizedState,o]},useRef:function(o){var a=hi();return o={current:o},a.memoizedState=o},useState:NP,useDebugValue:zw,useDeferredValue:function(o){return hi().memoizedState=o},useTransition:function(){var o=NP(!1),a=o[0];return o=_G.bind(null,o[1]),hi().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,l){var f=bt,g=hi();if(_t){if(l===void 0)throw Error(t(407));l=l()}else{if(l=a(),Kt===null)throw Error(t(349));ha&30||RP(f,a,l)}g.memoizedState=l;var v={value:l,getSnapshot:a};return g.queue=v,MP(CP.bind(null,f,v,o),[o]),f.flags|=2048,Id(9,PP.bind(null,f,v,l,a),void 0,null),l},useId:function(){var o=hi(),a=Kt.identifierPrefix;if(_t){var l=eo,f=Xi;l=(f&~(1<<32-bn(f)-1)).toString(32)+l,a=":"+a+"R"+l,l=Ad++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=yG++,a=":"+a+"r"+l.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},bG={readContext:hr,useCallback:UP,useContext:hr,useEffect:Uw,useImperativeHandle:jP,useInsertionEffect:LP,useLayoutEffect:FP,useMemo:zP,useReducer:Vw,useRef:DP,useState:function(){return Vw(Sd)},useDebugValue:zw,useDeferredValue:function(o){var a=pr();return $P(a,Ut.memoizedState,o)},useTransition:function(){var o=Vw(Sd)[0],a=pr().memoizedState;return[o,a]},useMutableSource:IP,useSyncExternalStore:kP,useId:BP,unstable_isNewReconciler:!1},TG={readContext:hr,useCallback:UP,useContext:hr,useEffect:Uw,useImperativeHandle:jP,useInsertionEffect:LP,useLayoutEffect:FP,useMemo:zP,useReducer:jw,useRef:DP,useState:function(){return jw(Sd)},useDebugValue:zw,useDeferredValue:function(o){var a=pr();return Ut===null?a.memoizedState=o:$P(a,Ut.memoizedState,o)},useTransition:function(){var o=jw(Sd)[0],a=pr().memoizedState;return[o,a]},useMutableSource:IP,useSyncExternalStore:kP,useId:BP,unstable_isNewReconciler:!1};function Ur(o,a){if(o&&o.defaultProps){a=ee({},a),o=o.defaultProps;for(var l in o)a[l]===void 0&&(a[l]=o[l]);return a}return a}function $w(o,a,l,f){a=o.memoizedState,l=l(f,a),l=l==null?a:ee({},a,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var lp={isMounted:function(o){return(o=o._reactInternals)?xr(o)===o:!1},enqueueSetState:function(o,a,l){o=o._reactInternals;var f=Sn(),g=as(o),v=no(f,g);v.payload=a,l!=null&&(v.callback=l),a=rs(o,v,g),a!==null&&(Br(a,o,g,f),tp(a,o,g))},enqueueReplaceState:function(o,a,l){o=o._reactInternals;var f=Sn(),g=as(o),v=no(f,g);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=rs(o,v,g),a!==null&&(Br(a,o,g,f),tp(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var l=Sn(),f=as(o),g=no(l,f);g.tag=2,a!=null&&(g.callback=a),a=rs(o,g,f),a!==null&&(Br(a,o,f,l),tp(a,o,f))}};function WP(o,a,l,f,g,v,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,T):a.prototype&&a.prototype.isPureReactComponent?!fd(l,f)||!fd(g,v):!0}function KP(o,a,l){var f=!1,g=es,v=a.contextType;return typeof v=="object"&&v!==null?v=hr(v):(g=Nn(a)?la:mn.current,f=a.contextTypes,v=(f=f!=null)?Gc(o,g):es),a=new a(l,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lp,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),a}function QP(o,a,l,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==o&&lp.enqueueReplaceState(a,a.state,null)}function Bw(o,a,l,f){var g=o.stateNode;g.props=l,g.state=o.memoizedState,g.refs={},Pw(o);var v=a.contextType;typeof v=="object"&&v!==null?g.context=hr(v):(v=Nn(a)?la:mn.current,g.context=Gc(o,v)),g.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&($w(o,a,v,l),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&lp.enqueueReplaceState(g,g.state,null),np(o,l,g,f),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function el(o,a){try{var l="",f=a;do l+=Ue(f),f=f.return;while(f);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:g,digest:null}}function qw(o,a,l){return{value:o,source:null,stack:l??null,digest:a??null}}function Hw(o,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var AG=typeof WeakMap=="function"?WeakMap:Map;function JP(o,a,l){l=no(-1,l),l.tag=3,l.payload={element:null};var f=a.value;return l.callback=function(){gp||(gp=!0,sE=f),Hw(o,a)},l}function YP(o,a,l){l=no(-1,l),l.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;l.payload=function(){return f(g)},l.callback=function(){Hw(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Hw(o,a),typeof f!="function"&&(os===null?os=new Set([this]):os.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),l}function ZP(o,a,l){var f=o.pingCache;if(f===null){f=o.pingCache=new AG;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(l)||(g.add(l),o=VG.bind(null,o,a,l),a.then(o,o))}function XP(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function eC(o,a,l,f,g){return o.mode&1?(o.flags|=65536,o.lanes=g,o):(o===a?o.flags|=65536:(o.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=no(-1,1),a.tag=2,rs(l,a,1))),l.lanes|=1),o)}var SG=re.ReactCurrentOwner,Dn=!1;function An(o,a,l,f){a.child=o===null?wP(a,null,l,f):Jc(a,o.child,l,f)}function tC(o,a,l,f,g){l=l.render;var v=a.ref;return Zc(a,g),f=Lw(o,a,l,f,v,g),l=Fw(),o!==null&&!Dn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,ro(o,a,g)):(_t&&l&&vw(a),a.flags|=1,An(o,a,f,g),a.child)}function nC(o,a,l,f,g){if(o===null){var v=l.type;return typeof v=="function"&&!mE(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=v,rC(o,a,v,f,g)):(o=bp(l.type,null,f,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,!(o.lanes&g)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:fd,l(T,f)&&o.ref===a.ref)return ro(o,a,g)}return a.flags|=1,o=ls(v,f),o.ref=a.ref,o.return=a,a.child=o}function rC(o,a,l,f,g){if(o!==null){var v=o.memoizedProps;if(fd(v,f)&&o.ref===a.ref)if(Dn=!1,a.pendingProps=f=v,(o.lanes&g)!==0)o.flags&131072&&(Dn=!0);else return a.lanes=o.lanes,ro(o,a,g)}return Gw(o,a,l,f,g)}function iC(o,a,l){var f=a.pendingProps,g=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(nl,Xn),Xn|=l;else{if(!(l&1073741824))return o=v!==null?v.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,ft(nl,Xn),Xn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,ft(nl,Xn),Xn|=f}else v!==null?(f=v.baseLanes|l,a.memoizedState=null):f=l,ft(nl,Xn),Xn|=f;return An(o,a,g,l),a.child}function oC(o,a){var l=a.ref;(o===null&&l!==null||o!==null&&o.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function Gw(o,a,l,f,g){var v=Nn(l)?la:mn.current;return v=Gc(a,v),Zc(a,g),l=Lw(o,a,l,f,v,g),f=Fw(),o!==null&&!Dn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,ro(o,a,g)):(_t&&f&&vw(a),a.flags|=1,An(o,a,l,g),a.child)}function sC(o,a,l,f,g){if(Nn(l)){var v=!0;Wh(a)}else v=!1;if(Zc(a,g),a.stateNode===null)dp(o,a),KP(a,l,f),Bw(a,l,f,g),f=!0;else if(o===null){var T=a.stateNode,M=a.memoizedProps;T.props=M;var V=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=hr(W):(W=Nn(l)?la:mn.current,W=Gc(a,W));var oe=l.getDerivedStateFromProps,se=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==f||V!==W)&&QP(a,T,f,W),ns=!1;var ie=a.memoizedState;T.state=ie,np(a,f,T,g),V=a.memoizedState,M!==f||ie!==V||On.current||ns?(typeof oe=="function"&&($w(a,l,oe,f),V=a.memoizedState),(M=ns||WP(a,l,M,f,ie,V,W))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=V),T.props=f,T.state=V,T.context=W,f=M):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,bP(o,a),M=a.memoizedProps,W=a.type===a.elementType?M:Ur(a.type,M),T.props=W,se=a.pendingProps,ie=T.context,V=l.contextType,typeof V=="object"&&V!==null?V=hr(V):(V=Nn(l)?la:mn.current,V=Gc(a,V));var ge=l.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==se||ie!==V)&&QP(a,T,f,V),ns=!1,ie=a.memoizedState,T.state=ie,np(a,f,T,g);var Ee=a.memoizedState;M!==se||ie!==Ee||On.current||ns?(typeof ge=="function"&&($w(a,l,ge,f),Ee=a.memoizedState),(W=ns||WP(a,l,W,f,ie,Ee,V)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ee,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ee,V)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ee),T.props=f,T.state=Ee,T.context=V,f=W):(typeof T.componentDidUpdate!="function"||M===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),f=!1)}return Ww(o,a,l,f,v,g)}function Ww(o,a,l,f,g,v){oC(o,a);var T=(a.flags&128)!==0;if(!f&&!T)return g&&dP(a,l,!1),ro(o,a,v);f=a.stateNode,SG.current=a;var M=T&&typeof l.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&T?(a.child=Jc(a,o.child,null,v),a.child=Jc(a,null,M,v)):An(o,a,M,v),a.memoizedState=f.state,g&&dP(a,l,!0),a.child}function aC(o){var a=o.stateNode;a.pendingContext?lP(o,a.pendingContext,a.pendingContext!==a.context):a.context&&lP(o,a.context,!1),Cw(o,a.containerInfo)}function cC(o,a,l,f,g){return Qc(),Tw(g),a.flags|=256,An(o,a,l,f),a.child}var Kw={dehydrated:null,treeContext:null,retryLane:0};function Qw(o){return{baseLanes:o,cachePool:null,transitions:null}}function lC(o,a,l){var f=a.pendingProps,g=Et.current,v=!1,T=(a.flags&128)!==0,M;if((M=T)||(M=o!==null&&o.memoizedState===null?!1:(g&2)!==0),M?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),ft(Et,g&1),o===null)return bw(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(T=f.children,o=f.fallback,v?(f=a.mode,v=a.child,T={mode:"hidden",children:T},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Tp(T,f,0,null),o=va(o,f,l,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=Qw(l),a.memoizedState=Kw,o):Jw(a,T));if(g=o.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return IG(o,a,T,f,M,g,l);if(v){v=f.fallback,T=a.mode,g=o.child,M=g.sibling;var V={mode:"hidden",children:f.children};return!(T&1)&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=V,a.deletions=null):(f=ls(g,V),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?v=ls(M,v):(v=va(v,T,l,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,T=o.child.memoizedState,T=T===null?Qw(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=o.childLanes&~l,a.memoizedState=Kw,f}return v=o.child,o=v.sibling,f=ls(v,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=l),f.return=a,f.sibling=null,o!==null&&(l=a.deletions,l===null?(a.deletions=[o],a.flags|=16):l.push(o)),a.child=f,a.memoizedState=null,f}function Jw(o,a){return a=Tp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function up(o,a,l,f){return f!==null&&Tw(f),Jc(a,o.child,null,l),o=Jw(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function IG(o,a,l,f,g,v,T){if(l)return a.flags&256?(a.flags&=-257,f=qw(Error(t(422))),up(o,a,T,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=f.fallback,g=a.mode,f=Tp({mode:"visible",children:f.children},g,0,null),v=va(v,g,T,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,a.mode&1&&Jc(a,o.child,null,T),a.child.memoizedState=Qw(T),a.memoizedState=Kw,v);if(!(a.mode&1))return up(o,a,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,v=Error(t(419)),f=qw(v,f,void 0),up(o,a,T,f)}if(M=(T&o.childLanes)!==0,Dn||M){if(f=Kt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|T)?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,to(o,g),Br(f,o,g,-1))}return fE(),f=qw(Error(t(421))),up(o,a,T,f)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=jG.bind(null,o),g._reactRetry=a,null):(o=v.treeContext,Zn=Zo(g.nextSibling),Yn=a,_t=!0,jr=null,o!==null&&(fr[mr++]=Xi,fr[mr++]=eo,fr[mr++]=ua,Xi=o.id,eo=o.overflow,ua=a),a=Jw(a,f.children),a.flags|=4096,a)}function uC(o,a,l){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),kw(o.return,a,l)}function Yw(o,a,l,f,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function dC(o,a,l){var f=a.pendingProps,g=f.revealOrder,v=f.tail;if(An(o,a,f.children,l),f=Et.current,f&2)f=f&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uC(o,l,a);else if(o.tag===19)uC(o,l,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(ft(Et,f),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(l=a.child,g=null;l!==null;)o=l.alternate,o!==null&&rp(o)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Yw(a,!1,g,l,v);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&rp(o)===null){a.child=g;break}o=g.sibling,g.sibling=l,l=g,g=o}Yw(a,!0,l,null,v);break;case"together":Yw(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function dp(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ro(o,a,l){if(o!==null&&(a.dependencies=o.dependencies),pa|=a.lanes,!(l&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,l=ls(o,o.pendingProps),a.child=l,l.return=a;o.sibling!==null;)o=o.sibling,l=l.sibling=ls(o,o.pendingProps),l.return=a;l.sibling=null}return a.child}function kG(o,a,l){switch(a.tag){case 3:aC(a),Qc();break;case 5:SP(a);break;case 1:Nn(a.type)&&Wh(a);break;case 4:Cw(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;ft(Xh,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ft(Et,Et.current&1),a.flags|=128,null):l&a.child.childLanes?lC(o,a,l):(ft(Et,Et.current&1),o=ro(o,a,l),o!==null?o.sibling:null);ft(Et,Et.current&1);break;case 19:if(f=(l&a.childLanes)!==0,o.flags&128){if(f)return dC(o,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ft(Et,Et.current),f)break;return null;case 22:case 23:return a.lanes=0,iC(o,a,l)}return ro(o,a,l)}var fC,Zw,mC,hC;fC=function(o,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)o.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zw=function(){},mC=function(o,a,l,f){var g=o.memoizedProps;if(g!==f){o=a.stateNode,ma(mi.current);var v=null;switch(l){case"input":g=Gs(o,g),f=Gs(o,f),v=[];break;case"select":g=ee({},g,{value:void 0}),f=ee({},f,{value:void 0}),v=[];break;case"textarea":g=zu(o,g),f=zu(o,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=qh)}Wu(l,f);var T;l=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var M=g[W];for(T in M)M.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in f){var V=f[W];if(M=g!=null?g[W]:void 0,f.hasOwnProperty(W)&&V!==M&&(V!=null||M!=null))if(W==="style")if(M){for(T in M)!M.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in V)V.hasOwnProperty(T)&&M[T]!==V[T]&&(l||(l={}),l[T]=V[T])}else l||(v||(v=[]),v.push(W,l)),l=V;else W==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,M=M?M.__html:void 0,V!=null&&M!==V&&(v=v||[]).push(W,V)):W==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(W,""+V):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(V!=null&&W==="onScroll"&&ht("scroll",o),v||M===V||(v=[])):(v=v||[]).push(W,V))}l&&(v=v||[]).push("style",l);var W=v;(a.updateQueue=W)&&(a.flags|=4)}},hC=function(o,a,l,f){l!==f&&(a.flags|=4)};function kd(o,a){if(!_t)switch(o.tailMode){case"hidden":a=o.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function pn(o){var a=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(a)for(var g=o.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=f,o.childLanes=l,a}function RG(o,a,l){var f=a.pendingProps;switch(ww(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(a),null;case 1:return Nn(a.type)&&Gh(),pn(a),null;case 3:return f=a.stateNode,Xc(),pt(On),pt(mn),Nw(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Yh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,jr!==null&&(lE(jr),jr=null))),Zw(o,a),pn(a),null;case 5:xw(a);var g=ma(bd.current);if(l=a.type,o!==null&&a.stateNode!=null)mC(o,a,l,f,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return pn(a),null}if(o=ma(mi.current),Yh(a)){f=a.stateNode,l=a.type;var v=a.memoizedProps;switch(f[fi]=a,f[yd]=v,o=(a.mode&1)!==0,l){case"dialog":ht("cancel",f),ht("close",f);break;case"iframe":case"object":case"embed":ht("load",f);break;case"video":case"audio":for(g=0;g<hd.length;g++)ht(hd[g],f);break;case"source":ht("error",f);break;case"img":case"image":case"link":ht("error",f),ht("load",f);break;case"details":ht("toggle",f);break;case"input":hc(f,v),ht("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},ht("invalid",f);break;case"textarea":gc(f,v),ht("invalid",f)}Wu(l,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var M=v[T];T==="children"?typeof M=="string"?f.textContent!==M&&(v.suppressHydrationWarning!==!0&&Bh(f.textContent,M,o),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Bh(f.textContent,M,o),g=["children",""+M]):i.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&ht("scroll",f)}switch(l){case"input":zi(f),ph(f,v,!0);break;case"textarea":zi(f),$u(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=qh)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ft(l)),o==="http://www.w3.org/1999/xhtml"?l==="script"?(o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=T.createElement(l,{is:f.is}):(o=T.createElement(l),l==="select"&&(T=o,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):o=T.createElementNS(o,l),o[fi]=a,o[yd]=f,fC(o,a,!1,!1),a.stateNode=o;e:{switch(T=Ku(l,f),l){case"dialog":ht("cancel",o),ht("close",o),g=f;break;case"iframe":case"object":case"embed":ht("load",o),g=f;break;case"video":case"audio":for(g=0;g<hd.length;g++)ht(hd[g],o);g=f;break;case"source":ht("error",o),g=f;break;case"img":case"image":case"link":ht("error",o),ht("load",o),g=f;break;case"details":ht("toggle",o),g=f;break;case"input":hc(o,f),g=Gs(o,f),ht("invalid",o);break;case"option":g=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},g=ee({},f,{value:void 0}),ht("invalid",o);break;case"textarea":gc(o,f),g=zu(o,f),ht("invalid",o);break;default:g=f}Wu(l,g),M=g;for(v in M)if(M.hasOwnProperty(v)){var V=M[v];v==="style"?Hu(o,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Bu(o,V)):v==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&zo(o,V):typeof V=="number"&&zo(o,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?V!=null&&v==="onScroll"&&ht("scroll",o):V!=null&&G(o,v,V,T))}switch(l){case"input":zi(o),ph(o,f,!1);break;case"textarea":zi(o),$u(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Xe(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?Bi(o,!!f.multiple,v,!1):f.defaultValue!=null&&Bi(o,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=qh)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return pn(a),null;case 6:if(o&&a.stateNode!=null)hC(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(l=ma(bd.current),ma(mi.current),Yh(a)){if(f=a.stateNode,l=a.memoizedProps,f[fi]=a,(v=f.nodeValue!==l)&&(o=Yn,o!==null))switch(o.tag){case 3:Bh(f.nodeValue,l,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Bh(f.nodeValue,l,(o.mode&1)!==0)}v&&(a.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[fi]=a,a.stateNode=f}return pn(a),null;case 13:if(pt(Et),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_t&&Zn!==null&&a.mode&1&&!(a.flags&128))yP(),Qc(),a.flags|=98560,v=!1;else if(v=Yh(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[fi]=a}else Qc(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;pn(a),v=!1}else jr!==null&&(lE(jr),jr=null),v=!0;if(!v)return a.flags&65536?a:null}return a.flags&128?(a.lanes=l,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(o===null||Et.current&1?zt===0&&(zt=3):fE())),a.updateQueue!==null&&(a.flags|=4),pn(a),null);case 4:return Xc(),Zw(o,a),o===null&&pd(a.stateNode.containerInfo),pn(a),null;case 10:return Iw(a.type._context),pn(a),null;case 17:return Nn(a.type)&&Gh(),pn(a),null;case 19:if(pt(Et),v=a.memoizedState,v===null)return pn(a),null;if(f=(a.flags&128)!==0,T=v.rendering,T===null)if(f)kd(v,!1);else{if(zt!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(T=rp(o),T!==null){for(a.flags|=128,kd(v,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=l,l=a.child;l!==null;)v=l,o=f,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,o=T.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l=l.sibling;return ft(Et,Et.current&1|2),a.child}o=o.sibling}v.tail!==null&&dt()>rl&&(a.flags|=128,f=!0,kd(v,!1),a.lanes=4194304)}else{if(!f)if(o=rp(T),o!==null){if(a.flags|=128,f=!0,l=o.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),kd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!_t)return pn(a),null}else 2*dt()-v.renderingStartTime>rl&&l!==1073741824&&(a.flags|=128,f=!0,kd(v,!1),a.lanes=4194304);v.isBackwards?(T.sibling=a.child,a.child=T):(l=v.last,l!==null?l.sibling=T:a.child=T,v.last=T)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=dt(),a.sibling=null,l=Et.current,ft(Et,f?l&1|2:l&1),a):(pn(a),null);case 22:case 23:return dE(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?Xn&1073741824&&(pn(a),a.subtreeFlags&6&&(a.flags|=8192)):pn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function PG(o,a){switch(ww(a),a.tag){case 1:return Nn(a.type)&&Gh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Xc(),pt(On),pt(mn),Nw(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return xw(a),null;case 13:if(pt(Et),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Qc()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return pt(Et),null;case 4:return Xc(),null;case 10:return Iw(a.type._context),null;case 22:case 23:return dE(),null;case 24:return null;default:return null}}var fp=!1,gn=!1,CG=typeof WeakSet=="function"?WeakSet:Set,ve=null;function tl(o,a){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Tt(o,a,f)}else l.current=null}function Xw(o,a,l){try{l()}catch(f){Tt(o,a,f)}}var pC=!1;function xG(o,a){if(dw=Qo,o=W1(),rw(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,M=-1,V=-1,W=0,oe=0,se=o,ie=null;t:for(;;){for(var ge;se!==l||g!==0&&se.nodeType!==3||(M=T+g),se!==v||f!==0&&se.nodeType!==3||(V=T+f),se.nodeType===3&&(T+=se.nodeValue.length),(ge=se.firstChild)!==null;)ie=se,se=ge;for(;;){if(se===o)break t;if(ie===l&&++W===g&&(M=T),ie===v&&++oe===f&&(V=T),(ge=se.nextSibling)!==null)break;se=ie,ie=se.parentNode}se=ge}l=M===-1||V===-1?null:{start:M,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(fw={focusedElem:o,selectionRange:l},Qo=!1,ve=a;ve!==null;)if(a=ve,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ve=o;else for(;ve!==null;){a=ve;try{var Ee=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var be=Ee.memoizedProps,Rt=Ee.memoizedState,B=a.stateNode,U=B.getSnapshotBeforeUpdate(a.elementType===a.type?be:Ur(a.type,be),Rt);B.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){Tt(a,a.return,ce)}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}return Ee=pC,pC=!1,Ee}function Rd(o,a,l){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&Xw(a,l,v)}g=g.next}while(g!==f)}}function mp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&o)===o){var f=l.create;l.destroy=f()}l=l.next}while(l!==a)}}function eE(o){var a=o.ref;if(a!==null){var l=o.stateNode;switch(o.tag){case 5:o=l;break;default:o=l}typeof a=="function"?a(o):a.current=o}}function gC(o){var a=o.alternate;a!==null&&(o.alternate=null,gC(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[fi],delete a[yd],delete a[gw],delete a[mG],delete a[hG])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function yC(o){return o.tag===5||o.tag===3||o.tag===4}function _C(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function tE(o,a,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(o,a):l.insertBefore(o,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(o,l)):(a=l,a.appendChild(o)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=qh));else if(f!==4&&(o=o.child,o!==null))for(tE(o,a,l),o=o.sibling;o!==null;)tE(o,a,l),o=o.sibling}function nE(o,a,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?l.insertBefore(o,a):l.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(nE(o,a,l),o=o.sibling;o!==null;)nE(o,a,l),o=o.sibling}var on=null,zr=!1;function is(o,a,l){for(l=l.child;l!==null;)vC(o,a,l),l=l.sibling}function vC(o,a,l){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(ta,l)}catch{}switch(l.tag){case 5:gn||tl(l,a);case 6:var f=on,g=zr;on=null,is(o,a,l),on=f,zr=g,on!==null&&(zr?(o=on,l=l.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):on.removeChild(l.stateNode));break;case 18:on!==null&&(zr?(o=on,l=l.stateNode,o.nodeType===8?pw(o.parentNode,l):o.nodeType===1&&pw(o,l),Lr(o)):pw(on,l.stateNode));break;case 4:f=on,g=zr,on=l.stateNode.containerInfo,zr=!0,is(o,a,l),on=f,zr=g;break;case 0:case 11:case 14:case 15:if(!gn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&Xw(l,a,T),g=g.next}while(g!==f)}is(o,a,l);break;case 1:if(!gn&&(tl(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(M){Tt(l,a,M)}is(o,a,l);break;case 21:is(o,a,l);break;case 22:l.mode&1?(gn=(f=gn)||l.memoizedState!==null,is(o,a,l),gn=f):is(o,a,l);break;default:is(o,a,l)}}function wC(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var l=o.stateNode;l===null&&(l=o.stateNode=new CG),a.forEach(function(f){var g=UG.bind(null,o,f);l.has(f)||(l.add(f),f.then(g,g))})}}function $r(o,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var v=o,T=a,M=T;e:for(;M!==null;){switch(M.tag){case 5:on=M.stateNode,zr=!1;break e;case 3:on=M.stateNode.containerInfo,zr=!0;break e;case 4:on=M.stateNode.containerInfo,zr=!0;break e}M=M.return}if(on===null)throw Error(t(160));vC(v,T,g),on=null,zr=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(W){Tt(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)EC(a,o),a=a.sibling}function EC(o,a){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if($r(a,o),pi(o),f&4){try{Rd(3,o,o.return),mp(3,o)}catch(be){Tt(o,o.return,be)}try{Rd(5,o,o.return)}catch(be){Tt(o,o.return,be)}}break;case 1:$r(a,o),pi(o),f&512&&l!==null&&tl(l,l.return);break;case 5:if($r(a,o),pi(o),f&512&&l!==null&&tl(l,l.return),o.flags&32){var g=o.stateNode;try{zo(g,"")}catch(be){Tt(o,o.return,be)}}if(f&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,T=l!==null?l.memoizedProps:v,M=o.type,V=o.updateQueue;if(o.updateQueue=null,V!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&ju(g,v),Ku(M,T);var W=Ku(M,v);for(T=0;T<V.length;T+=2){var oe=V[T],se=V[T+1];oe==="style"?Hu(g,se):oe==="dangerouslySetInnerHTML"?Bu(g,se):oe==="children"?zo(g,se):G(g,oe,se,W)}switch(M){case"input":Uu(g,v);break;case"textarea":yc(g,v);break;case"select":var ie=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ge=v.value;ge!=null?Bi(g,!!v.multiple,ge,!1):ie!==!!v.multiple&&(v.defaultValue!=null?Bi(g,!!v.multiple,v.defaultValue,!0):Bi(g,!!v.multiple,v.multiple?[]:"",!1))}g[yd]=v}catch(be){Tt(o,o.return,be)}}break;case 6:if($r(a,o),pi(o),f&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(be){Tt(o,o.return,be)}}break;case 3:if($r(a,o),pi(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Lr(a.containerInfo)}catch(be){Tt(o,o.return,be)}break;case 4:$r(a,o),pi(o);break;case 13:$r(a,o),pi(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(oE=dt())),f&4&&wC(o);break;case 22:if(oe=l!==null&&l.memoizedState!==null,o.mode&1?(gn=(W=gn)||oe,$r(a,o),gn=W):$r(a,o),pi(o),f&8192){if(W=o.memoizedState!==null,(o.stateNode.isHidden=W)&&!oe&&o.mode&1)for(ve=o,oe=o.child;oe!==null;){for(se=ve=oe;ve!==null;){switch(ie=ve,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:Rd(4,ie,ie.return);break;case 1:tl(ie,ie.return);var Ee=ie.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=ie,l=ie.return;try{a=f,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(be){Tt(f,l,be)}}break;case 5:tl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){AC(se);continue}}ge!==null?(ge.return=ie,ve=ge):AC(se)}oe=oe.sibling}e:for(oe=null,se=o;;){if(se.tag===5){if(oe===null){oe=se;try{g=se.stateNode,W?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=se.stateNode,V=se.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,M.style.display=qu("display",T))}catch(be){Tt(o,o.return,be)}}}else if(se.tag===6){if(oe===null)try{se.stateNode.nodeValue=W?"":se.memoizedProps}catch(be){Tt(o,o.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===o)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===o)break e;for(;se.sibling===null;){if(se.return===null||se.return===o)break e;oe===se&&(oe=null),se=se.return}oe===se&&(oe=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:$r(a,o),pi(o),f&4&&wC(o);break;case 21:break;default:$r(a,o),pi(o)}}function pi(o){var a=o.flags;if(a&2){try{e:{for(var l=o.return;l!==null;){if(yC(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(zo(g,""),f.flags&=-33);var v=_C(o);nE(o,v,g);break;case 3:case 4:var T=f.stateNode.containerInfo,M=_C(o);tE(o,M,T);break;default:throw Error(t(161))}}catch(V){Tt(o,o.return,V)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function OG(o,a,l){ve=o,bC(o)}function bC(o,a,l){for(var f=(o.mode&1)!==0;ve!==null;){var g=ve,v=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||fp;if(!T){var M=g.alternate,V=M!==null&&M.memoizedState!==null||gn;M=fp;var W=gn;if(fp=T,(gn=V)&&!W)for(ve=g;ve!==null;)T=ve,V=T.child,T.tag===22&&T.memoizedState!==null?SC(g):V!==null?(V.return=T,ve=V):SC(g);for(;v!==null;)ve=v,bC(v),v=v.sibling;ve=g,fp=M,gn=W}TC(o)}else g.subtreeFlags&8772&&v!==null?(v.return=g,ve=v):TC(o)}}function TC(o){for(;ve!==null;){var a=ve;if(a.flags&8772){var l=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:gn||mp(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!gn)if(l===null)f.componentDidMount();else{var g=a.elementType===a.type?l.memoizedProps:Ur(a.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&AP(a,v,f);break;case 3:var T=a.updateQueue;if(T!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}AP(a,T,l)}break;case 5:var M=a.stateNode;if(l===null&&a.flags&4){l=M;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var oe=W.memoizedState;if(oe!==null){var se=oe.dehydrated;se!==null&&Lr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gn||a.flags&512&&eE(a)}catch(ie){Tt(a,a.return,ie)}}if(a===o){ve=null;break}if(l=a.sibling,l!==null){l.return=a.return,ve=l;break}ve=a.return}}function AC(o){for(;ve!==null;){var a=ve;if(a===o){ve=null;break}var l=a.sibling;if(l!==null){l.return=a.return,ve=l;break}ve=a.return}}function SC(o){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{mp(4,a)}catch(V){Tt(a,l,V)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(V){Tt(a,g,V)}}var v=a.return;try{eE(a)}catch(V){Tt(a,v,V)}break;case 5:var T=a.return;try{eE(a)}catch(V){Tt(a,T,V)}}}catch(V){Tt(a,a.return,V)}if(a===o){ve=null;break}var M=a.sibling;if(M!==null){M.return=a.return,ve=M;break}ve=a.return}}var NG=Math.ceil,hp=re.ReactCurrentDispatcher,rE=re.ReactCurrentOwner,gr=re.ReactCurrentBatchConfig,et=0,Kt=null,Nt=null,sn=0,Xn=0,nl=Xo(0),zt=0,Pd=null,pa=0,pp=0,iE=0,Cd=null,Mn=null,oE=0,rl=1/0,io=null,gp=!1,sE=null,os=null,yp=!1,ss=null,_p=0,xd=0,aE=null,vp=-1,wp=0;function Sn(){return et&6?dt():vp!==-1?vp:vp=dt()}function as(o){return o.mode&1?et&2&&sn!==0?sn&-sn:gG.transition!==null?(wp===0&&(wp=ra()),wp):(o=We,o!==0||(o=window.event,o=o===void 0?16:od(o.type)),o):1}function Br(o,a,l,f){if(50<xd)throw xd=0,aE=null,Error(t(185));Ho(o,l,f),(!(et&2)||o!==Kt)&&(o===Kt&&(!(et&2)&&(pp|=l),zt===4&&cs(o,sn)),Ln(o,f),l===1&&et===0&&!(a.mode&1)&&(rl=dt()+500,Kh&&ts()))}function Ln(o,a){var l=o.callbackNode;Gi(o,a);var f=na(o,o===Kt?sn:0);if(f===0)l!==null&&ed(l),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(l!=null&&ed(l),a===1)o.tag===0?pG(kC.bind(null,o)):fP(kC.bind(null,o)),dG(function(){!(et&6)&&ts()}),l=null;else{switch(Wo(f)){case 1:l=ea;break;case 4:l=$o;break;case 16:l=lr;break;case 536870912:l=wh;break;default:l=lr}l=MC(l,IC.bind(null,o))}o.callbackPriority=a,o.callbackNode=l}}function IC(o,a){if(vp=-1,wp=0,et&6)throw Error(t(327));var l=o.callbackNode;if(il()&&o.callbackNode!==l)return null;var f=na(o,o===Kt?sn:0);if(f===0)return null;if(f&30||f&o.expiredLanes||a)a=Ep(o,f);else{a=f;var g=et;et|=2;var v=PC();(Kt!==o||sn!==a)&&(io=null,rl=dt()+500,ya(o,a));do try{LG();break}catch(M){RC(o,M)}while(!0);Sw(),hp.current=v,et=g,Nt!==null?a=0:(Kt=null,sn=0,a=zt)}if(a!==0){if(a===2&&(g=Kn(o),g!==0&&(f=g,a=cE(o,g))),a===1)throw l=Pd,ya(o,0),cs(o,f),Ln(o,dt()),l;if(a===6)cs(o,f);else{if(g=o.current.alternate,!(f&30)&&!DG(g)&&(a=Ep(o,f),a===2&&(v=Kn(o),v!==0&&(f=v,a=cE(o,v))),a===1))throw l=Pd,ya(o,0),cs(o,f),Ln(o,dt()),l;switch(o.finishedWork=g,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:_a(o,Mn,io);break;case 3:if(cs(o,f),(f&130023424)===f&&(a=oE+500-dt(),10<a)){if(na(o,0)!==0)break;if(g=o.suspendedLanes,(g&f)!==f){Sn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=hw(_a.bind(null,o,Mn,io),a);break}_a(o,Mn,io);break;case 4:if(cs(o,f),(f&4194240)===f)break;for(a=o.eventTimes,g=-1;0<f;){var T=31-bn(f);v=1<<T,T=a[T],T>g&&(g=T),f&=~v}if(f=g,f=dt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*NG(f/1960))-f,10<f){o.timeoutHandle=hw(_a.bind(null,o,Mn,io),f);break}_a(o,Mn,io);break;case 5:_a(o,Mn,io);break;default:throw Error(t(329))}}}return Ln(o,dt()),o.callbackNode===l?IC.bind(null,o):null}function cE(o,a){var l=Cd;return o.current.memoizedState.isDehydrated&&(ya(o,a).flags|=256),o=Ep(o,a),o!==2&&(a=Mn,Mn=l,a!==null&&lE(a)),o}function lE(o){Mn===null?Mn=o:Mn.push.apply(Mn,o)}function DG(o){for(var a=o;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!Vr(v(),g))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cs(o,a){for(a&=~iE,a&=~pp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var l=31-bn(a),f=1<<l;o[l]=-1,a&=~f}}function kC(o){if(et&6)throw Error(t(327));il();var a=na(o,0);if(!(a&1))return Ln(o,dt()),null;var l=Ep(o,a);if(o.tag!==0&&l===2){var f=Kn(o);f!==0&&(a=f,l=cE(o,f))}if(l===1)throw l=Pd,ya(o,0),cs(o,a),Ln(o,dt()),l;if(l===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,_a(o,Mn,io),Ln(o,dt()),null}function uE(o,a){var l=et;et|=1;try{return o(a)}finally{et=l,et===0&&(rl=dt()+500,Kh&&ts())}}function ga(o){ss!==null&&ss.tag===0&&!(et&6)&&il();var a=et;et|=1;var l=gr.transition,f=We;try{if(gr.transition=null,We=1,o)return o()}finally{We=f,gr.transition=l,et=a,!(et&6)&&ts()}}function dE(){Xn=nl.current,pt(nl)}function ya(o,a){o.finishedWork=null,o.finishedLanes=0;var l=o.timeoutHandle;if(l!==-1&&(o.timeoutHandle=-1,uG(l)),Nt!==null)for(l=Nt.return;l!==null;){var f=l;switch(ww(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Gh();break;case 3:Xc(),pt(On),pt(mn),Nw();break;case 5:xw(f);break;case 4:Xc();break;case 13:pt(Et);break;case 19:pt(Et);break;case 10:Iw(f.type._context);break;case 22:case 23:dE()}l=l.return}if(Kt=o,Nt=o=ls(o.current,null),sn=Xn=a,zt=0,Pd=null,iE=pp=pa=0,Mn=Cd=null,fa!==null){for(a=0;a<fa.length;a++)if(l=fa[a],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,v=l.pending;if(v!==null){var T=v.next;v.next=g,f.next=T}l.pending=f}fa=null}return o}function RC(o,a){do{var l=Nt;try{if(Sw(),ip.current=cp,op){for(var f=bt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}op=!1}if(ha=0,Wt=Ut=bt=null,Td=!1,Ad=0,rE.current=null,l===null||l.return===null){zt=1,Pd=a,Nt=null;break}e:{var v=o,T=l.return,M=l,V=a;if(a=sn,M.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,oe=M,se=oe.tag;if(!(oe.mode&1)&&(se===0||se===11||se===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=XP(T);if(ge!==null){ge.flags&=-257,eC(ge,T,M,v,a),ge.mode&1&&ZP(v,W,a),a=ge,V=W;var Ee=a.updateQueue;if(Ee===null){var be=new Set;be.add(V),a.updateQueue=be}else Ee.add(V);break e}else{if(!(a&1)){ZP(v,W,a),fE();break e}V=Error(t(426))}}else if(_t&&M.mode&1){var Rt=XP(T);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),eC(Rt,T,M,v,a),Tw(el(V,M));break e}}v=V=el(V,M),zt!==4&&(zt=2),Cd===null?Cd=[v]:Cd.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var B=JP(v,V,a);TP(v,B);break e;case 1:M=V;var U=v.type,H=v.stateNode;if(!(v.flags&128)&&(typeof U.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(os===null||!os.has(H)))){v.flags|=65536,a&=-a,v.lanes|=a;var ce=YP(v,M,a);TP(v,ce);break e}}v=v.return}while(v!==null)}xC(l)}catch(Ae){a=Ae,Nt===l&&l!==null&&(Nt=l=l.return);continue}break}while(!0)}function PC(){var o=hp.current;return hp.current=cp,o===null?cp:o}function fE(){(zt===0||zt===3||zt===2)&&(zt=4),Kt===null||!(pa&268435455)&&!(pp&268435455)||cs(Kt,sn)}function Ep(o,a){var l=et;et|=2;var f=PC();(Kt!==o||sn!==a)&&(io=null,ya(o,a));do try{MG();break}catch(g){RC(o,g)}while(!0);if(Sw(),et=l,hp.current=f,Nt!==null)throw Error(t(261));return Kt=null,sn=0,zt}function MG(){for(;Nt!==null;)CC(Nt)}function LG(){for(;Nt!==null&&!_h();)CC(Nt)}function CC(o){var a=DC(o.alternate,o,Xn);o.memoizedProps=o.pendingProps,a===null?xC(o):Nt=a,rE.current=null}function xC(o){var a=o;do{var l=a.alternate;if(o=a.return,a.flags&32768){if(l=PG(l,a),l!==null){l.flags&=32767,Nt=l;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zt=6,Nt=null;return}}else if(l=RG(l,a,Xn),l!==null){Nt=l;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=o}while(a!==null);zt===0&&(zt=5)}function _a(o,a,l){var f=We,g=gr.transition;try{gr.transition=null,We=1,FG(o,a,l,f)}finally{gr.transition=g,We=f}return null}function FG(o,a,l,f){do il();while(ss!==null);if(et&6)throw Error(t(327));l=o.finishedWork;var g=o.finishedLanes;if(l===null)return null;if(o.finishedWork=null,o.finishedLanes=0,l===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=l.lanes|l.childLanes;if(lt(o,v),o===Kt&&(Nt=Kt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||yp||(yp=!0,MC(lr,function(){return il(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=gr.transition,gr.transition=null;var T=We;We=1;var M=et;et|=4,rE.current=null,xG(o,l),EC(l,o),rG(fw),Qo=!!dw,fw=dw=null,o.current=l,OG(l),Qv(),et=M,We=T,gr.transition=v}else o.current=l;if(yp&&(yp=!1,ss=o,_p=g),v=o.pendingLanes,v===0&&(os=null),Eh(l.stateNode),Ln(o,dt()),a!==null)for(f=o.onRecoverableError,l=0;l<a.length;l++)g=a[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(gp)throw gp=!1,o=sE,sE=null,o;return _p&1&&o.tag!==0&&il(),v=o.pendingLanes,v&1?o===aE?xd++:(xd=0,aE=o):xd=0,ts(),null}function il(){if(ss!==null){var o=Wo(_p),a=gr.transition,l=We;try{if(gr.transition=null,We=16>o?16:o,ss===null)var f=!1;else{if(o=ss,ss=null,_p=0,et&6)throw Error(t(331));var g=et;for(et|=4,ve=o.current;ve!==null;){var v=ve,T=v.child;if(ve.flags&16){var M=v.deletions;if(M!==null){for(var V=0;V<M.length;V++){var W=M[V];for(ve=W;ve!==null;){var oe=ve;switch(oe.tag){case 0:case 11:case 15:Rd(8,oe,v)}var se=oe.child;if(se!==null)se.return=oe,ve=se;else for(;ve!==null;){oe=ve;var ie=oe.sibling,ge=oe.return;if(gC(oe),oe===W){ve=null;break}if(ie!==null){ie.return=ge,ve=ie;break}ve=ge}}}var Ee=v.alternate;if(Ee!==null){var be=Ee.child;if(be!==null){Ee.child=null;do{var Rt=be.sibling;be.sibling=null,be=Rt}while(be!==null)}}ve=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,ve=T;else e:for(;ve!==null;){if(v=ve,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Rd(9,v,v.return)}var B=v.sibling;if(B!==null){B.return=v.return,ve=B;break e}ve=v.return}}var U=o.current;for(ve=U;ve!==null;){T=ve;var H=T.child;if(T.subtreeFlags&2064&&H!==null)H.return=T,ve=H;else e:for(T=U;ve!==null;){if(M=ve,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:mp(9,M)}}catch(Ae){Tt(M,M.return,Ae)}if(M===T){ve=null;break e}var ce=M.sibling;if(ce!==null){ce.return=M.return,ve=ce;break e}ve=M.return}}if(et=g,ts(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(ta,o)}catch{}f=!0}return f}finally{We=l,gr.transition=a}}return!1}function OC(o,a,l){a=el(l,a),a=JP(o,a,1),o=rs(o,a,1),a=Sn(),o!==null&&(Ho(o,1,a),Ln(o,a))}function Tt(o,a,l){if(o.tag===3)OC(o,o,l);else for(;a!==null;){if(a.tag===3){OC(a,o,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))){o=el(l,o),o=YP(a,o,1),a=rs(a,o,1),o=Sn(),a!==null&&(Ho(a,1,o),Ln(a,o));break}}a=a.return}}function VG(o,a,l){var f=o.pingCache;f!==null&&f.delete(a),a=Sn(),o.pingedLanes|=o.suspendedLanes&l,Kt===o&&(sn&l)===l&&(zt===4||zt===3&&(sn&130023424)===sn&&500>dt()-oE?ya(o,0):iE|=l),Ln(o,a)}function NC(o,a){a===0&&(o.mode&1?(a=kc,kc<<=1,!(kc&130023424)&&(kc=4194304)):a=1);var l=Sn();o=to(o,a),o!==null&&(Ho(o,a,l),Ln(o,l))}function jG(o){var a=o.memoizedState,l=0;a!==null&&(l=a.retryLane),NC(o,l)}function UG(o,a){var l=0;switch(o.tag){case 13:var f=o.stateNode,g=o.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),NC(o,l)}var DC;DC=function(o,a,l){if(o!==null)if(o.memoizedProps!==a.pendingProps||On.current)Dn=!0;else{if(!(o.lanes&l)&&!(a.flags&128))return Dn=!1,kG(o,a,l);Dn=!!(o.flags&131072)}else Dn=!1,_t&&a.flags&1048576&&mP(a,Jh,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;dp(o,a),o=a.pendingProps;var g=Gc(a,mn.current);Zc(a,l),g=Lw(null,a,f,o,g,l);var v=Fw();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Nn(f)?(v=!0,Wh(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Pw(a),g.updater=lp,a.stateNode=g,g._reactInternals=a,Bw(a,f,o,l),a=Ww(null,a,f,!0,v,l)):(a.tag=0,_t&&v&&vw(a),An(null,a,g,l),a=a.child),a;case 16:f=a.elementType;e:{switch(dp(o,a),o=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=$G(f),o=Ur(f,o),g){case 0:a=Gw(null,a,f,o,l);break e;case 1:a=sC(null,a,f,o,l);break e;case 11:a=tC(null,a,f,o,l);break e;case 14:a=nC(null,a,f,Ur(f.type,o),l);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ur(f,g),Gw(o,a,f,g,l);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ur(f,g),sC(o,a,f,g,l);case 3:e:{if(aC(a),o===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,g=v.element,bP(o,a),np(a,f,null,l);var T=a.memoizedState;if(f=T.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=el(Error(t(423)),a),a=cC(o,a,f,l,g);break e}else if(f!==g){g=el(Error(t(424)),a),a=cC(o,a,f,l,g);break e}else for(Zn=Zo(a.stateNode.containerInfo.firstChild),Yn=a,_t=!0,jr=null,l=wP(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qc(),f===g){a=ro(o,a,l);break e}An(o,a,f,l)}a=a.child}return a;case 5:return SP(a),o===null&&bw(a),f=a.type,g=a.pendingProps,v=o!==null?o.memoizedProps:null,T=g.children,mw(f,g)?T=null:v!==null&&mw(f,v)&&(a.flags|=32),oC(o,a),An(o,a,T,l),a.child;case 6:return o===null&&bw(a),null;case 13:return lC(o,a,l);case 4:return Cw(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=Jc(a,null,f,l):An(o,a,f,l),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ur(f,g),tC(o,a,f,g,l);case 7:return An(o,a,a.pendingProps,l),a.child;case 8:return An(o,a,a.pendingProps.children,l),a.child;case 12:return An(o,a,a.pendingProps.children,l),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,v=a.memoizedProps,T=g.value,ft(Xh,f._currentValue),f._currentValue=T,v!==null)if(Vr(v.value,T)){if(v.children===g.children&&!On.current){a=ro(o,a,l);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var M=v.dependencies;if(M!==null){T=v.child;for(var V=M.firstContext;V!==null;){if(V.context===f){if(v.tag===1){V=no(-1,l&-l),V.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var oe=W.pending;oe===null?V.next=V:(V.next=oe.next,oe.next=V),W.pending=V}}v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),kw(v.return,l,a),M.lanes|=l;break}V=V.next}}else if(v.tag===10)T=v.type===a.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,M=T.alternate,M!==null&&(M.lanes|=l),kw(T,l,a),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===a){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}An(o,a,g.children,l),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Zc(a,l),g=hr(g),f=f(g),a.flags|=1,An(o,a,f,l),a.child;case 14:return f=a.type,g=Ur(f,a.pendingProps),g=Ur(f.type,g),nC(o,a,f,g,l);case 15:return rC(o,a,a.type,a.pendingProps,l);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ur(f,g),dp(o,a),a.tag=1,Nn(f)?(o=!0,Wh(a)):o=!1,Zc(a,l),KP(a,f,g),Bw(a,f,g,l),Ww(null,a,f,!0,o,l);case 19:return dC(o,a,l);case 22:return iC(o,a,l)}throw Error(t(156,a.tag))};function MC(o,a){return Sc(o,a)}function zG(o,a,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(o,a,l,f){return new zG(o,a,l,f)}function mE(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $G(o){if(typeof o=="function")return mE(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===ue)return 14}return 2}function ls(o,a){var l=o.alternate;return l===null?(l=yr(o.tag,a,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=a,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&14680064,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,a=o.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l}function bp(o,a,l,f,g,v){var T=2;if(f=o,typeof o=="function")mE(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case x:return va(l.children,g,v,a);case I:T=8,g|=8;break;case A:return o=yr(12,l,a,g|2),o.elementType=A,o.lanes=v,o;case S:return o=yr(13,l,a,g),o.elementType=S,o.lanes=v,o;case fe:return o=yr(19,l,a,g),o.elementType=fe,o.lanes=v,o;case J:return Tp(l,g,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:T=10;break e;case O:T=9;break e;case L:T=11;break e;case ue:T=14;break e;case je:T=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=yr(T,l,a,g),a.elementType=o,a.type=f,a.lanes=v,a}function va(o,a,l,f){return o=yr(7,o,f,a),o.lanes=l,o}function Tp(o,a,l,f){return o=yr(22,o,f,a),o.elementType=J,o.lanes=l,o.stateNode={isHidden:!1},o}function hE(o,a,l){return o=yr(6,o,null,a),o.lanes=l,o}function pE(o,a,l){return a=yr(4,o.children!==null?o.children:[],o.key,a),a.lanes=l,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function BG(o,a,l,f,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function gE(o,a,l,f,g,v,T,M,V){return o=new BG(o,a,l,M,V),a===1?(a=1,v===!0&&(a|=8)):a=0,v=yr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pw(v),o}function qG(o,a,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:o,containerInfo:a,implementation:l}}function LC(o){if(!o)return es;o=o._reactInternals;e:{if(xr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Nn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var l=o.type;if(Nn(l))return uP(o,l,a)}return a}function FC(o,a,l,f,g,v,T,M,V){return o=gE(l,f,!0,o,g,v,T,M,V),o.context=LC(null),l=o.current,f=Sn(),g=as(l),v=no(f,g),v.callback=a??null,rs(l,v,g),o.current.lanes=g,Ho(o,g,f),Ln(o,f),o}function Ap(o,a,l,f){var g=a.current,v=Sn(),T=as(g);return l=LC(l),a.context===null?a.context=l:a.pendingContext=l,a=no(v,T),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=rs(g,a,T),o!==null&&(Br(o,g,T,v),tp(o,g,T)),T}function Sp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function VC(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<a?l:a}}function yE(o,a){VC(o,a),(o=o.alternate)&&VC(o,a)}function HG(){return null}var jC=typeof reportError=="function"?reportError:function(o){console.error(o)};function _E(o){this._internalRoot=o}Ip.prototype.render=_E.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Ap(o,a,null,null)},Ip.prototype.unmount=_E.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ga(function(){Ap(null,o,null,null)}),a[Yi]=null}};function Ip(o){this._internalRoot=o}Ip.prototype.unstable_scheduleHydration=function(o){if(o){var a=Ih();o={blockedOn:null,target:o,priority:a};for(var l=0;l<ci.length&&a!==0&&a<ci[l].priority;l++);ci.splice(l,0,o),l===0&&Ph(o)}};function vE(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function UC(){}function GG(o,a,l,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var W=Sp(T);v.call(W)}}var T=FC(a,f,o,0,null,!1,!1,"",UC);return o._reactRootContainer=T,o[Yi]=T.current,pd(o.nodeType===8?o.parentNode:o),ga(),T}for(;g=o.lastChild;)o.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var W=Sp(V);M.call(W)}}var V=gE(o,0,!1,null,null,!1,!1,"",UC);return o._reactRootContainer=V,o[Yi]=V.current,pd(o.nodeType===8?o.parentNode:o),ga(function(){Ap(a,V,l,f)}),V}function Rp(o,a,l,f,g){var v=l._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var M=g;g=function(){var V=Sp(T);M.call(V)}}Ap(a,T,o,g)}else T=GG(l,a,o,g,f);return Sp(T)}Ah=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var l=Bo(a.pendingLanes);l!==0&&(Go(a,l|1),Ln(a,dt()),!(et&6)&&(rl=dt()+500,ts()))}break;case 13:ga(function(){var f=to(o,1);if(f!==null){var g=Sn();Br(f,o,1,g)}}),yE(o,1)}},Rc=function(o){if(o.tag===13){var a=to(o,134217728);if(a!==null){var l=Sn();Br(a,o,134217728,l)}yE(o,134217728)}},Sh=function(o){if(o.tag===13){var a=as(o),l=to(o,a);if(l!==null){var f=Sn();Br(l,o,a,f)}yE(o,a)}},Ih=function(){return We},kh=function(o,a){var l=We;try{return We=o,a()}finally{We=l}},vc=function(o,a,l){switch(a){case"input":if(Uu(o,l),a=l.name,l.type==="radio"&&a!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==o&&f.form===o.form){var g=Hh(f);if(!g)throw Error(t(90));mc(f),Uu(f,g)}}}break;case"textarea":yc(o,l);break;case"select":a=l.value,a!=null&&Bi(o,!!l.multiple,a,!1)}},Js=uE,Ju=ga;var WG={usingClientEntryPoint:!1,Events:[_d,qc,Hh,si,Qu,uE]},Od={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KG={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xu(o),o===null?null:o.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||HG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{ta=Pp.inject(KG),Wn=Pp}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WG,kn.createPortal=function(o,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vE(a))throw Error(t(200));return qG(o,a,null,l)},kn.createRoot=function(o,a){if(!vE(o))throw Error(t(299));var l=!1,f="",g=jC;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=gE(o,1,!1,null,null,l,!1,f,g),o[Yi]=a.current,pd(o.nodeType===8?o.parentNode:o),new _E(a)},kn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Xu(a),o=o===null?null:o.stateNode,o},kn.flushSync=function(o){return ga(o)},kn.hydrate=function(o,a,l){if(!kp(a))throw Error(t(200));return Rp(null,o,a,!0,l)},kn.hydrateRoot=function(o,a,l){if(!vE(o))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,g=!1,v="",T=jC;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),a=FC(a,null,o,1,l??null,g,!1,v,T),o[Yi]=a.current,pd(o),f)for(o=0;o<f.length;o++)l=f[o],g=l._getVersion,g=g(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,g]:a.mutableSourceEagerHydrationData.push(l,g);return new Ip(a)},kn.render=function(o,a,l){if(!kp(a))throw Error(t(200));return Rp(null,o,a,!1,l)},kn.unmountComponentAtNode=function(o){if(!kp(o))throw Error(t(40));return o._reactRootContainer?(ga(function(){Rp(null,null,o,!1,function(){o._reactRootContainer=null,o[Yi]=null})}),!0):!1},kn.unstable_batchedUpdates=uE,kn.unstable_renderSubtreeIntoContainer=function(o,a,l,f){if(!kp(l))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Rp(o,a,l,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var AA;function FL(){if(AA)return Qg.exports;AA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qg.exports=LL(),Qg.exports}FL();var Zg="persist:",SA="persist/FLUSH",Xg="persist/REHYDRATE",IA="persist/PAUSE",kA="persist/PERSIST",RA="persist/PURGE",PA="persist/REGISTER",CA=-1;function _f(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_f=function(t){return typeof t}:_f=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(n)}function xA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xA(t,!0).forEach(function(r){jL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xA(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UL(n,e,t,r){r.debug;var i=VL({},t);return n&&_f(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&e[s]===t[s]&&(i[s]=n[s])}),i}function zL(n){var e=n.blacklist||null,t=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:Zg).concat(n.key),c=n.storage,u;n.serialize===!1?u=function(Q){return Q}:typeof n.serialize=="function"?u=n.serialize:u=$L;var m=n.writeFailHandler||null,p={},y={},w=[],b=null,k=null,C=function(Q){Object.keys(Q).forEach(function(K){F(K)&&p[K]!==Q[K]&&w.indexOf(K)===-1&&w.push(K)}),Object.keys(p).forEach(function(K){Q[K]===void 0&&F(K)&&w.indexOf(K)===-1&&p[K]!==void 0&&w.push(K)}),b===null&&(b=setInterval(D,i)),p=Q};function D(){if(w.length===0){b&&clearInterval(b),b=null;return}var re=w.shift(),Q=r.reduce(function(K,x){return x.in(K,re,p)},p[re]);if(Q!==void 0)try{y[re]=u(Q)}catch(K){console.error("redux-persist/createPersistoid: error serializing state",K)}else delete y[re];w.length===0&&N()}function N(){Object.keys(y).forEach(function(re){p[re]===void 0&&delete y[re]}),k=c.setItem(s,u(y)).catch(q)}function F(re){return!(t&&t.indexOf(re)===-1&&re!=="_persist"||e&&e.indexOf(re)!==-1)}function q(re){m&&m(re)}var G=function(){for(;w.length!==0;)D();return k||Promise.resolve()};return{update:C,flush:G}}function $L(n){return JSON.stringify(n)}function BL(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Zg).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(c){return c}:typeof n.deserialize=="function"?i=n.deserialize:i=qL,r.getItem(t).then(function(s){if(s)try{var c={},u=i(s);return Object.keys(u).forEach(function(m){c[m]=e.reduceRight(function(p,y){return y.out(p,m,u)},i(u[m]))}),c}catch(m){throw m}else return})}function qL(n){return JSON.parse(n)}function HL(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Zg).concat(n.key);return e.removeItem(t,GL)}function GL(n){}function OA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OA(t,!0).forEach(function(r){WL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OA(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KL(n,e){if(n==null)return{};var t=QL(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var JL=5e3;function YL(n,e){var t=n.version!==void 0?n.version:CA;n.debug;var r=n.stateReconciler===void 0?UL:n.stateReconciler,i=n.getStoredState||BL,s=n.timeout!==void 0?n.timeout:JL,c=null,u=!1,m=!0,p=function(w){return w._persist.rehydrated&&c&&!m&&c.update(w),w};return function(y,w){var b=y||{},k=b._persist,C=KL(b,["_persist"]),D=C;if(w.type===kA){var N=!1,F=function(I,A){N||(w.rehydrate(n.key,I,A),N=!0)};if(s&&setTimeout(function(){!N&&F(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),m=!1,c||(c=zL(n)),k)return wi({},e(D,w),{_persist:k});if(typeof w.rehydrate!="function"||typeof w.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return w.register(n.key),i(n).then(function(x){var I=n.migrate||function(A,P){return Promise.resolve(A)};I(x,t).then(function(A){F(A)},function(A){F(void 0,A)})},function(x){F(void 0,x)}),wi({},e(D,w),{_persist:{version:t,rehydrated:!1}})}else{if(w.type===RA)return u=!0,w.result(HL(n)),wi({},e(D,w),{_persist:k});if(w.type===SA)return w.result(c&&c.flush()),wi({},e(D,w),{_persist:k});if(w.type===IA)m=!0;else if(w.type===Xg){if(u)return wi({},D,{_persist:wi({},k,{rehydrated:!0})});if(w.key===n.key){var q=e(D,w),G=w.payload,re=r!==!1&&G!==void 0?r(G,y,q,n):q,Q=wi({},re,{_persist:wi({},k,{rehydrated:!0})});return p(Q)}}}if(!k)return e(y,w);var K=e(D,w);return K===D?y:p(wi({},K,{_persist:k}))}}function $l(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$l=function(t){return typeof t}:$l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(n)}function NA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NA(t,!0).forEach(function(r){ZL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NA(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XL(n,e,t,r){r.debug;var i=DA({},t);return n&&$l(n)==="object"&&Object.keys(n).forEach(function(s){if(s!=="_persist"&&e[s]===t[s]){if(eF(t[s])){i[s]=DA({},i[s],{},n[s]);return}i[s]=n[s]}}),i}function eF(n){return n!==null&&!Array.isArray(n)&&$l(n)==="object"}function MA(n){return rF(n)||nF(n)||tF()}function tF(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nF(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function rF(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function LA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ey(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LA(t,!0).forEach(function(r){iF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LA(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iF(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var FA={registry:[],bootstrapped:!1},oF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FA,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case PA:return ey({},e,{registry:[].concat(MA(e.registry),[t.key])});case Xg:var r=e.registry.indexOf(t.key),i=MA(e.registry);return i.splice(r,1),ey({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function sF(n,e,t){var r=cg(oF,FA,void 0),i=function(m){r.dispatch({type:PA,key:m})},s=function(m,p,y){var w={type:Xg,payload:p,err:y,key:m};n.dispatch(w),r.dispatch(w)},c=ey({},r,{purge:function(){var m=[];return n.dispatch({type:RA,result:function(y){m.push(y)}}),Promise.all(m)},flush:function(){var m=[];return n.dispatch({type:SA,result:function(y){m.push(y)}}),Promise.all(m)},pause:function(){n.dispatch({type:IA})},persist:function(){n.dispatch({type:kA,register:i,rehydrate:s})}});return c.persist(),c}function aF(n,e){return function(t,r){if(!t)return Promise.resolve(void 0);var i=t._persist&&t._persist.version!==void 0?t._persist.version:CA;if(i===r||i>r)return Promise.resolve(t);var s=Object.keys(n).map(function(u){return parseInt(u)}).filter(function(u){return r>=u&&u>i}).sort(function(u,m){return u-m});try{var c=s.reduce(function(u,m){return n[m](u)},t);return Promise.resolve(c)}catch(u){return Promise.reject(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},cF=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],c=n[t++],u=n[t++],m=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const s=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},jA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],c=i+1<n.length,u=c?n[i+1]:0,m=i+2<n.length,p=m?n[i+2]:0,y=s>>2,w=(s&3)<<4|u>>4;let b=(u&15)<<2|p>>6,k=p&63;m||(k=64,c||(b=64)),r.push(t[y],t[w],t[b],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||p==null||w==null)throw new lF;const b=s<<2|u>>4;if(r.push(b),p!==64){const k=u<<4&240|p>>2;if(r.push(k),w!==64){const C=p<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uF=function(n){const e=VA(n);return jA.encodeByteArray(e,!0)},UA=function(n){return uF(n).replace(/\./g,"")},zA=function(n){try{return jA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=()=>dF().__FIREBASE_DEFAULTS__,mF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zA(n[1]);return e&&JSON.parse(e)},vf=()=>{try{return fF()||mF()||hF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pF=n=>{var e,t;return(t=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$A=()=>{var n;return(n=vf())===null||n===void 0?void 0:n.config},BA=n=>{var e;return(e=vf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function _F(){var n;const e=(n=vf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wF(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bF(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TF(){return!_F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AF(){try{return typeof indexedDB=="object"}catch{return!1}}function SF(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="FirebaseError";class Ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IF,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?kF(s,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new Ei(i,u,r)}}function kF(n,e){return n.replace(RF,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RF=/\{\$([^}]+)}/g;function PF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ql(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],c=e[i];if(qA(s)&&qA(c)){if(!ql(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function qA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function CF(n,e){const t=new xF(n,e);return t.subscribe.bind(t)}class xF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");OF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ty),i.error===void 0&&(i.error=ty),i.complete===void 0&&(i.complete=ty);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class As{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gF;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MF(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const c=this.instances.get(i);return c&&e(c,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DF(n){return n===Ss?void 0:n}function MF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const FF={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},VF=qe.INFO,jF={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},UF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=jF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=VF,this._logHandler=UF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const zF=(n,e)=>e.some(t=>n instanceof t);let HA,GA;function $F(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BF(){return GA||(GA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WA=new WeakMap,ry=new WeakMap,KA=new WeakMap,iy=new WeakMap,oy=new WeakMap;function qF(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",c)},s=()=>{t(yo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&WA.set(t,n)}).catch(()=>{}),oy.set(e,n),e}function HF(n){if(ry.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",c),n.removeEventListener("abort",c)},s=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",c),n.addEventListener("abort",c)});ry.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GF(n){sy=n(sy)}function WF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ay(this),e,...t);return KA.set(r,e.sort?e.sort():[e]),yo(r)}:BF().includes(n)?function(...e){return n.apply(ay(this),e),yo(WA.get(this))}:function(...e){return yo(n.apply(ay(this),e))}}function KF(n){return typeof n=="function"?WF(n):(n instanceof IDBTransaction&&HF(n),zF(n,$F())?new Proxy(n,sy):n)}function yo(n){if(n instanceof IDBRequest)return qF(n);if(iy.has(n))return iy.get(n);const e=KF(n);return e!==n&&(iy.set(n,e),oy.set(e,n)),e}const ay=n=>oy.get(n);function QF(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(n,e),u=yo(c);return r&&c.addEventListener("upgradeneeded",m=>{r(yo(c.result),m.oldVersion,m.newVersion,yo(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),u.then(m=>{s&&m.addEventListener("close",()=>s()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const JF=["get","getKey","getAll","getAllKeys","count"],YF=["put","add","delete","clear"],cy=new Map;function QA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=YF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JF.includes(t)))return;const s=async function(c,...u){const m=this.transaction(c,i?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&m.done]))[0]};return cy.set(e,s),s}GF(n=>({...n,get:(e,t,r)=>QA(e,t)||n.get(e,t,r),has:(e,t)=>!!QA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XF(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function XF(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ly="@firebase/app",JA="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new ny("@firebase/app"),eV="@firebase/app-compat",tV="@firebase/analytics-compat",nV="@firebase/analytics",rV="@firebase/app-check-compat",iV="@firebase/app-check",oV="@firebase/auth",sV="@firebase/auth-compat",aV="@firebase/database",cV="@firebase/data-connect",lV="@firebase/database-compat",uV="@firebase/functions",dV="@firebase/functions-compat",fV="@firebase/installations",mV="@firebase/installations-compat",hV="@firebase/messaging",pV="@firebase/messaging-compat",gV="@firebase/performance",yV="@firebase/performance-compat",_V="@firebase/remote-config",vV="@firebase/remote-config-compat",wV="@firebase/storage",EV="@firebase/storage-compat",bV="@firebase/firestore",TV="@firebase/vertexai",AV="@firebase/firestore-compat",SV="firebase",IV="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",kV={[ly]:"fire-core",[eV]:"fire-core-compat",[nV]:"fire-analytics",[tV]:"fire-analytics-compat",[iV]:"fire-app-check",[rV]:"fire-app-check-compat",[oV]:"fire-auth",[sV]:"fire-auth-compat",[aV]:"fire-rtdb",[cV]:"fire-data-connect",[lV]:"fire-rtdb-compat",[uV]:"fire-fn",[dV]:"fire-fn-compat",[fV]:"fire-iid",[mV]:"fire-iid-compat",[hV]:"fire-fcm",[pV]:"fire-fcm-compat",[gV]:"fire-perf",[yV]:"fire-perf-compat",[_V]:"fire-rc",[vV]:"fire-rc-compat",[wV]:"fire-gcs",[EV]:"fire-gcs-compat",[bV]:"fire-fst",[AV]:"fire-fst-compat",[TV]:"fire-vertex","fire-js":"fire-js",[SV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,RV=new Map,dy=new Map;function YA(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(dy.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,n);for(const t of wf.values())YA(t,n);for(const t of RV.values())YA(t,n);return!0}function fy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ti(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Bl("app","Firebase",PV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=IV;function ZA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(t||(t=$A()),!t)throw _o.create("no-options");const s=wf.get(i);if(s){if(ql(t,s.options)&&ql(r,s.config))return s;throw _o.create("duplicate-app",{appName:i})}const c=new LF(i);for(const m of dy.values())c.addComponent(m);const u=new CV(t,r,c);return wf.set(i,u),u}function xV(n=uy){const e=wf.get(n);if(!e&&n===uy&&$A())return ZA();if(!e)throw _o.create("no-app",{appName:n});return e}function vo(n,e,t){var r;let i=(r=kV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(u.join(" "));return}Da(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="firebase-heartbeat-database",NV=1,Gl="firebase-heartbeat-store";let my=null;function XA(){return my||(my=QF(OV,NV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw _o.create("idb-open",{originalErrorMessage:n.message})})),my}async function DV(n){try{const t=(await XA()).transaction(Gl),r=await t.objectStore(Gl).get(tS(n));return await t.done,r}catch(e){if(e instanceof Ei)bi.warn(e.message);else{const t=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(t.message)}}}async function eS(n,e){try{const r=(await XA()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,tS(n)),await r.done}catch(t){if(t instanceof Ei)bi.warn(t.message);else{const r=_o.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bi.warn(r.message)}}}function tS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1024,LV=30*24*60*60*1e3;class FV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=LV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nS(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),s=UA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return bi.warn(t),""}}}function nS(){return new Date().toISOString().substring(0,10)}function VV(n,e=MV){const t=[];let r=n.slice();for(const i of n){const s=t.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),rS(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),rS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AF()?SF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rS(n){return UA(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(n){Da(new As("platform-logger",e=>new ZF(e),"PRIVATE")),Da(new As("heartbeat",e=>new FV(e),"PRIVATE")),vo(ly,JA,n),vo(ly,JA,"esm2017"),vo("fire-js","")}UV("");var zV="firebase",$V="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo(zV,$V,"app");var iS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,oS;(function(){var n;/** @license

   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function e(x,I){function A(){}A.prototype=I.prototype,x.D=I.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(P,O,L){for(var S=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];return I.prototype[O].apply(P,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)P[O]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(O=0;16>O;++O)P[O]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=x.g[0],A=x.g[1],O=x.g[2];var L=x.g[3],S=I+(L^A&(O^L))+P[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=L+(O^I&(A^O))+P[1]+3905402710&4294967295,L=I+(S<<12&4294967295|S>>>20),S=O+(A^L&(I^A))+P[2]+606105819&4294967295,O=L+(S<<17&4294967295|S>>>15),S=A+(I^O&(L^I))+P[3]+3250441966&4294967295,A=O+(S<<22&4294967295|S>>>10),S=I+(L^A&(O^L))+P[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(O^I&(A^O))+P[5]+1200080426&4294967295,L=I+(S<<12&4294967295|S>>>20),S=O+(A^L&(I^A))+P[6]+2821735955&4294967295,O=L+(S<<17&4294967295|S>>>15),S=A+(I^O&(L^I))+P[7]+4249261313&4294967295,A=O+(S<<22&4294967295|S>>>10),S=I+(L^A&(O^L))+P[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(O^I&(A^O))+P[9]+2336552879&4294967295,L=I+(S<<12&4294967295|S>>>20),S=O+(A^L&(I^A))+P[10]+4294925233&4294967295,O=L+(S<<17&4294967295|S>>>15),S=A+(I^O&(L^I))+P[11]+2304563134&4294967295,A=O+(S<<22&4294967295|S>>>10),S=I+(L^A&(O^L))+P[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(O^I&(A^O))+P[13]+4254626195&4294967295,L=I+(S<<12&4294967295|S>>>20),S=O+(A^L&(I^A))+P[14]+2792965006&4294967295,O=L+(S<<17&4294967295|S>>>15),S=A+(I^O&(L^I))+P[15]+1236535329&4294967295,A=O+(S<<22&4294967295|S>>>10),S=I+(O^L&(A^O))+P[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^O&(I^A))+P[6]+3225465664&4294967295,L=I+(S<<9&4294967295|S>>>23),S=O+(I^A&(L^I))+P[11]+643717713&4294967295,O=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(O^L))+P[0]+3921069994&4294967295,A=O+(S<<20&4294967295|S>>>12),S=I+(O^L&(A^O))+P[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^O&(I^A))+P[10]+38016083&4294967295,L=I+(S<<9&4294967295|S>>>23),S=O+(I^A&(L^I))+P[15]+3634488961&4294967295,O=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(O^L))+P[4]+3889429448&4294967295,A=O+(S<<20&4294967295|S>>>12),S=I+(O^L&(A^O))+P[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^O&(I^A))+P[14]+3275163606&4294967295,L=I+(S<<9&4294967295|S>>>23),S=O+(I^A&(L^I))+P[3]+4107603335&4294967295,O=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(O^L))+P[8]+1163531501&4294967295,A=O+(S<<20&4294967295|S>>>12),S=I+(O^L&(A^O))+P[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^O&(I^A))+P[2]+4243563512&4294967295,L=I+(S<<9&4294967295|S>>>23),S=O+(I^A&(L^I))+P[7]+1735328473&4294967295,O=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(O^L))+P[12]+2368359562&4294967295,A=O+(S<<20&4294967295|S>>>12),S=I+(A^O^L)+P[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^O)+P[8]+2272392833&4294967295,L=I+(S<<11&4294967295|S>>>21),S=O+(L^I^A)+P[11]+1839030562&4294967295,O=L+(S<<16&4294967295|S>>>16),S=A+(O^L^I)+P[14]+4259657740&4294967295,A=O+(S<<23&4294967295|S>>>9),S=I+(A^O^L)+P[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^O)+P[4]+1272893353&4294967295,L=I+(S<<11&4294967295|S>>>21),S=O+(L^I^A)+P[7]+4139469664&4294967295,O=L+(S<<16&4294967295|S>>>16),S=A+(O^L^I)+P[10]+3200236656&4294967295,A=O+(S<<23&4294967295|S>>>9),S=I+(A^O^L)+P[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^O)+P[0]+3936430074&4294967295,L=I+(S<<11&4294967295|S>>>21),S=O+(L^I^A)+P[3]+3572445317&4294967295,O=L+(S<<16&4294967295|S>>>16),S=A+(O^L^I)+P[6]+76029189&4294967295,A=O+(S<<23&4294967295|S>>>9),S=I+(A^O^L)+P[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^O)+P[12]+3873151461&4294967295,L=I+(S<<11&4294967295|S>>>21),S=O+(L^I^A)+P[15]+530742520&4294967295,O=L+(S<<16&4294967295|S>>>16),S=A+(O^L^I)+P[2]+3299628645&4294967295,A=O+(S<<23&4294967295|S>>>9),S=I+(O^(A|~L))+P[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~O))+P[7]+1126891415&4294967295,L=I+(S<<10&4294967295|S>>>22),S=O+(I^(L|~A))+P[14]+2878612391&4294967295,O=L+(S<<15&4294967295|S>>>17),S=A+(L^(O|~I))+P[5]+4237533241&4294967295,A=O+(S<<21&4294967295|S>>>11),S=I+(O^(A|~L))+P[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~O))+P[3]+2399980690&4294967295,L=I+(S<<10&4294967295|S>>>22),S=O+(I^(L|~A))+P[10]+4293915773&4294967295,O=L+(S<<15&4294967295|S>>>17),S=A+(L^(O|~I))+P[1]+2240044497&4294967295,A=O+(S<<21&4294967295|S>>>11),S=I+(O^(A|~L))+P[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~O))+P[15]+4264355552&4294967295,L=I+(S<<10&4294967295|S>>>22),S=O+(I^(L|~A))+P[6]+2734768916&4294967295,O=L+(S<<15&4294967295|S>>>17),S=A+(L^(O|~I))+P[13]+1309151649&4294967295,A=O+(S<<21&4294967295|S>>>11),S=I+(O^(A|~L))+P[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~O))+P[11]+3174756917&4294967295,L=I+(S<<10&4294967295|S>>>22),S=O+(I^(L|~A))+P[2]+718787259&4294967295,O=L+(S<<15&4294967295|S>>>17),S=A+(L^(O|~I))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var A=I-this.blockSize,P=this.B,O=this.h,L=0;L<I;){if(O==0)for(;L<=A;)i(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<I;)if(P[O++]=x.charCodeAt(L++),O==this.blockSize){i(this,P),O=0;break}}else for(;L<I;)if(P[O++]=x[L++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var A=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.u(x),x=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)x[A++]=this.g[I]>>>P&255;return x};function s(x,I){var A=u;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=I(x)}function c(x,I){this.h=I;for(var A=[],P=!0,O=x.length-1;0<=O;O--){var L=x[O]|0;P&&L==I||(A[O]=L,P=!1)}this.g=A}var u={};function m(x){return-128<=x&&128>x?s(x,function(I){return new c([I|0],0>I?-1:0)}):new c([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return N(p(-x));for(var I=[],A=1,P=0;x>=A;P++)I[P]=x/A|0,A*=4294967296;return new c(I,0)}function y(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return N(y(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),P=w,O=0;O<x.length;O+=8){var L=Math.min(8,x.length-O),S=parseInt(x.substring(O,O+L),I);8>L?(L=p(Math.pow(I,L)),P=P.j(L).add(p(S))):(P=P.j(A),P=P.add(p(S)))}return P}var w=m(0),b=m(1),k=m(16777216);n=c.prototype,n.m=function(){if(D(this))return-N(this).m();for(var x=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);x+=(0<=P?P:4294967296+P)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(D(this))return"-"+N(this).toString(x);for(var I=p(Math.pow(x,6)),A=this,P="";;){var O=re(A,I).g;A=F(A,O.j(I));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=O,C(A))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function D(x){return x.h==-1}n.l=function(x){return x=F(this,x),D(x)?-1:C(x)?0:1};function N(x){for(var I=x.g.length,A=[],P=0;P<I;P++)A[P]=~x.g[P];return new c(A,~x.h).add(b)}n.abs=function(){return D(this)?N(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0,O=0;O<=I;O++){var L=P+(this.i(O)&65535)+(x.i(O)&65535),S=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);P=S>>>16,L&=65535,S&=65535,A[O]=S<<16|L}return new c(A,A[A.length-1]&-2147483648?-1:0)};function F(x,I){return x.add(N(I))}n.j=function(x){if(C(this)||C(x))return w;if(D(this))return D(x)?N(this).j(N(x)):N(N(this).j(x));if(D(x))return N(this.j(N(x)));if(0>this.l(k)&&0>x.l(k))return p(this.m()*x.m());for(var I=this.g.length+x.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<x.g.length;O++){var L=this.i(P)>>>16,S=this.i(P)&65535,fe=x.i(O)>>>16,ue=x.i(O)&65535;A[2*P+2*O]+=S*ue,q(A,2*P+2*O),A[2*P+2*O+1]+=L*ue,q(A,2*P+2*O+1),A[2*P+2*O+1]+=S*fe,q(A,2*P+2*O+1),A[2*P+2*O+2]+=L*fe,q(A,2*P+2*O+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new c(A,0)};function q(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function G(x,I){this.g=x,this.h=I}function re(x,I){if(C(I))throw Error("division by zero");if(C(x))return new G(w,w);if(D(x))return I=re(N(x),I),new G(N(I.g),N(I.h));if(D(I))return I=re(x,N(I)),new G(N(I.g),I.h);if(30<x.g.length){if(D(x)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var A=b,P=I;0>=P.l(x);)A=Q(A),P=Q(P);var O=K(A,1),L=K(P,1);for(P=K(P,2),A=K(A,2);!C(P);){var S=L.add(P);0>=S.l(x)&&(O=O.add(A),L=S),P=K(P,1),A=K(A,1)}return I=F(x,O.j(I)),new G(O,I)}for(O=w;0<=x.l(I);){for(A=Math.max(1,Math.floor(x.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=p(A),S=L.j(I);D(S)||0<S.l(x);)A-=P,L=p(A),S=L.j(I);C(L)&&(L=b),O=O.add(L),x=F(x,S)}return new G(O,x)}n.A=function(x){return re(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&x.i(P);return new c(A,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|x.i(P);return new c(A,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^x.i(P);return new c(A,this.h^x.h)};function Q(x){for(var I=x.g.length+1,A=[],P=0;P<I;P++)A[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(A,x.h)}function K(x,I){var A=I>>5;I%=32;for(var P=x.g.length-A,O=[],L=0;L<P;L++)O[L]=0<I?x.i(L+A)>>>I|x.i(L+A+1)<<32-I:x.i(L+A);return new c(O,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,wo=c}).apply(typeof iS<"u"?iS:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,Wl,aS,bf,hy,cS,lS,uS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in E))break e;E=E[$]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function s(d,_){d instanceof String&&(d+="");var E=0,R=!1,$={next:function(){if(!R&&E<d.length){var Y=E++;return{value:_(Y,d[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(d){return d||function(){return s(this,function(_,E){return E})}});/** @license

   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */var c=c||{},u=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function w(d,_,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,b.apply(null,arguments)}function k(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function C(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,$,Y){for(var le=Array(arguments.length-2),it=2;it<arguments.length;it++)le[it-2]=arguments[it];return _.prototype[$].apply(R,le)}}function D(d){const _=d.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function N(d,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const $=d.length||0,Y=R.length||0;d.length=$+Y;for(let le=0;le<Y;le++)d[$+le]=R[le]}else d.push(R)}}class F{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function re(d){return re[" "](d),d}re[" "]=function(){};var Q=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function K(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function x(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function I(d){const _={};for(const E in d)_[E]=d[E];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)d[E]=R[E];for(let Y=0;Y<A.length;Y++)E=A[Y],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function O(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function L(d){u.setTimeout(()=>{throw d},0)}function S(){var d=X;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,E){const R=ue.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ue=new F(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,z=!1,X=new fe,ee=()=>{const d=u.Promise.resolve(void 0);J=()=>{d.then(j)}};var j=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(E){L(E)}var _=ue;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}z=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return d}();function Ue(d,_){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{re(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Be[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ue.aa.h.call(this)}}C(Ue,pe);var Be={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function ut(d,_,E,R,$){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++Xe,this.da=this.fa=!1}function Ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zi(d){this.src=d,this.g={},this.h=0}zi.prototype.add=function(d,_,E,R,$){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var le=Uo(d,_,R,$);return-1<le?(_=d[le],E||(_.fa=!1)):(_=new ut(_,this.src,Y,!!R,$),_.fa=E,d.push(_)),_};function mc(d,_){var E=_.type;if(E in d.g){var R=d.g[E],$=Array.prototype.indexOf.call(R,_,void 0),Y;(Y=0<=$)&&Array.prototype.splice.call(R,$,1),Y&&(Ht(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Uo(d,_,E,R){for(var $=0;$<d.length;++$){var Y=d[$];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==R)return $}return-1}var Gs="closure_lm_"+(1e6*Math.random()|0),hc={};function ju(d,_,E,R,$){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)ju(d,_[Y],E,R,$);return null}return E=$u(E),d&&d[Ze]?d.K(_,E,p(R)?!!R.capture:!1,$):Uu(d,_,E,!1,R,$)}function Uu(d,_,E,R,$,Y){if(!_)throw Error("Invalid event type");var le=p($)?!!$.capture:!!$,it=gc(d);if(it||(d[Gs]=it=new zi(d)),E=it.add(_,E,R,le,Y),E.proxy)return E;if(R=ph(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)ke||($=le),$===void 0&&($=!1),d.addEventListener(_.toString(),R,$);else if(d.attachEvent)d.attachEvent(Bi(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ph(){function d(E){return _.call(d.src,d.listener,E)}const _=zu;return d}function pc(d,_,E,R,$){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)pc(d,_[Y],E,R,$);else R=p(R)?!!R.capture:!!R,E=$u(E),d&&d[Ze]?(d=d.i,_=String(_).toString(),_ in d.g&&(Y=d.g[_],E=Uo(Y,E,R,$),-1<E&&(Ht(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[_],d.h--)))):d&&(d=gc(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Uo(_,E,R,$)),(E=-1<d?_[d]:null)&&$i(E))}function $i(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ze])mc(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(Bi(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=gc(_))?(mc(E,d),E.h==0&&(E.src=null,_[Gs]=null)):Ht(d)}}}function Bi(d){return d in hc?hc[d]:hc[d]="on"+d}function zu(d,_){if(d.da)d=!0;else{_=new Ue(_,this);var E=d.listener,R=d.ha||d.src;d.fa&&$i(d),d=E.call(R,_)}return d}function gc(d){return d=d[Gs],d instanceof zi?d:null}var yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(d){return typeof d=="function"?d:(d[yc]||(d[yc]=function(_){return d.handleEvent(_)}),d[yc])}function Ft(){Z.call(this),this.i=new zi(this),this.M=this,this.F=null}C(Ft,Z),Ft.prototype[Ze]=!0,Ft.prototype.removeEventListener=function(d,_,E,R){pc(this,d,_,E,R)};function Vt(d,_){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new pe(_,d);else if(_ instanceof pe)_.target=_.target||d;else{var $=_;_=new pe(R,d),P(_,$)}if($=!0,E)for(var Y=E.length-1;0<=Y;Y--){var le=_.g=E[Y];$=qi(le,R,!0,_)&&$}if(le=_.g=d,$=qi(le,R,!0,_)&&$,$=qi(le,R,!1,_)&&$,E)for(Y=0;Y<E.length;Y++)le=_.g=E[Y],$=qi(le,R,!1,_)&&$}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],R=0;R<E.length;R++)Ht(E[R]);delete d.g[_],d.h--}}this.F=null},Ft.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},Ft.prototype.L=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function qi(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,Y=0;Y<_.length;++Y){var le=_[Y];if(le&&!le.da&&le.capture==E){var it=le.listener,jt=le.ha||le.src;le.fa&&mc(d.i,le),$=it.call(jt,R)!==!1&&$}}return $&&!R.defaultPrevented}function Bu(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function zo(d){d.g=Bu(()=>{d.g=null,d.i&&(d.i=!1,zo(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ws extends Z{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(d){Z.call(this),this.h=d,this.g={}}C(Ks,Z);var qu=[];function Hu(d){K(d.g,function(_,E){this.g.hasOwnProperty(E)&&$i(_)},d),d.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Hu(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gu=u.JSON.stringify,Wu=u.JSON.parse,Ku=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Qs(){}Qs.prototype.h=null;function _c(d){return d.h||(d.h=d.i())}function vc(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){pe.call(this,"d")}C(oi,pe);function wc(){pe.call(this,"c")}C(wc,pe);var si={},Qu=null;function Js(){return Qu=Qu||new Ft}si.La="serverreachability";function Ju(d){pe.call(this,si.La,d)}C(Ju,pe);function Hi(d){const _=Js();Vt(_,new Ju(_))}si.STAT_EVENT="statevent";function Yu(d,_){pe.call(this,si.STAT_EVENT,d),this.stat=_}C(Yu,pe);function kt(d){const _=Js();Vt(_,new Yu(_,d))}si.Ma="timingevent";function Ec(d,_){pe.call(this,si.Ma,d),this.size=_}C(Ec,pe);function Pr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function Zs(d,_,E,R,$,Y){d.info(function(){if(d.g)if(Y)for(var le="",it=Y.split("&"),jt=0;jt<it.length;jt++){var Ye=it[jt].split("=");if(1<Ye.length){var Gt=Ye[0];Ye=Ye[1];var Ot=Gt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(Gt+"="+Ye+"&"):le+(Gt+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+le})}function bc(d,_,E,R,$,Y,le){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+Y+" "+le})}function Cr(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kv(d,E)+(R?" "+R:"")})}function Zu(d,_){d.info(function(){return"TIMEOUT: "+_})}Ys.prototype.info=function(){};function Kv(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var Y=$[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<$.length;le++)$[le]=""}}}}return Gu(E)}catch{return _}}var Tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Xs(){}C(Xs,Qs),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},xr=new Xs;function Or(d,_,E,R){this.j=d,this.i=_,this.l=E,this.R=R||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yh}function yh(){this.i=null,this.g="",this.h=!1}var Xu={},Ac={};function Sc(d,_,E){d.L=1,d.v=Go(Kn(_)),d.m=E,d.P=!0,ed(d,null)}function ed(d,_){d.F=Date.now(),dt(d),d.A=Kn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Ko(E.i,"t",R),d.C=0,E=d.j.J,d.h=new yh,d.g=Mh(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Ws(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(qu[0]=$.toString()),$=qu);for(var Y=0;Y<$.length;Y++){var le=ju(E,$[Y],R||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Hi(),Zs(d.i,d.u,d.A,d.l,d.R,d.m)}Or.prototype.ca=function(d){d=d.target;const _=this.M;_&&xn(d)==3?_.j():this.Y(d)},Or.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=xn(this.g);var _=this.g.Ba();const dr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=dr?Hi(3):Hi(2)),ea(this);var E=this.g.Z();this.X=E;t:if(_h(this)){var R=sd(this.g);d="";var $=R.length,Y=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),$o(this);var le="";break t}this.h.i=new u.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(Y&&_==$-1)});R.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,bc(this.i,this.u,this.A,this.l,this.R,Ot,E),this.o){if(this.T&&!this.K){t:{if(this.g){var it,jt=this.g;if((it=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(it)){var Ye=it;break t}}Ye=null}if(E=Ye)Cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,td(this,E);else{this.o=!1,this.s=3,kt(12),lr(this),$o(this);break e}}if(this.P){E=!0;let Jn;for(;!this.J&&this.C<le.length;)if(Jn=Qv(this,le),Jn==Ac){Ot==4&&(this.s=4,kt(14),E=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Xu){this.s=4,kt(15),Cr(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else Cr(this.i,this.l,Jn,null),td(this,Jn);if(_h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,kt(16),E=!1),this.o=this.o&&E,!E)Cr(this.i,this.l,le,"[Invalid Chunked Response]"),lr(this),$o(this);else if(0<le.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),cd(Gt),Gt.M=!0,kt(11))}}else Cr(this.i,this.l,le,null),td(this,le);Ot==4&&lr(this),this.o&&!this.J&&(Ot==4?Lc(this.j,this):(this.o=!1,dt(this)))}else xc(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),lr(this),$o(this)}}}catch{}finally{}};function _h(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qv(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Ac:(E=Number(_.substring(E,R)),isNaN(E)?Xu:(R+=1,R+E>_.length?Ac:(_=_.slice(R,R+E),d.C=R+E,_)))}Or.prototype.cancel=function(){this.J=!0,lr(this)};function dt(d){d.S=Date.now()+d.I,vh(d,d.I)}function vh(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Pr(b(d.ba,d),_)}function ea(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Or.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Zu(this.i,this.A),this.L!=2&&(Hi(),kt(17)),lr(this),this.s=2,$o(this)):vh(this,this.S-d)};function $o(d){d.j.G==0||d.J||Lc(d.j,d)}function lr(d){ea(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Hu(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function td(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||bn(E.h,d))){if(!d.K&&bn(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Mc(E),Fr(E);else break e;Dc(E),kt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Pr(b(E.Za,E),6e3));if(1>=Eh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ji(E,11)}else if((d.K||E.g==d)&&Mc(E),!q(_))for($=E.Da.g.parse(_),_=0;_<$.length;_++){let Ye=$[_];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Gt=Ye[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const Ot=Ye[4];Ot!=null&&(E.Aa=Ot,E.j.info("SVER="+E.Aa));const dr=Ye[5];dr!=null&&typeof dr=="number"&&0<dr&&(R=1.5*dr,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Jn=d.g;if(Jn){const aa=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Y=R.h;Y.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(nd(Y,Y.h),Y.h=null))}if(R.D){const Vc=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vc&&(R.ya=Vc,lt(R.I,R.D,Vc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var le=d;if(R.qa=Dh(R,R.J?R.ia:null,R.W),le.K){bh(R.h,le);var it=le,jt=R.L;jt&&(it.I=jt),it.B&&(ea(it),dt(it)),R.g=le}else sa(R);0<E.i.length&&ui(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ji(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ji(E,7):rn(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}Hi(4)}catch{}}var wh=class{constructor(d,_){this.g=d,this.map=_}};function ta(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Eh(d){return d.h?1:d.g?d.g.size:0}function bn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function nd(d,_){d.g?d.g.add(_):d.h=_}function bh(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ta.prototype.cancel=function(){if(this.i=Th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Th(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return D(d.i)}function Ic(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],E=d.length,R=0;R<E;R++)_.push(d[R]);return _}_=[],E=0;for(R in d)_[E++]=d[R];return _}function kc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const R in d)_[E++]=R;return _}}}function Bo(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=kc(d),R=Ic(d),$=R.length,Y=0;Y<$;Y++)_.call(void 0,R[Y],E&&E[Y],d)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jv(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),$=null;if(0<=R){var Y=d[E].substring(0,R);$=d[E].substring(R+1)}else Y=d[E];_(Y,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Gi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Gi){this.h=d.h,ra(this,d.j),this.o=d.o,this.g=d.g,qo(this,d.s),this.l=d.l;var _=d.i,E=new ai;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ho(this,E),this.m=d.m}else d&&(_=String(d).match(na))?(this.h=!1,ra(this,_[1]||"",!0),this.o=We(_[2]||""),this.g=We(_[3]||"",!0),qo(this,_[4]),this.l=We(_[5]||"",!0),Ho(this,_[6]||"",!0),this.m=We(_[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Gi.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Wo(_,Rc,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Wo(_,Rc,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Wo(E,E.charAt(0)=="/"?Ih:Sh,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Wo(E,rd)),d.join("")};function Kn(d){return new Gi(d)}function ra(d,_,E){d.j=E?We(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function qo(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ho(d,_,E){_ instanceof ai?(d.i=_,ci(d.i,d.h)):(E||(_=Wo(_,kh)),d.i=new ai(_,d.h))}function lt(d,_,E){d.i.set(_,E)}function Go(d){return lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function We(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wo(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Ah),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ah(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rc=/[#\/\?@]/g,Sh=/[#\?:]/g,Ih=/[#\?]/g,kh=/[#\?@]/g,rd=/#/g;function ai(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function nn(d){d.g||(d.g=new Map,d.h=0,d.i&&Jv(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=ai.prototype,n.add=function(d,_){nn(this),this.i=null,d=ur(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Nr(d,_){nn(d),_=ur(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Dr(d,_){return nn(d),_=ur(d,_),d.g.has(_)}n.forEach=function(d,_){nn(this),this.g.forEach(function(E,R){E.forEach(function($){d.call(_,$,R,this)},this)},this)},n.na=function(){nn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const $=d[R];for(let Y=0;Y<$.length;Y++)E.push(_[R])}return E},n.V=function(d){nn(this);let _=[];if(typeof d=="string")Dr(this,d)&&(_=_.concat(this.g.get(ur(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return nn(this),this.i=null,d=ur(this,d),Dr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Ko(d,_,E){Nr(d,_),0<E.length&&(d.i=null,d.g.set(ur(d,_),D(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const Y=encodeURIComponent(String(R)),le=this.V(R);for(R=0;R<le.length;R++){var $=Y;le[R]!==""&&($+="="+encodeURIComponent(String(le[R]))),d.push($)}}return this.i=d.join("&")};function ur(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ci(d,_){_&&!d.j&&(nn(d),d.i=null,d.g.forEach(function(E,R){var $=R.toLowerCase();R!=$&&(Nr(this,R),Ko(this,$,E))},d)),d.j=_}function Yv(d,_){const E=new Ys;if(u.Image){const R=new Image;R.onload=k(Cn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=k(Cn,E,"TestLoadImage: error",!1,_,R),R.onabort=k(Cn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=k(Cn,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Rh(d,_){const E=new Ys,R=new AbortController,$=setTimeout(()=>{R.abort(),Cn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(Y=>{clearTimeout($),Y.ok?Cn(E,"TestPingServer: ok",!0,_):Cn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Cn(E,"TestPingServer: error",!1,_)})}function Cn(d,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Zv(){this.g=new Ku}function Ph(d,_,E){const R=E||"";try{Bo(d,function($,Y){let le=$;p($)&&(le=Gu($)),_.push(R+Y+"="+encodeURIComponent(le))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function Wi(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Wi,Qs),Wi.prototype.g=function(){return new ia(this.l,this.j)},Wi.prototype.i=function(d){return function(){return d}}({});function ia(d,_){Ft.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ia,Ft),n=ia.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Lr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ch(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ch(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Mr(this):Lr(this),this.readyState==3&&Ch(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Mr(this))},n.Qa=function(d){this.g&&(this.response=d,Mr(this))},n.ga=function(){this.g&&Mr(this)};function Mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Lr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ki(d){let _="";return K(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Qo(d,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Ki(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):lt(d,_,E))}function yt(d){Ft.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(yt,Ft);var Xv=/^https?$/i,id=["POST","PUT"];n=yt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?_c(this.o):_c(xr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Y){oa(this,Y);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())E.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),$=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(id,_,void 0))||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cc(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){oa(this,Y)}};function oa(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Pc(d),Qn(d)}function Pc(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Vt(this,"complete"),Vt(this,"abort"),Qn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?od(this):this.bb())},n.bb=function(){od(this)};function od(d){if(d.h&&typeof c<"u"&&(!d.v[1]||xn(d)!=4||d.Z()!=2)){if(d.u&&xn(d)==4)Bu(d.Ea,0,d);else if(Vt(d,"readystatechange"),xn(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=le===0){var $=String(d.D).match(na)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),R=!Xv.test($?$.toLowerCase():"")}E=R}if(E)Vt(d,"complete"),Vt(d,"success");else{d.m=6;try{var Y=2<xn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Pc(d)}}finally{Qn(d)}}}}function Qn(d,_){if(d.g){Cc(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Vt(d,"ready");try{E.onreadystatechange=R}catch{}}}function Cc(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Wu(_)}};function sd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(d){const _={};d=(d.g&&2<=xn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(q(d[R]))continue;var E=O(d[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[$]||[];_[$]=Y,Y.push(E)}x(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function ad(d){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=li("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=li("baseRetryDelayMs",5e3,d),this.cb=li("retryDelaySeedMs",1e4,d),this.Wa=li("forwardChannelMaxRetries",2,d),this.wa=li("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(d&&d.concurrentRequestLimit),this.Da=new Zv,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ad.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,R){kt(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Dh(this,null,this.W),ui(this)};function rn(d){if(Oc(d),d.G==3){var _=d.U++,E=Kn(d.I);if(lt(E,"SID",d.K),lt(E,"RID",_),lt(E,"TYPE","terminate"),Qi(d,E),_=new Or(d,d.j,_),_.L=2,_.v=Go(Kn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=Mh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),dt(_)}Nh(d)}function Fr(d){d.g&&(cd(d),d.g.cancel(),d.g=null)}function Oc(d){Fr(d),d.u&&(u.clearTimeout(d.u),d.u=null),Mc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function ui(d){if(!Wn(d.h)&&!d.s){d.s=!0;var _=d.Ga;J||ee(),z||(J(),z=!0),X.add(_,d),d.B=0}}function ew(d,_){return Eh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Pr(b(d.Ga,d,_),Oh(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Or(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=I(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||($.H=Y,Y=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Jo(this,$,_),E=Kn(this.I),lt(E,"RID",d),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Qi(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(Ki(Y)))+"&"+_:this.m&&Qo(E,this.m,Y)),nd(this.h,$),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",_),lt(E,"SID","null"),$.T=!0,Sc($,E,null)):Sc($,E,_),this.G=2}}else this.G==3&&(d?Nc(this,d):this.i.length==0||Wn(this.h)||Nc(this))};function Nc(d,_){var E;_?E=_.l:E=d.U++;const R=Kn(d.I);lt(R,"SID",d.K),lt(R,"RID",E),lt(R,"AID",d.T),Qi(d,R),d.m&&d.o&&Qo(R,d.m,d.o),E=new Or(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Jo(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),nd(d.h,E),Sc(E,R,_)}function Qi(d,_){d.H&&K(d.H,function(E,R){lt(_,R,E)}),d.l&&Bo({},function(E,R){lt(_,R,E)})}function Jo(d,_,E){E=Math.min(d.i.length,E);var R=d.l?b(d.l.Na,d.l,d):null;e:{var $=d.i;let Y=-1;for(;;){const le=["count="+E];Y==-1?0<E?(Y=$[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let it=!0;for(let jt=0;jt<E;jt++){let Ye=$[jt].g;const Gt=$[jt].map;if(Ye-=Y,0>Ye)Y=Math.max(0,$[jt].g-100),it=!1;else try{Ph(Gt,le,"req"+Ye+"_")}catch{R&&R(Gt)}}if(it){R=le.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,R}function sa(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;J||ee(),z||(J(),z=!0),X.add(_,d),d.v=0}}function Dc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Pr(b(d.Fa,d),Oh(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Pr(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Fr(this),xh(this))};function cd(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function xh(d){d.g=new Or(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Kn(d.qa);lt(_,"RID","rpc"),lt(_,"SID",d.K),lt(_,"AID",d.T),lt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&lt(_,"TO",d.ja),lt(_,"TYPE","xmlhttp"),Qi(d,_),d.m&&d.o&&Qo(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Go(Kn(_)),E.m=null,E.P=!0,ed(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Fr(this),Dc(this),kt(19))};function Mc(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Lc(d,_){var E=null;if(d.g==_){Mc(d),cd(d),d.g=null;var R=2}else if(bn(d.h,_))E=_.D,bh(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;R=Js(),Vt(R,new Ec(R,E)),ui(d)}else sa(d);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&ew(d,_)||R==2&&Dc(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),$){case 1:Ji(d,5);break;case 4:Ji(d,10);break;case 3:Ji(d,6);break;default:Ji(d,2)}}}function Oh(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Ji(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),R=d.Xa;const $=!R;R=new Gi(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ra(R,"https"),Go(R),$?Yv(R.toString(),E):Rh(R.toString(),E)}else kt(2);d.G=0,d.l&&d.l.sa(_),Nh(d),Oc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Nh(d){if(d.G=0,d.ka=[],d.l){const _=Th(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Dh(d,_,E){var R=E instanceof Gi?Kn(E):new Gi(E);if(R.g!="")_&&(R.g=_+"."+R.g),qo(R,R.s);else{var $=u.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var Y=new Gi(null);R&&ra(Y,R),_&&(Y.g=_),$&&qo(Y,$),E&&(Y.l=E),R=Y}return E=d.D,_=d.ya,E&&_&&lt(R,E,_),lt(R,"VER",d.la),Qi(d,R),R}function Mh(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new yt(new Wi({eb:E})):new yt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fc(){}Fc.prototype.g=function(d,_){return new Tn(d,_)};function Tn(d,_){Ft.call(this),this.g=new ad(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new di(this)}C(Tn,Ft),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){rn(this.g)},Tn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Gu(d),d=E);_.i.push(new wh(_.Ya++,d)),_.G==3&&ui(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Tn.aa.N.call(this)};function Lh(d){oi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(Lh,oi);function Fh(){wc.call(this),this.status=1}C(Fh,wc);function di(d){this.g=d}C(di,ld),di.prototype.ua=function(){Vt(this.g,"a")},di.prototype.ta=function(d){Vt(this.g,new Lh(d))},di.prototype.sa=function(d){Vt(this.g,new Fh)},di.prototype.ra=function(){Vt(this.g,"b")},Fc.prototype.createWebChannel=Fc.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,uS=function(){return new Fc},lS=function(){return Js()},cS=si,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tc.NO_ERROR=0,Tc.TIMEOUT=8,Tc.HTTP_ERROR=6,bf=Tc,gh.COMPLETE="complete",aS=gh,vc.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Wl=vc,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,sS=yt}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const dS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new ny("@firebase/firestore");function Fa(){return Is.logLevel}function _e(n,...e){if(Is.logLevel<=qe.DEBUG){const t=e.map(py);Is.debug(`Firestore (${La}): ${n}`,...t)}}function Ai(n,...e){if(Is.logLevel<=qe.ERROR){const t=e.map(py);Is.error(`Firestore (${La}): ${n}`,...t)}}function Kl(n,...e){if(Is.logLevel<=qe.WARN){const t=e.map(py);Is.warn(`Firestore (${La}): ${n}`,...t)}}function py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function Qe(n,e){n||Ce()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class HV{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const i=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let s=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const m=s;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},u=m=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>u(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?u(m):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Si)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new BV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Rn(e)}}class GV{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WV{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new GV(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new KV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Va(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Pt(0,0))}static max(){return new Oe(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(),r===void 0?r=e.length-t:r>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Xr.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),i=Xr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class st extends Xr{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new st(t)}static emptyPath(){return new st([])}}const YV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Xr{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return YV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(st.fromString(e))}static fromName(e){return new Ie(st.fromString(e).popFirst(5))}static empty(){return new Ie(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new st(e.slice()))}}function ZV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Eo(i,Ie.empty(),e)}function XV(n){return new Eo(n.readTime,n.key,-1)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(Oe.min(),Ie.empty(),-1)}static max(){return new Eo(Oe.max(),Ie.empty(),-1)}}function ej(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==tj)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,s=0,c=!1;e.forEach(u=>{++i,u.next(()=>{++s,c&&s===i&&t()},m=>r(m))}),c=!0,s===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let m=0;m<s;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++u,u===s&&r(c)},y=>i(y))}})}static doWhile(e,t){return new ne((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function rj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tf.oe=-1;function Ql(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function ij(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mS(e)),e=sj(n.get(t),e);return mS(e)}function sj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function mS(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=s??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Xt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1,Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gS(this.data.getIterator())}getIteratorFrom(e){return new gS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class gS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Lt(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yS("Invalid base64 string: "+s):s}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=aj.exec(n);if(Qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function If(n){const e=n.mapValue.fields.__previous_value__;return gy(e)?If(e):e}function Jl(n){const e=To(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t,r,i,s,c,u,m,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=p}}class Yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf={mapValue:{}};function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gy(n)?4:uj(n)?9007199254740991:lj(n)?10:11:Ce()}function ei(n,e){if(n===e)return!0;const t=So(n);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=To(i.timestampValue),u=To(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ao(i.bytesValue).isEqual(Ao(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=It(i.doubleValue),u=It(s.doubleValue);return c===u?Af(c)===Af(u):isNaN(c)&&isNaN(u)}return!1}(n,e);case 9:return Va(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,s){const c=i.mapValue.fields||{},u=s.mapValue.fields||{};if(hS(c)!==hS(u))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(u[m]===void 0||!ei(c[m],u[m])))return!1;return!0}(n,e);default:return Ce()}}function Zl(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function za(n,e){if(n===e)return 0;const t=So(n),r=So(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(s,c){const u=It(s.integerValue||s.doubleValue),m=It(c.integerValue||c.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return _S(n.timestampValue,e.timestampValue);case 4:return _S(Jl(n),Jl(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(s,c){const u=Ao(s),m=Ao(c);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,c){const u=s.split("/"),m=c.split("/");for(let p=0;p<u.length&&p<m.length;p++){const y=Ge(u[p],m[p]);if(y!==0)return y}return Ge(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,c){const u=Ge(It(s.latitude),It(c.latitude));return u!==0?u:Ge(It(s.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vS(n.arrayValue,e.arrayValue);case 10:return function(s,c){var u,m,p,y;const w=s.fields||{},b=c.fields||{},k=(u=w.value)===null||u===void 0?void 0:u.arrayValue,C=(m=b.value)===null||m===void 0?void 0:m.arrayValue,D=Ge(((p=k==null?void 0:k.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:vS(k,C)}(n.mapValue,e.mapValue);case 11:return function(s,c){if(s===kf.mapValue&&c===kf.mapValue)return 0;if(s===kf.mapValue)return 1;if(c===kf.mapValue)return-1;const u=s.fields||{},m=Object.keys(u),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let w=0;w<m.length&&w<y.length;++w){const b=Ge(m[w],y[w]);if(b!==0)return b;const k=za(u[m[w]],p[y[w]]);if(k!==0)return k}return Ge(m.length,y.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function _S(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=To(n),r=To(e),i=Ge(t.seconds,r.seconds);return i!==0?i:Ge(t.nanos,r.nanos)}function vS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=za(t[i],r[i]);if(s)return s}return Ge(t.length,r.length)}function $a(n){return yy(n)}function yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=To(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=yy(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${yy(t.fields[c])}`;return i+"}"}(n.mapValue):Ce()}function Rf(n){switch(So(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(n);return e?16+Rf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Rf(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return bo(r.fields,(s,c)=>{i+=s.length+Rf(c)}),i}(n.mapValue);default:throw Ce()}}function wS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function vy(n){return!!n&&"arrayValue"in n}function ES(n){return!!n&&"nullValue"in n}function bS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pf(n){return!!n&&"mapValue"in n}function lj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((c,u)=>{if(!t.isImmediateParentOf(u)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=u.popLast()}c?r[u.lastSegment()]=Xl(c):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(Xl(this.value))}}function TS(n){const e=[];return bo(n.fields,(t,r)=>{const i=new Zt([t]);if(Pf(r)){const s=TS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,i,s,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,Oe.min(),Oe.min(),Oe.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new Bt(e,1,t,Oe.min(),r,i,0)}static newNoDocument(e,t){return new Bt(e,2,t,Oe.min(),Oe.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Oe.min(),Oe.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.position=e,this.inclusive=t}}function AS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),t.key):r=za(c,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function dj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class Ct extends IS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mj(e,t,r):t==="array-contains"?new gj(e,r):t==="in"?new yj(e,r):t==="not-in"?new _j(e,r):t==="array-contains-any"?new vj(e,r):new Ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hj(e,r):new pj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(za(t,this.value)):t!==null&&So(this.value)===So(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends IS{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sr(e,t)}matches(e){return kS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kS(n){return n.op==="and"}function RS(n){return fj(n)&&kS(n)}function fj(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function wy(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(RS(n))return n.filters.map(e=>wy(e)).join(",");{const e=n.filters.map(t=>wy(t)).join(",");return`${n.op}(${e})`}}function PS(n,e){return n instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(n,e):n instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,c,u)=>s&&PS(c,i.filters[u]),!0):!1}(n,e):void Ce()}function CS(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${$a(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(CS).join(" ,")+"}"}(n):"Filter"}class mj extends Ct{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class hj extends Ct{constructor(e,t){super(e,"in",t),this.keys=xS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pj extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=xS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class gj extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vy(t)&&Zl(t.arrayValue,this.value)}}class yj extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zl(this.value.arrayValue,t)}}class _j extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Zl(this.value.arrayValue,t)}}class vj extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.ue=null}}function OS(n,e=null,t=[],r=[],i=null,s=null,c=null){return new wj(n,e,t,r,i,s,c)}function Ey(n){const e=Me(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ql(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$a(r)).join(",")),e.ue=t}return e.ue}function by(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SS(n.startAt,e.startAt)&&SS(n.endAt,e.endAt)}function Ty(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t=null,r=[],i=[],s=null,c="F",u=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ej(n,e,t,r,i,s,c,u){return new Ba(n,e,t,r,i,s,c,u)}function Ay(n){return new Ba(n)}function NS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DS(n){return n.collectionGroup!==null}function tu(n){const e=Me(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Lt(Zt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new eu(s,r))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new eu(Zt.keyField(),r))}return e.ce}function ti(n){const e=Me(n);return e.le||(e.le=bj(e,tu(n))),e.le}function bj(n,e){if(n.limitType==="F")return OS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new eu(i.field,s)});const t=n.endAt?new Cf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cf(n.startAt.position,n.startAt.inclusive):null;return OS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sy(n,e){const t=n.filters.concat([e]);return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xf(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return by(ti(n),ti(e))&&n.limitType===e.limitType}function MS(n){return`${Ey(ti(n))}|lt:${n.limitType}`}function qa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>CS(i)).join(", ")}]`),Ql(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$a(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$a(i)).join(",")),`Target(${r})`}(ti(n))}; limitType=${n.limitType})`}function Nf(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of tu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(c,u,m){const p=AS(c,u,m);return c.inclusive?p<=0:p<0}(r.startAt,tu(r),i)||r.endAt&&!function(c,u,m){const p=AS(c,u,m);return c.inclusive?p>=0:p>0}(r.endAt,tu(r),i))}(n,e)}function Tj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LS(n){return(e,t)=>{let r=!1;for(const i of tu(n)){const s=Aj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Aj(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(s,c,u){const m=c.data.field(s),p=u.data.field(s);return m!==null&&p!==null?za(m,p):Ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new wt(Ie.comparator);function Ii(){return Sj}const FS=new wt(Ie.comparator);function nu(...n){let e=FS;for(const t of n)e=e.insert(t.key,t);return e}function VS(n){let e=FS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Rs(){return ru()}function jS(){return ru()}function ru(){return new ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ij=new wt(Ie.comparator),kj=new Lt(Ie.comparator);function He(...n){let e=kj;for(const t of n)e=e.add(t);return e}const Rj=new Lt(Ge);function Pj(){return Rj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function US(n){return{integerValue:""+n}}function Cj(n,e){return ij(e)?US(e):Iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function xj(n,e,t){return n instanceof iu?function(i,s){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gy(s)&&(s=If(s)),s&&(c.fields.__previous_value__=s),{mapValue:c}}(t,e):n instanceof ou?$S(n,e):n instanceof su?BS(n,e):function(i,s){const c=zS(i,s),u=qS(c)+qS(i.Pe);return _y(c)&&_y(i.Pe)?US(u):Iy(i.serializer,u)}(n,e)}function Oj(n,e,t){return n instanceof ou?$S(n,e):n instanceof su?BS(n,e):t}function zS(n,e){return n instanceof Mf?function(r){return _y(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class iu extends Df{}class ou extends Df{constructor(e){super(),this.elements=e}}function $S(n,e){const t=HS(e);for(const r of n.elements)t.some(i=>ei(i,r))||t.push(r);return{arrayValue:{values:t}}}class su extends Df{constructor(e){super(),this.elements=e}}function BS(n,e){let t=HS(e);for(const r of n.elements)t=t.filter(i=>!ei(i,r));return{arrayValue:{values:t}}}class Mf extends Df{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qS(n){return It(n.integerValue||n.doubleValue)}function HS(n){return vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,t){this.field=e,this.transform=t}}function Dj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ou&&i instanceof ou||r instanceof su&&i instanceof su?Va(r.elements,i.elements,ei):r instanceof Mf&&i instanceof Mf?ei(r.Pe,i.Pe):r instanceof iu&&i instanceof iu}(n.transform,e.transform)}class Mj{constructor(e,t){this.version=e,this.transformResults=t}}class tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ff{}function GS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vf(n.key,tn.none()):new cu(n.key,n.data,tn.none());{const t=n.data,r=wn.empty();let i=new Lt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);c===null&&s.length>1&&(s=s.popLast(),c=t.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new Io(n.key,r,new zn(i.toArray()),tn.none())}}function Lj(n,e,t){n instanceof cu?function(i,s,c){const u=i.value.clone(),m=QS(i.fieldTransforms,s,c.transformResults);u.setAll(m),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Io?function(i,s,c){if(!Lf(i.precondition,s))return void s.convertToUnknownDocument(c.version);const u=QS(i.fieldTransforms,s,c.transformResults),m=s.data;m.setAll(KS(i)),m.setAll(u),s.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function au(n,e,t,r){return n instanceof cu?function(s,c,u,m){if(!Lf(s.precondition,c))return u;const p=s.value.clone(),y=JS(s.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Io?function(s,c,u,m){if(!Lf(s.precondition,c))return u;const p=JS(s.fieldTransforms,m,c),y=c.data;return y.setAll(KS(s)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(s,c,u){return Lf(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(n,e,t)}function Fj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=zS(r.transform,i||null);s!=null&&(t===null&&(t=wn.empty()),t.set(r.field,s))}return t||null}function WS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Va(r,i,(s,c)=>Dj(s,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cu extends Ff{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Io extends Ff{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QS(n,e,t){const r=new Map;Qe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,Oj(c,u,t[i]))}return r}function JS(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,xj(s,c,e))}return r}class Vf extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Lj(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=au(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=au(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jS();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=t.has(i.key)?null:u;const m=GS(c,u);m!==null&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(t,r)=>WS(t,r))&&Va(this.baseMutations,e.baseMutations,(t,r)=>WS(t,r))}}class ky{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length);let i=function(){return Ij}();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new ky(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Je;function ZS(n){switch(n){default:return Ce();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function XS(n){if(n===void 0)return Ai("GRPC error has no .code"),te.UNKNOWN;switch(n){case xt.OK:return te.OK;case xt.CANCELLED:return te.CANCELLED;case xt.UNKNOWN:return te.UNKNOWN;case xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case xt.INTERNAL:return te.INTERNAL;case xt.UNAVAILABLE:return te.UNAVAILABLE;case xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case xt.NOT_FOUND:return te.NOT_FOUND;case xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case xt.ABORTED:return te.ABORTED;case xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case xt.DATA_LOSS:return te.DATA_LOSS;default:return Ce()}}(Je=xt||(xt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new wo([4294967295,4294967295],0);function eI(n){const e=zj().encode(n),t=new oS;return t.update(e),new Uint8Array(t.digest())}function tI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wo([t,r],0),new wo([i,s],0)]}class Ry{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=wo.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(wo.fromNumber(r)));return i.compare($j)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=eI(e),[r,i]=tI(t);for(let s=0;s<this.hashCount;s++){const c=this.de(r,i,s);if(!this.Ee(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Ry(s,i,t);return r.forEach(u=>c.insert(u)),c}insert(e){if(this.Te===0)return;const t=eI(e),[r,i]=tI(t);for(let s=0;s<this.hashCount;s++){const c=this.de(r,i,s);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jf(Oe.min(),i,new wt(Ge),Ii(),He())}}class uu{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class nI{constructor(e,t){this.targetId=e,this.me=t}}class rI{constructor(e,t,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class iI{constructor(){this.fe=0,this.ge=oI(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),r=He();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new uu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=oI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bj{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ii(),this.qe=zf(),this.Qe=zf(),this.Ke=new wt(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const s=i.target;if(Ty(s))if(r===0){const c=new Ie(s.path);this.We(t,c,Bt.newNoDocument(c,Oe.min()))}else Qe(r===1);else{const c=this.Ze(t);if(c!==r){const u=this.Xe(e),m=u?this.et(u,e,c):1;if(m!==0){this.He(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let c,u;try{c=Ao(r).toUint8Array()}catch(m){if(m instanceof yS)return Kl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{u=new Ry(c,i,s)}catch(m){return Kl(m instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const c=this.Be.nt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((s,c)=>{const u=this.Ye(c);if(u){if(s.current&&Ty(u.target)){const m=new Ie(u.target.path);this.st(m).has(c)||this.ot(c,m)||this.We(c,m,Bt.newNoDocument(m,e))}s.be&&(t.set(c,s.ve()),s.Ce())}});let r=He();this.Qe.forEach((s,c)=>{let u=!0;c.forEachWhile(m=>{const p=this.Ye(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,c)=>c.setReadTime(e));const i=new jf(e,t,this.Ke,this.ke,r);return this.ke=Ii(),this.qe=zf(),this.Qe=zf(),this.Ke=new wt(Ge),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new iI,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Lt(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new iI),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function zf(){return new wt(Ie.comparator)}function oI(){return new wt(Ie.comparator)}const qj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gj={and:"AND",or:"OR"};class Wj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Py(n,e){return n.useProto3Json||Ql(e)?e:{value:e}}function $f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(n,e){return $f(n,e.toTimestamp())}function $n(n){return Qe(!!n),Oe.fromTimestamp(function(t){const r=To(t);return new Pt(r.seconds,r.nanos)}(n))}function Cy(n,e){return xy(n,e).canonicalString()}function xy(n,e){const t=function(i){return new st(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aI(n){const e=st.fromString(n);return Qe(hI(e)),e}function Bf(n,e){return Cy(n.databaseId,e.path)}function du(n,e){const t=aI(e);if(t.get(1)!==n.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(lI(t))}function cI(n,e){return Cy(n.databaseId,e)}function Qj(n){const e=aI(n);return e.length===4?st.emptyPath():lI(e)}function Oy(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lI(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uI(n,e,t){return{name:Bf(n,e),fields:t.value.mapValue.fields}}function Jj(n,e){return"found"in e?function(r,i){Qe(!!i.found),i.found.name,i.found.updateTime;const s=du(r,i.found.name),c=$n(i.found.updateTime),u=i.found.createTime?$n(i.found.createTime):Oe.min(),m=new wn({mapValue:{fields:i.found.fields}});return Bt.newFoundDocument(s,c,u,m)}(n,e):"missing"in e?function(r,i){Qe(!!i.missing),Qe(!!i.readTime);const s=du(r,i.missing),c=$n(i.readTime);return Bt.newNoDocument(s,c)}(n,e):Ce()}function Yj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string"),en.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),en.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(p){const y=p.code===void 0?te.UNKNOWN:XS(p.code);return new he(y,p.message||"")}(c);t=new rI(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=du(n,r.document.name),s=$n(r.document.updateTime),c=r.document.createTime?$n(r.document.createTime):Oe.min(),u=new wn({mapValue:{fields:r.document.fields}}),m=Bt.newFoundDocument(i,s,c,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Uf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=du(n,r.document),s=r.readTime?$n(r.readTime):Oe.min(),c=Bt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Uf([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=du(n,r.document),s=r.removedTargetIds||[];t=new Uf([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new Uj(i,s),u=r.targetId;t=new nI(u,c)}}return t}function dI(n,e){let t;if(e instanceof cu)t={update:uI(n,e.key,e.value)};else if(e instanceof Vf)t={delete:Bf(n,e.key)};else if(e instanceof Io)t={update:uI(n,e.key,e.data),updateMask:sU(e.fieldMask)};else{if(!(e instanceof YS))return Ce();t={verify:Bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,c){const u=c.transform;if(u instanceof iu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ou)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof su)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mf)return{fieldPath:c.field.canonicalString(),increment:u.Pe};throw Ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Kj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(n,e.precondition)),t}function Zj(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(i,s){let c=i.updateTime?$n(i.updateTime):$n(s);return c.isEqual(Oe.min())&&(c=$n(s)),new Mj(c,i.transformResults||[])}(t,e))):[]}function Xj(n,e){return{documents:[cI(n,e.path)]}}function eU(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cI(n,i);const s=function(p){if(p.length!==0)return mI(Sr.create(p,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Ha(b.field),direction:rU(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=Py(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function tU(n){let e=Qj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(w){const b=fI(w);return b instanceof Sr&&RS(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(b=>function(C){return new eu(Ga(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(t.orderBy));let u=null;t.limit&&(u=function(w){let b;return b=typeof w=="object"?w.value:w,Ql(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(w){const b=!!w.before,k=w.values||[];return new Cf(k,b)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const b=!w.before,k=w.values||[];return new Cf(k,b)}(t.endAt)),Ej(e,i,c,s,u,"F",m,p)}function nU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ga(t.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ga(t.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ga(t.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ga(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Ga(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function rU(n){return qj[n]}function iU(n){return Hj[n]}function oU(n){return Gj[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function Ga(n){return Zt.fromServerFormat(n.fieldPath)}function mI(n){return n instanceof Ct?function(t){if(t.op==="=="){if(bS(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NAN"}};if(ES(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bS(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NAN"}};if(ES(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(t.field),op:iU(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const r=t.getFilters().map(i=>mI(i));return r.length===1?r[0]:{compositeFilter:{op:oU(t.op),filters:r}}}(n):Ce()}function sU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t,r,i,s=Oe.min(),c=Oe.min(),u=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.ht=e}}function cU(n){const e=tU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.ln=new uU}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Eo.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class uU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Lt(st.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Wa(0)}static Qn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI([n,e],[t,r]){const i=Ge(n,t);return i===0?Ge(e,r):i}class dU{constructor(e){this.Gn=e,this.buffer=new Lt(gI),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ua(t)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ja(t)}await this.Yn(3e5)})}}class mU{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Tf.oe);const r=new dU(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(pI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pI):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,c,u,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,c=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(s=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Fa()<=qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${s} targets in `+(m-u)+`ms
	Removed ${w} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w})))}}function hU(n,e){return new mU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.changes=new ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&au(r.mutation,i,zn.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,t,r=He()){const i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=nu();return s.forEach((u,m)=>{c=c.insert(u,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,He()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,u)=>{t.set(c,u)})})}computeViews(e,t,r,i){let s=Ii();const c=ru(),u=function(){return ru()}();return t.forEach((m,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof Io)?s=s.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),au(y.mutation,p,y.mutation.getFieldMask(),Pt.now())):c.set(p.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var w;return u.set(p,new gU(y,(w=c.get(p))!==null&&w!==void 0?w:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ru();let i=new wt((c,u)=>c-u),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const u of c)u.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=r.get(m)||zn.empty();y=u.applyToLocalView(p,y),r.set(m,y);const w=(i.get(u.batchId)||He()).add(m);i=i.insert(u.batchId,w)})}).next(()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),p=m.key,y=m.value,w=jS();y.forEach(b=>{if(!s.has(b)){const k=GS(t.get(b),r.get(b));k!==null&&w.set(b,k),s=s.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ne.resolve(Rs());let u=-1,m=s;return c.next(p=>ne.forEach(p,(y,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,m,p,He())).next(y=>({batchId:u,changes:VS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,s).next(u=>ne.forEach(u,m=>{const p=function(w,b){return new Ba(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((w,b)=>{c=c.insert(w,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(c=>{s.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Bt.newInvalidDocument(y)))});let u=nu();return c.forEach((m,p)=>{const y=s.get(m);y!==void 0&&au(y.mutation,p,zn.empty(),Pt.now()),Nf(t,p)&&(u=u.insert(m,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:cU(i.bundledQuery),readTime:$n(i.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.overlays=new wt(Ie.comparator),this.dr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Rs();return ne.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=Rs(),s=t.length+1,c=new Ie(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const m=u.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new wt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=s.get(p.largestBatchId);y===null&&(y=Rs(),s=s.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=Rs(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>u.set(p,y)),!(u.size()>=i)););return ne.resolve(u)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jj(t,r));let s=this.dr.get(t);s===void 0&&(s=He(),this.dr.set(t,s)),this.dr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Er=new Lt(qt.Ar),this.Rr=new Lt(qt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new qt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new qt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ie(new st([])),r=new qt(t,e),i=new qt(t,e+1),s=[];return this.Rr.forEachInRange([r,i],c=>{this.gr(c),s.push(c.key)}),s}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new st([])),r=new qt(t,e),i=new qt(t,e+1);let s=He();return this.Rr.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new qt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Lt(qt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Vj(s,t,r,i);this.mutationQueue.push(c);for(const u of i)this.vr=this.vr.add(new qt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qt(t,0),i=new qt(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],c=>{const u=this.Cr(c.br);s.push(u)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lt(Ge);return t.forEach(i=>{const s=new qt(i,0),c=new qt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,c],u=>{r=r.add(u.br)})}),ne.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const c=new qt(new Ie(s),0);let u=new Lt(Ge);return this.vr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(m.br)),!0)},c),ne.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ne.forEach(t.mutations,i=>{const s=new qt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new qt(t,0),i=this.vr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.Nr=e,this.docs=function(){return new wt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=Ii();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ii();const c=t.path,u=new Ie(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ej(XV(y),r)<=0||(i.has(y.key)||Nf(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ce()}Br(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TU(this)}getSize(e){return ne.resolve(this.size)}}class TU extends pU{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.persistence=e,this.Lr=new ks(t=>Ey(t),by),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ny,this.targetCount=0,this.Qr=Wa.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Wa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Lr.forEach((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Lr.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Tf(0),this.Ur=!1,this.Ur=!0,this.Wr=new wU,this.referenceDelegate=e(this),this.Gr=new AU(this),this.indexManager=new lU,this.remoteDocumentCache=function(i){return new bU(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new aU(t),this.jr=new _U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new EU(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new SU(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return ne.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class SU extends nj{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.Zr=new Ny,this.Xr=null}static ei(e){return new Dy(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,r=>{const i=Ie.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class qf{constructor(e,t){this.persistence=e,this.ri=new ks(r=>oj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hU(this,t)}static ei(e,t){return new qf(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?ne.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Br(e,c=>this.ir(e,c,t).next(u=>{u||(r++,s.removeEntry(c,Oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rf(e.data.value)),t}ir(e,t,r){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=He(),i=He();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new My(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TF()?8:rj(ln())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Xi(e,t).next(c=>{s.result=c}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(c=>{s.result=c})}).next(()=>{if(s.result)return;const c=new IU;return this.ts(e,t,c).next(u=>{if(s.result=u,this.Hi)return this.ns(e,t,c,u.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Fa()<=qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Fa()<=qe.DEBUG&&_e("QueryEngine","Query:",qa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Fa()<=qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):ne.resolve())}Xi(e,t){if(NS(t))return ne.resolve(null);let r=ti(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xf(t,null,"F"),r=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=He(...s);return this.Zi.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.rs(t,u);return this.ss(t,p,c,m.readTime)?this.Xi(e,xf(t,null,"F")):this.os(e,p,t,m)}))})))}es(e,t,r,i){return NS(t)||i.isEqual(Oe.min())?ne.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const c=this.rs(t,s);return this.ss(t,c,r,i)?ne.resolve(null):(Fa()<=qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(t)),this.os(e,c,t,ZV(i,-1)).next(u=>u))})}rs(e,t){let r=new Lt(LS(e));return t.forEach((i,s)=>{Nf(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return Fa()<=qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",qa(t)),this.Zi.getDocumentsMatchingQuery(e,t,Eo.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new wt(Ge),this.cs=new ks(s=>Ey(s),by),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function PU(n,e,t,r){return new RU(n,e,t,r)}async function _I(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],u=[];let m=He();for(const p of i){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of s){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(r,m).next(p=>({Ts:p,removedBatchIds:c,addedBatchIds:u}))})})}function CU(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,m,p,y){const w=p.batch,b=w.keys();let k=ne.resolve();return b.forEach(C=>{k=k.next(()=>y.getEntry(m,C)).next(D=>{const N=p.docVersions.get(C);Qe(N!==null),D.version.compareTo(N)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(m,w))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let m=He();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(m=m.add(u.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vI(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function xU(n,e){const t=Me(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((y,w)=>{const b=i.get(w);if(!b)return;u.push(t.Gr.removeMatchingKeys(s,y.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(s,y.addedDocuments,w)));let k=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(en.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,r)),i=i.insert(w,k),function(D,N,F){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,k,y)&&u.push(t.Gr.updateTargetData(s,k))});let m=Ii(),p=He();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),u.push(OU(s,c,e.documentUpdates).next(y=>{m=y.Is,p=y.ds})),!r.isEqual(Oe.min())){const y=t.Gr.getLastRemoteSnapshotVersion(s).next(w=>t.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(y)}return ne.waitFor(u).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,p)).next(()=>m)}).then(s=>(t.us=i,s))}function OU(n,e,t){let r=He(),i=He();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=Ii();return t.forEach((u,m)=>{const p=s.get(u);m.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(u,m.readTime),c=c.insert(u,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(u,m)):_e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",m.version)}),{Is:c,ds:i}})}function NU(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DU(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):t.Gr.allocateTargetId(r).next(c=>(i=new ko(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Ly(n,e,t){const r=Me(n),i=r.us.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Ua(c))throw c;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function wI(n,e,t){const r=Me(n);let i=Oe.min(),s=He();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const w=Me(m),b=w.cs.get(y);return b!==void 0?ne.resolve(w.us.get(b)):w.Gr.getTargetData(p,y)}(r,c,ti(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,u.targetId).next(m=>{s=m})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,t?i:Oe.min(),t?s:He())).next(u=>(MU(r,Tj(e),u),{documents:u,Es:s})))}function MU(n,e,t){let r=n.ls.get(e)||Oe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ls.set(e,r)}class EI{constructor(){this.activeTargetIds=Pj()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LU{constructor(){this._o=new EI,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new EI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function Fy(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class UU extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,c){const u=Fy(),m=this.No(t,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${t}' ${u}:`,m,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,s,c),this.Lo(t,m,p,i).then(y=>(_e("RestConnection",`Received RPC '${t}' ${u}: `,y),y),y=>{throw Kl("RestConnection",`RPC '${t}' ${u} failed with error: `,y,"url: ",m,"request:",i),y})}ko(t,r,i,s,c,u){return this.Oo(t,r,i,s,c)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,c)=>t[c]=s),i&&i.headers.forEach((s,c)=>t[c]=s)}No(t,r){const i=VU[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const s=Fy();return new Promise((c,u)=>{const m=new sS;m.setWithCredentials(!0),m.listenOnce(aS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case bf.NO_ERROR:const y=m.getResponseJson();_e(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),c(y);break;case bf.TIMEOUT:_e(un,`RPC '${e}' ${s} timed out`),u(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const w=m.getStatus();if(_e(un,`RPC '${e}' ${s} failed with status:`,w,"response text:",m.getResponseText()),w>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const k=b==null?void 0:b.error;if(k&&k.status&&k.message){const C=function(N){const F=N.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN}(k.status);u(new he(C,k.message))}else u(new he(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{_e(un,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);_e(un,`RPC '${e}' ${s} sending request:`,i),m.send(t,"POST",p,r,15)})}qo(e,t,r){const i=Fy(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uS(),u=lS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Bo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=s.join("");_e(un,`Creating RPC '${e}' stream ${i}: ${y}`,m);const w=c.createWebChannel(y,m);let b=!1,k=!1;const C=new jU({Eo:N=>{k?_e(un,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(b||(_e(un,`Opening RPC '${e}' stream ${i} transport.`),w.open(),b=!0),_e(un,`RPC '${e}' stream ${i} sending:`,N),w.send(N))},Ao:()=>w.close()}),D=(N,F,q)=>{N.listen(F,G=>{try{q(G)}catch(re){setTimeout(()=>{throw re},0)}})};return D(w,Wl.EventType.OPEN,()=>{k||(_e(un,`RPC '${e}' stream ${i} transport opened.`),C.So())}),D(w,Wl.EventType.CLOSE,()=>{k||(k=!0,_e(un,`RPC '${e}' stream ${i} transport closed`),C.Do())}),D(w,Wl.EventType.ERROR,N=>{k||(k=!0,Kl(un,`RPC '${e}' stream ${i} transport errored:`,N),C.Do(new he(te.UNAVAILABLE,"The operation could not be completed")))}),D(w,Wl.EventType.MESSAGE,N=>{var F;if(!k){const q=N.data[0];Qe(!!q);const G=q,re=(G==null?void 0:G.error)||((F=G[0])===null||F===void 0?void 0:F.error);if(re){_e(un,`RPC '${e}' stream ${i} received error:`,re);const Q=re.status;let K=function(A){const P=xt[A];if(P!==void 0)return XS(P)}(Q),x=re.message;K===void 0&&(K=te.INTERNAL,x="Unknown error status: "+Q+" with message "+re.message),k=!0,C.Do(new he(K,x)),w.close()}else _e(un,`RPC '${e}' stream ${i} received:`,q),C.vo(q)}}),D(u,cS.STAT_EVENT,N=>{N.stat===hy.PROXY?_e(un,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hy.NOPROXY&&_e(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){return new Wj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,r,i,s,c,u,m){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new jy(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zU extends TI{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Yj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?$n(c.readTime):Oe.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Oy(this.serializer),t.addTarget=function(s,c){let u;const m=c.target;if(u=Ty(m)?{documents:Xj(s,m)}:{query:eU(s,m).ct},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=sI(s,c.resumeToken);const p=Py(s,c.expectedCount);p!==null&&(u.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){u.readTime=$f(s,c.snapshotVersion.toTimestamp());const p=Py(s,c.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=nU(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Oy(this.serializer),t.removeTarget=e,this.c_(t)}}class $U extends TI{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Zj(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Oy(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dI(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Oo(e,xy(t,r),i,s,c)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(te.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.ko(e,xy(t,r),i,c,u,s)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ai(t),this.C_=!1):_e("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{Ps(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=Me(m);p.k_.add(4),await fu(p),p.K_.set("Unknown"),p.k_.delete(4),await Wf(p)}(this))})}),this.K_=new qU(r,i)}}async function Wf(n){if(Ps(n))for(const e of n.q_)await e(!0)}async function fu(n){for(const e of n.q_)await e(!1)}function AI(n,e){const t=Me(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),By(t)?$y(t):Ka(t).s_()&&zy(t,e))}function Uy(n,e){const t=Me(n),r=Ka(t);t.L_.delete(e),r.s_()&&SI(t,e),t.L_.size===0&&(r.s_()?r.a_():Ps(t)&&t.K_.set("Unknown"))}function zy(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).V_(e)}function SI(n,e){n.U_.xe(e),Ka(n).m_(e)}function $y(n){n.U_=new Bj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.K_.F_()}function By(n){return Ps(n)&&!Ka(n).i_()&&n.L_.size>0}function Ps(n){return Me(n).k_.size===0}function II(n){n.U_=void 0}async function GU(n){n.K_.set("Online")}async function WU(n){n.L_.forEach((e,t)=>{zy(n,e)})}async function KU(n,e){II(n),By(n)?(n.K_.O_(e),$y(n)):n.K_.set("Unknown")}async function QU(n,e,t){if(n.K_.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await async function(i,s){const c=s.cause;for(const u of s.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.L_.delete(u),i.U_.removeTarget(u))}(n,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kf(n,r)}else if(e instanceof Uf?n.U_.$e(e):e instanceof nI?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const r=await vI(n.localStore);t.compareTo(r)>=0&&await function(s,c){const u=s.U_.it(c);return u.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=s.L_.get(p);y&&s.L_.set(p,y.withResumeToken(m.resumeToken,c))}}),u.targetMismatches.forEach((m,p)=>{const y=s.L_.get(m);if(!y)return;s.L_.set(m,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),SI(s,m);const w=new ko(y.target,m,p,y.sequenceNumber);zy(s,w)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await Kf(n,r)}}async function Kf(n,e,t){if(!Ua(e))throw e;n.k_.add(1),await fu(n),n.K_.set("Offline"),t||(t=()=>vI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Wf(n)})}function kI(n,e){return e().catch(t=>Kf(n,t,e))}async function Qf(n){const e=Me(n),t=Ro(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;JU(e);)try{const i=await NU(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,YU(e,i)}catch(i){await Kf(e,i)}RI(e)&&PI(e)}function JU(n){return Ps(n)&&n.B_.length<10}function YU(n,e){n.B_.push(e);const t=Ro(n);t.s_()&&t.f_&&t.g_(e.mutations)}function RI(n){return Ps(n)&&!Ro(n).i_()&&n.B_.length>0}function PI(n){Ro(n).start()}async function ZU(n){Ro(n).w_()}async function XU(n){const e=Ro(n);for(const t of n.B_)e.g_(t.mutations)}async function e4(n,e,t){const r=n.B_.shift(),i=ky.from(r,e,t);await kI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Qf(n)}async function t4(n,e){e&&Ro(n).f_&&await async function(r,i){if(function(c){return ZS(c)&&c!==te.ABORTED}(i.code)){const s=r.B_.shift();Ro(r).__(),await kI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qf(r)}}(n,e),RI(n)&&PI(n)}async function CI(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Ps(t);t.k_.add(3),await fu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Wf(t)}async function n4(n,e){const t=Me(n);e?(t.k_.delete(2),await Wf(t)):e||(t.k_.add(2),await fu(t),t.K_.set("Unknown"))}function Ka(n){return n.W_||(n.W_=function(t,r,i){const s=Me(t);return s.b_(),new zU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:GU.bind(null,n),mo:WU.bind(null,n),po:KU.bind(null,n),R_:QU.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),By(n)?$y(n):n.K_.set("Unknown")):(await n.W_.stop(),II(n))})),n.W_}function Ro(n){return n.G_||(n.G_=function(t,r,i){const s=Me(t);return s.b_(),new $U(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ZU.bind(null,n),po:t4.bind(null,n),p_:XU.bind(null,n),y_:e4.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Qf(n)):(await n.G_.stop(),n.B_.length>0&&(_e("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,u=new qy(e,t,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),Ua(n))return new he(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.z_=new wt(Ie.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ja{constructor(e,t,r,i,s,c,u,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(u=>{c.push({type:0,doc:u})}),new Ja(e,t,Qa.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class i4{constructor(){this.queries=OI(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Me(t),s=i.queries;i.queries=OI(),s.forEach((c,u)=>{for(const m of u.J_)m.onError(r)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function OI(){return new ks(n=>MS(n),Of)}async function NI(n,e){const t=Me(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new r4,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await t.onListen(i,!0);break;case 1:s.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const u=Hy(c,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.J_.push(e),e.ea(t.onlineState),s.H_&&e.ta(s.H_)&&Gy(t)}async function DI(n,e){const t=Me(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const c=s.J_.indexOf(e);c>=0&&(s.J_.splice(c,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function o4(n,e){const t=Me(n);let r=!1;for(const i of e){const s=i.query,c=t.queries.get(s);if(c){for(const u of c.J_)u.ta(i)&&(r=!0);c.H_=i}}r&&Gy(t)}function s4(n,e,t){const r=Me(n),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(t);r.queries.delete(e)}function Gy(n){n.X_.forEach(e=>{e.next()})}var Wy,MI;(MI=Wy||(Wy={})).na="default",MI.Cache="cache";class LI{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class VI{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=He(),this.mutatedKeys=He(),this.Va=LS(e),this.ma=new Qa(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new xI,i=t?t.ma:this.ma;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,u=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const b=i.get(y),k=Nf(this.query,w)?w:null,C=!!b&&this.mutatedKeys.has(b.key),D=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let N=!1;b&&k?b.data.isEqual(k.data)?C!==D&&(r.track({type:3,doc:k}),N=!0):this.ya(b,k)||(r.track({type:2,doc:k}),N=!0,(m&&this.Va(k,m)>0||p&&this.Va(k,p)<0)&&(u=!0)):!b&&k?(r.track({type:0,doc:k}),N=!0):b&&!k&&(r.track({type:1,doc:b}),N=!0,(m||p)&&(u=!0)),N&&(k?(c=c.add(k),s=D?s.add(y):s.delete(y)):(c=c.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{ma:c,pa:r,ss:u,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((y,w)=>function(k,C){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return D(k)-D(C)}(y.type,w.type)||this.Va(y.doc,w.doc)),this.wa(r),i=i!=null&&i;const u=t&&!i?this.Sa():[],m=this.Ra.size===0&&this.current&&!i?1:0,p=m!==this.Aa;return this.Aa=m,c.length!==0||p?{snapshot:new Ja(this.query,e.ma,s,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xI,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=He(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new VI(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new FI(r))}),t}va(e){this.Ea=e.Es,this.Ra=He();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ja.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class c4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class l4{constructor(e){this.key=e,this.Fa=!1}}class u4{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ks(u=>MS(u),Of),this.Oa=new Map,this.Na=new Set,this.Ba=new wt(Ie.comparator),this.La=new Map,this.ka=new Ny,this.qa={},this.Qa=new Map,this.Ka=Wa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function d4(n,e,t=!0){const r=GI(n);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await jI(r,e,t,!0),i}async function f4(n,e){const t=GI(n);await jI(t,e,!0,!1)}async function jI(n,e,t,r){const i=await DU(n.localStore,ti(e)),s=i.targetId,c=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await m4(n,e,s,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&AI(n.remoteStore,i),u}async function m4(n,e,t,r,i){n.Ua=(w,b,k)=>async function(D,N,F,q){let G=N.view.ga(F);G.ss&&(G=await wI(D.localStore,N.query,!1).then(({documents:x})=>N.view.ga(x,G)));const re=q&&q.targetChanges.get(N.targetId),Q=q&&q.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(G,D.isPrimaryClient,re,Q);return HI(D,N.targetId,K.ba),K.snapshot}(n,w,b,k);const s=await wI(n.localStore,e,!0),c=new a4(e,s.Es),u=c.ga(s.documents),m=uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=c.applyChanges(u,n.isPrimaryClient,m);HI(n,t,p.ba);const y=new c4(e,t,c);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function h4(n,e,t){const r=Me(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(c=>!Of(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ly(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Uy(r.remoteStore,i.targetId),Ky(r,i.targetId)}).catch(ja)):(Ky(r,i.targetId),await Ly(r.localStore,i.targetId,!0))}async function p4(n,e){const t=Me(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Uy(t.remoteStore,r.targetId))}async function g4(n,e,t){const r=T4(n);try{const i=await function(c,u){const m=Me(c),p=Pt.now(),y=u.reduce((k,C)=>k.add(C.key),He());let w,b;return m.persistence.runTransaction("Locally write mutations","readwrite",k=>{let C=Ii(),D=He();return m.hs.getEntries(k,y).next(N=>{C=N,C.forEach((F,q)=>{q.isValidDocument()||(D=D.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(k,C)).next(N=>{w=N;const F=[];for(const q of u){const G=Fj(q,w.get(q.key).overlayedDocument);G!=null&&F.push(new Io(q.key,G,TS(G.value.mapValue),tn.exists(!0)))}return m.mutationQueue.addMutationBatch(k,p,F,u)}).next(N=>{b=N;const F=N.applyToLocalDocumentSet(w,D);return m.documentOverlayCache.saveOverlays(k,N.batchId,F)})}).then(()=>({batchId:b.batchId,changes:VS(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,m){let p=c.qa[c.currentUser.toKey()];p||(p=new wt(Ge)),p=p.insert(u,m),c.qa[c.currentUser.toKey()]=p}(r,i.batchId,t),await mu(r,i.changes),await Qf(r.remoteStore)}catch(i){const s=Hy(i,"Failed to persist write");t.reject(s)}}async function UI(n,e){const t=Me(n);try{const r=await xU(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.La.get(s);c&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Fa=!0:i.modifiedDocuments.size>0?Qe(c.Fa):i.removedDocuments.size>0&&(Qe(c.Fa),c.Fa=!1))}),await mu(t,r,e)}catch(r){await ja(r)}}function zI(n,e,t){const r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((s,c)=>{const u=c.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(c,u){const m=Me(c);m.onlineState=u;let p=!1;m.queries.forEach((y,w)=>{for(const b of w.J_)b.ea(u)&&(p=!0)}),p&&Gy(m)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y4(n,e,t){const r=Me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),s=i&&i.key;if(s){let c=new wt(Ie.comparator);c=c.insert(s,Bt.newNoDocument(s,Oe.min()));const u=He().add(s),m=new jf(Oe.min(),new Map,new wt(Ge),c,u);await UI(r,m),r.Ba=r.Ba.remove(s),r.La.delete(e),Qy(r)}else await Ly(r.localStore,e,!1).then(()=>Ky(r,e,t)).catch(ja)}async function _4(n,e){const t=Me(n),r=e.batch.batchId;try{const i=await CU(t.localStore,e);BI(t,r,null),$I(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mu(t,i)}catch(i){await ja(i)}}async function v4(n,e,t){const r=Me(n);try{const i=await function(c,u){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,u).next(w=>(Qe(w!==null),y=w.keys(),m.mutationQueue.removeMutationBatch(p,w))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,e);BI(r,e,t),$I(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mu(r,i)}catch(i){await ja(i)}}function $I(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function BI(n,e,t){const r=Me(n);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||qI(n,r)})}function qI(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Uy(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Qy(n))}function HI(n,e,t){for(const r of t)r instanceof FI?(n.ka.addReference(r.key,e),w4(n,r)):r instanceof VI?(_e("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||qI(n,r.key)):Ce()}function w4(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(_e("SyncEngine","New document in limbo: "+t),n.Na.add(r),Qy(n))}function Qy(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(st.fromString(e)),r=n.Ka.next();n.La.set(r,new l4(t)),n.Ba=n.Ba.insert(t,r),AI(n.remoteStore,new ko(ti(Ay(t.path)),r,"TargetPurposeLimboResolution",Tf.oe))}}async function mu(n,e,t){const r=Me(n),i=[],s=[],c=[];r.xa.isEmpty()||(r.xa.forEach((u,m)=>{c.push(r.Ua(m,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(p){i.push(p);const w=My.zi(m.targetId,p);s.push(w)}}))}),await Promise.all(c),r.Ma.R_(i),await async function(m,p){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(p,b=>ne.forEach(b.Wi,k=>y.persistence.referenceDelegate.addReference(w,b.targetId,k)).next(()=>ne.forEach(b.Gi,k=>y.persistence.referenceDelegate.removeReference(w,b.targetId,k)))))}catch(w){if(!Ua(w))throw w;_e("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const k=y.us.get(b),C=k.snapshotVersion,D=k.withLastLimboFreeSnapshotVersion(C);y.us=y.us.insert(b,D)}}}(r.localStore,s))}async function E4(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await _I(t.localStore,e);t.currentUser=e,function(s,c){s.Qa.forEach(u=>{u.forEach(m=>{m.reject(new he(te.CANCELLED,c))})}),s.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(t,r.Ts)}}function b4(n,e){const t=Me(n),r=t.La.get(e);if(r&&r.Fa)return He().add(r.key);{let i=He();const s=t.Oa.get(e);if(!s)return i;for(const c of s){const u=t.xa.get(c);i=i.unionWith(u.view.fa)}return i}}function GI(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Ma.R_=o4.bind(null,e.eventManager),e.Ma.Wa=s4.bind(null,e.eventManager),e}function T4(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return PU(this.persistence,new kU,e.initialUser,this.serializer)}ja(e){return new yI(Dy.ei,this.serializer)}za(e){return new LU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class A4 extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof qf);const r=this.persistence.referenceDelegate.garbageCollector;return new fU(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new yI(r=>qf.ei(r,t),this.serializer)}}class Jy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await n4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i4}()}createDatastore(e){const t=Gf(e.databaseInfo.databaseId),r=function(s){return new UU(s)}(e.databaseInfo);return function(s,c,u,m){return new BU(s,c,u,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,c,u){return new HU(r,i,s,c,u)}(this.localStore,this.datastore,e.asyncQueue,t=>zI(this.syncEngine,t,0),function(){return bI.p()?new bI:new FU}())}createSyncEngine(e,t){return function(i,s,c,u,m,p,y){const w=new u4(i,s,c,u,m,p);return y&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Me(i);_e("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await fu(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jy.provider={build:()=>new Jy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const c=Me(i),u={documents:s.map(w=>Bf(c.serializer,w))},m=await c.ko("BatchGetDocuments",c.serializer.databaseId,st.emptyPath(),u,s.length),p=new Map;m.forEach(w=>{const b=Jj(c.serializer,w);p.set(b.key.toString(),b)});const y=[];return s.forEach(w=>{const b=p.get(w.toString());Qe(!!b),y.push(b)}),y}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=Ie.fromPath(r);this.mutations.push(new YS(i,this.precondition(i)))}),await async function(r,i){const s=Me(r),c={writes:i.map(u=>dI(s.serializer,u))};await s.Oo("Commit",s.serializer.databaseId,st.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ce();t=Oe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new he(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Oe.min())?tn.exists(!1):tn.updateTime(t):tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Oe.min()))throw new he(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(t)}return tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.uu=r.maxAttempts,this.r_=new jy(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new S4(this.datastore),t=this.hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Pu(i)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const t=this.updateFunction(e);return!Ql(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ZS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=fS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async c=>{_e("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(_e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yy(n,e){n.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _I(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function KI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await R4(n);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CI(e.remoteStore,i)),n._onlineComponents=e}async function R4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Kl("Error using user provided cache. Falling back to memory cache: "+t),await Yy(n,new Jf)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Yy(n,new A4(void 0));return n._offlineComponents}async function Zy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await KI(n,n._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await KI(n,new Jy))),n._onlineComponents}function P4(n){return Zy(n).then(e=>e.syncEngine)}function C4(n){return Zy(n).then(e=>e.datastore)}async function Xy(n){const e=await Zy(n),t=e.eventManager;return t.onListen=d4.bind(null,e.syncEngine),t.onUnlisten=h4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),t}function x4(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(s,c,u,m,p){const y=new WI({next:b=>{y.eu(),c.enqueueAndForget(()=>DI(s,w)),b.fromCache&&m.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new LI(u,y,{includeMetadataChanges:!0,ua:!0});return NI(s,w)}(await Xy(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O4(n,e,t,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZI(n){if(!Ie.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XI(n){if(Ie.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yf(n);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ek({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ek(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qV;switch(r.type){case"firstParty":return new WV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=JI.get(t);r&&(_e("ComponentProvider","Removing Datastore"),JI.delete(t),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Po extends ki{constructor(e,t,r){super(e,t,Ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Ie(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function t_(n,e,...t){if(n=Mt(n),YI("collection","path",e),n instanceof e_){const r=st.fromString(e,...t);return XI(r),new Po(n,null,r)}{if(!(n instanceof dn||n instanceof Po))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return XI(r),new Po(n.firestore,null,r)}}function ni(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=fS.newId()),YI("doc","path",e),n instanceof e_){const r=st.fromString(e,...t);return ZI(r),new dn(n,null,new Ie(r))}{if(!(n instanceof dn||n instanceof Po))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return ZI(r),new dn(n.firestore,n instanceof Po?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new jy(this,"async_queue_retry"),this.fu=()=>{const r=Vy();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Vy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Vy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Si;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ua(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),u}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=qy.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.Eu.push(i),i}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function nk(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Ri extends e_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tk(e),this._firestoreClient=void 0,await e}}}function N4(n,e,t){t||(t="(default)");const r=fy(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),s=r.getOptions(t);if(ql(s,e))return i;throw new he(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:t})}function Zf(n){if(n._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||D4(n),n._firestoreClient}function D4(n){var e,t,r;const i=n._freezeSettings(),s=function(u,m,p,y){return new cj(u,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,QI(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new k4(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const m=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(en.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cs(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class L4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}class rk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ik(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class i_{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new i_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return tm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ik(this.Mu)&&M4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class F4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gf(e)}$u(e,t,r,i=!1){return new i_({Mu:e,methodName:t,Ku:r,path:Zt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(n){const e=n._freezeSettings(),t=Gf(n._databaseId);return new F4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function o_(n,e,t,r,i,s={}){const c=n.$u(s.merge||s.mergeFields?2:0,e,t,i);a_("Data must be an object, but it was:",c,r);const u=ak(r,c);let m,p;if(s.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(s.mergeFields){const y=[];for(const w of s.mergeFields){const b=c_(e,w,t);if(!c.contains(b))throw new he(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);lk(y,b)||y.push(b)}m=new zn(y),p=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,p=c.fieldTransforms;return new L4(new wn(u),m,p)}class em extends Xf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}class s_ extends Xf{_toFieldTransform(e){return new Nj(e.path,new iu)}isEqual(e){return e instanceof s_}}function ok(n,e,t,r){const i=n.$u(1,e,t);a_("Data must be an object, but it was:",i,r);const s=[],c=wn.empty();bo(r,(m,p)=>{const y=l_(e,m,t);p=Mt(p);const w=i.Lu(y);if(p instanceof em)s.push(y);else{const b=gu(p,w);b!=null&&(s.push(y),c.set(y,b))}});const u=new zn(s);return new rk(c,u,i.fieldTransforms)}function sk(n,e,t,r,i,s){const c=n.$u(1,e,t),u=[c_(e,r,t)],m=[i];if(s.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(c_(e,s[b])),m.push(s[b+1]);const p=[],y=wn.empty();for(let b=u.length-1;b>=0;--b)if(!lk(p,u[b])){const k=u[b];let C=m[b];C=Mt(C);const D=c.Lu(k);if(C instanceof em)p.push(k);else{const N=gu(C,D);N!=null&&(p.push(k),y.set(k,N))}}const w=new zn(p);return new rk(y,w,c.fieldTransforms)}function V4(n,e,t,r=!1){return gu(t,n.$u(r?4:3,e))}function gu(n,e){if(ck(n=Mt(n)))return a_("Unsupported field value:",e,n),ak(n,e);if(n instanceof Xf)return function(r,i){if(!ik(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let c=0;for(const u of r){let m=gu(u,i.ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),s.push(m),c++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof n_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:sI(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof r_)return function(c,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw u.qu("VectorValues must only contain numeric values.");return Iy(u.serializer,m)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Yf(r)}`)}(n,e)}function ak(n,e){const t={};return pS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(n,(r,i)=>{const s=gu(i,e.Ou(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function ck(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof n_||n instanceof Cs||n instanceof dn||n instanceof Xf||n instanceof r_)}function a_(n,e,t){if(!ck(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Yf(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function c_(n,e,t){if((e=Mt(e))instanceof hu)return e._internalPath;if(typeof e=="string")return l_(n,e);throw tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const j4=new RegExp("[~\\*/\\[\\]]");function l_(n,e,t){if(e.search(j4)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hu(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tm(n,e,t,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(s||c)&&(m+=" (found",s&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new he(te.INVALID_ARGUMENT,u+n+m)}function lk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U4 extends nm{data(){return super.data()}}function rm(n,e){return typeof e=="string"?l_(n,e):e instanceof hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}class d_ extends u_{}function f_(n,e,...t){let r=[];e instanceof u_&&r.push(e),r=r.concat(t),function(s){const c=s.filter(m=>m instanceof m_).length,u=s.filter(m=>m instanceof im).length;if(c>1||c>0&&u>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class im extends d_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new im(e,t,r)}_apply(e){const t=this._parse(e);return hk(e._query,t),new ki(e.firestore,e.converter,Sy(e._query,t))}_parse(e){const t=pu(e.firestore);return function(s,c,u,m,p,y,w){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){mk(w,y);const k=[];for(const C of w)k.push(fk(m,s,C));b={arrayValue:{values:k}}}else b=fk(m,s,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||mk(w,y),b=V4(u,c,w,y==="in"||y==="not-in");return Ct.create(p,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function z4(n,e,t){const r=e,i=rm("where",n);return im._create(i,r,t)}class m_ extends u_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let c=i;const u=s.getFlattenedFilters();for(const m of u)hk(c,m),c=Sy(c,m)}(e._query,t),new ki(e.firestore,e.converter,Sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h_ extends d_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new h_(e,t)}_apply(e){const t=function(i,s,c){if(i.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(s,c)}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(i,s){const c=i.explicitOrderBy.concat([s]);return new Ba(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function dk(n,e="asc"){const t=e,r=rm("orderBy",n);return h_._create(r,t)}class p_ extends d_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new p_(e,t,r)}_apply(e){return new ki(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function $4(n){return p_._create("limit",n,"F")}function fk(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!Ie.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wS(n,new Ie(r))}if(t instanceof dn)return wS(n,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(t)}.`)}function mk(n,e){if(!Array.isArray(n)||n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hk(n,e){const t=function(i,s){for(const c of i)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pk{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>It(c.doubleValue));return new r_(s)}convertGeoPoint(e){return new n_(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=If(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=To(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Qe(hI(r));const i=new Yl(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(t)||Ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class B4 extends pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y_ extends nm{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class om extends y_{data(e={}){return super.data(e)}}class gk{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new om(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(u=>{const m=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ya(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const m=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ya(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),y=c.indexOf(u.doc.key)),{type:q4(u.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class sm extends pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function H4(n){n=tr(n,ki);const e=tr(n.firestore,Ri),t=Zf(e),r=new sm(e);return uk(n._query),x4(t,n._query).then(i=>new gk(e,r,n,i))}function G4(n,e,t){n=tr(n,dn);const r=tr(n.firestore,Ri),i=g_(n.converter,e,t);return am(r,[o_(pu(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,tn.none())])}function W4(n,e,t,...r){n=tr(n,dn);const i=tr(n.firestore,Ri),s=pu(i);let c;return c=typeof(e=Mt(e))=="string"||e instanceof hu?sk(s,"updateDoc",n._key,e,t,r):ok(s,"updateDoc",n._key,e),am(i,[c.toMutation(n._key,tn.exists(!0))])}function K4(n){return am(tr(n.firestore,Ri),[new Vf(n._key,tn.none())])}function Q4(n,e){const t=tr(n.firestore,Ri),r=ni(n),i=g_(n.converter,e);return am(t,[o_(pu(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then(()=>r)}function __(n,...e){var t,r,i;n=Mt(n);let s={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||nk(e[c])||(s=e[c],c++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nk(e[c])){const w=e[c];e[c]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[c+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[c+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let m,p,y;if(n instanceof dn)p=tr(n.firestore,Ri),y=Ay(n._key.path),m={next:w=>{e[c]&&e[c](J4(p,n,w))},error:e[c+1],complete:e[c+2]};else{const w=tr(n,ki);p=tr(w.firestore,Ri),y=w._query;const b=new sm(p);m={next:k=>{e[c]&&e[c](new gk(p,b,w,k))},error:e[c+1],complete:e[c+2]},uk(n._query)}return function(b,k,C,D){const N=new WI(D),F=new LI(k,N,C);return b.asyncQueue.enqueueAndForget(async()=>NI(await Xy(b),F)),()=>{N.eu(),b.asyncQueue.enqueueAndForget(async()=>DI(await Xy(b),F))}}(Zf(p),y,u,m)}function am(n,e){return function(r,i){const s=new Si;return r.asyncQueue.enqueueAndForget(async()=>g4(await P4(r),i,s)),s.promise}(Zf(n),e)}function J4(n,e,t){const r=t.docs.get(e._key),i=new sm(n);return new y_(n,i,e._key,r,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={maxAttempts:5};function yu(n,e){if((n=Mt(n)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4 extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=pu(t)}get(t){const r=yu(t,this._firestore),i=new B4(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Ce();const c=s[0];if(c.isFoundDocument())return new nm(this._firestore,i,c.key,c,r.converter);if(c.isNoDocument())return new nm(this._firestore,i,r._key,null,r.converter);throw Ce()})}set(t,r,i){const s=yu(t,this._firestore),c=g_(s.converter,r,i),u=o_(this._dataReader,"Transaction.set",s._key,c,s.converter!==null,i);return this._transaction.set(s._key,u),this}update(t,r,i,...s){const c=yu(t,this._firestore);let u;return u=typeof(r=Mt(r))=="string"||r instanceof hu?sk(this._dataReader,"Transaction.update",c._key,r,i,s):ok(this._dataReader,"Transaction.update",c._key,r),this._transaction.update(c._key,u),this}delete(t){const r=yu(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yu(e,this._firestore),r=new sm(this._firestore);return super.get(e).then(i=>new y_(this._firestore,r,t._key,i._document,new Ya(!1,!1),t.converter))}}function X4(n,e,t){n=tr(n,Ri);const r=Object.assign(Object.assign({},Y4),t);return function(s){if(s.maxAttempts<1)throw new he(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,c,u){const m=new Si;return s.asyncQueue.enqueueAndForget(async()=>{const p=await C4(s);new I4(s.asyncQueue,p,u,c,m).cu()}),m.promise}(Zf(n),i=>e(new Z4(n,i)),r)}function cm(){return new s_("serverTimestamp")}(function(e,t=!0){(function(i){La=i})(Ma),Da(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new Ri(new HV(r.getProvider("auth-internal")),new QV(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(p.options.projectId,y)}(c,i),c);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),vo(dS,"4.7.6",e),vo(dS,"4.7.6","esm2017")})();class ez{constructor(e){const t=ZA(e);this.instance=t,this.database=N4(t,{experimentalForceLongPolling:!0})}async transaction(e){return X4(this.database,e)}async insertOne(e,t){return(await Q4(e,t)).id}async deleteOne(e){await K4(e)}async updateOne(e,t){await W4(e,t)}async getAll(e){return(await H4(e)).docs.map(r=>r.data())}subscribeMany(e,t){return __(e,i=>{const s=i.docs.map(c=>c.data());t(s)})}subscribeOneByQuery(e,t){return __(e,r=>{r.docs[0]&&t(r.docs[0].data())})}subscribeOneByDoc(e,t){return __(e,r=>t(r.data()))}}function yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tz=yk,_k=new Bl("auth","Firebase",yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new ny("@firebase/auth");function nz(n,...e){lm.logLevel<=qe.WARN&&lm.warn(`Auth (${Ma}): ${n}`,...e)}function um(n,...e){lm.logLevel<=qe.ERROR&&lm.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,...e){throw v_(n,...e)}function ri(n,...e){return v_(n,...e)}function vk(n,e,t){const r=Object.assign(Object.assign({},tz()),{[e]:t});return new Bl("auth","Firebase",r).create(e,{appName:n.name})}function Co(n){return vk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _k.create(n,...e)}function Le(n,e,...t){if(!n)throw v_(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw um(e),new Error(e)}function xi(n,e){n||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rz(){return wk()==="http:"||wk()==="https:"}function wk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rz()||wF()||"connection"in navigator)?navigator.onLine:!0}function oz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=yF()||EF()}get(){return iz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new _u(3e4,6e4);function dm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Za(n,e,t,r,i={}){return Ek(n,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const u=Hl(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},s);return vF()||(p.referrerPolicy="no-referrer"),b_.fetch()(Tk(n,n.config.apiHost,t,u),p)})}async function Ek(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sz),e);try{const i=new cz(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw fm(n,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const u=s.ok?c.errorMessage:c.error.message,[m,p]=u.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw fm(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw fm(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw fm(n,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vk(n,y,p);Pi(n,y)}}catch(i){if(i instanceof Ei)throw i;Pi(n,"network-request-failed",{message:String(i)})}}async function bk(n,e,t,r,i={}){const s=await Za(n,e,t,r,i);return"mfaPendingCredential"in s&&Pi(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Tk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?E_(n.config,i):`${n.config.apiScheme}://${i}`}class cz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),az.get())})}}function fm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ri(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(n,e){return Za(n,"POST","/v1/accounts:delete",e)}async function Ak(n,e){return Za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uz(n,e=!1){const t=Mt(n),r=await t.getIdToken(e),i=A_(r);Le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vu(T_(i.auth_time)),issuedAtTime:vu(T_(i.iat)),expirationTime:vu(T_(i.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function T_(n){return Number(n)*1e3}function A_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return um("JWT malformed, contained fewer than 3 sections"),null;try{const i=zA(t);return i?JSON.parse(i):(um("Failed to decode base64 JWT payload"),null)}catch(i){return um("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Sk(n){const e=A_(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ei&&dz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await wu(n,Ak(t,{idToken:r}));Le(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const c=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ik(s.providerUserInfo):[],u=hz(n.providerData,c),m=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),y=m?p:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new S_(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function mz(n){const e=Mt(n);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ik(n){return n.map(e=>{var{providerId:t}=e,r=bg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(n,e){const t=await Ek(n,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,c=Tk(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",b_.fetch()(c,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gz(n,e){return Za(n,"POST","/v2/accounts:revokeToken",dm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=Sk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await pz(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,c=new Xa;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(Le(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uz(this,e)}reload(){return mz(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Co(this.auth));const e=await this.getIdToken();return await wu(this,lz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,c,u,m,p,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,k=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(u=t.tenantId)!==null&&u!==void 0?u:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:re,isAnonymous:Q,providerData:K,stsTokenManager:x}=t;Le(G&&x,e,"internal-error");const I=Xa.fromJSON(this.name,x);Le(typeof G=="string",e,"internal-error"),xo(w,e.name),xo(b,e.name),Le(typeof re=="boolean",e,"internal-error"),Le(typeof Q=="boolean",e,"internal-error"),xo(k,e.name),xo(C,e.name),xo(D,e.name),xo(N,e.name),xo(F,e.name),xo(q,e.name);const A=new Oi({uid:G,auth:e,email:b,emailVerified:re,displayName:w,isAnonymous:Q,photoURL:C,phoneNumber:k,tenantId:D,stsTokenManager:I,createdAt:F,lastLoginAt:q});return K&&Array.isArray(K)&&(A.providerData=K.map(P=>Object.assign({},P))),N&&(A._redirectEventId=N),A}static async _fromIdTokenResponse(e,t,r=!1){const i=new Xa;i.updateFromServerResponse(t);const s=new Oi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ik(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Xa;u.updateFromIdToken(r);const m=new Oi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Map;function Ni(n){xi(n instanceof Function,"Expected a class definition");let e=kk.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kk.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rk.type="NONE";const Pk=Rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n,e,t){return`firebase:${n}:${e}:${t}`}class ec{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hm(this.userKey,i.apiKey,s),this.fullPersistenceKey=hm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ec(Ni(Pk),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=i[0]||Ni(Pk);const c=hm(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(c);if(y){const w=Oi._fromJSON(e,y);p!==s&&(u=w),s=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!m.length?new ec(s,e,r):(s=m[0],u&&await s._set(c,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==s)try{await p._remove(c)}catch{}})),new ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lk(e))return"Blackberry";if(Fk(e))return"Webos";if(Ok(e))return"Safari";if((e.includes("chrome/")||Nk(e))&&!e.includes("edge/"))return"Chrome";if(Mk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xk(n=ln()){return/firefox\//i.test(n)}function Ok(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nk(n=ln()){return/crios\//i.test(n)}function Dk(n=ln()){return/iemobile/i.test(n)}function Mk(n=ln()){return/android/i.test(n)}function Lk(n=ln()){return/blackberry/i.test(n)}function Fk(n=ln()){return/webos/i.test(n)}function I_(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yz(n=ln()){var e;return I_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _z(){return bF()&&document.documentMode===10}function Vk(n=ln()){return I_(n)||Mk(n)||Fk(n)||Lk(n)||/windows phone/i.test(n)||Dk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n,e=[]){let t;switch(n){case"Browser":t=Ck(ln());break;case"Worker":t=`${Ck(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((c,u)=>{try{const m=e(s);c(m)}catch(m){u(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(n,e={}){return Za(n,"GET","/v2/passwordPolicy",dm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=6;class bz{constructor(e){var t,r,i,s;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Ez,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,c,u;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsUppercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(u=m.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uk(this),this.idTokenSubscription=new Uk(this),this.beforeStateQueue=new vz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ak(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&(m!=null&&m.user)&&(i=m.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Co(this));const t=e?Mt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wz(this),t=new bz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{c||s(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,i);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nz(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pm(n){return Mt(n)}class Uk{constructor(e){this.auth=e,this.observer=null,this.addObserver=CF(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Az(n){k_=n}function Sz(n){return k_.loadJS(n)}function Iz(){return k_.gapiScript}function kz(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(n,e){const t=fy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ql(s,e??{}))return i;Pi(i,"already-initialized")}return t.initialize({options:e})}function Pz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cz(n,e,t){const r=pm(n);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=zk(e),{host:c,port:u}=xz(e),m=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Oz()}function zk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xz(n){const e=zk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$k(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:$k(c)}}}function $k(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Oz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e){return bk(n,"POST","/v1/accounts:signInWithIdp",dm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="http://localhost";class xs extends Bk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=bg(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new xs(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return tc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tc(e,t)}buildRequest(){const e={requestUri:Nz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Eu{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return No.credential(t,r)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com",No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Eu{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com",Do.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Eu{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mo.credential(t,r)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com",Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Oi._fromIdTokenResponse(e,r,i),c=Hk(r);return new Os({user:s,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Hk(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Hk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends Ei{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new gm(e,t,r,i)}}function Gk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gm._fromErrorAndOperation(n,s,e,r):s})}async function Dz(n,e,t=!1){const r=await wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Os._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n,e,t=!1){const{auth:r}=n;if(Ti(r.app))return Promise.reject(Co(r));const i="reauthenticate";try{const s=await wu(n,Gk(r,i,e,n),t);Le(s.idToken,r,"internal-error");const c=A_(s.idToken);Le(c,r,"internal-error");const{sub:u}=c;return Le(n.uid===u,r,"user-mismatch"),Os._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(n,e,t=!1){if(Ti(n.app))return Promise.reject(Co(n));const r="signIn",i=await Gk(n,r,e),s=await Os._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(n,e){return bk(n,"POST","/v1/accounts:signInWithCustomToken",dm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,e){if(Ti(n.app))return Promise.reject(Co(n));const t=pm(n),r=await Fz(t,{token:e,returnSecureToken:!0}),i=await Os._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}function jz(n,e,t,r){return Mt(n).onIdTokenChanged(e,t,r)}function Uz(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function zz(n,e,t,r){return Mt(n).onAuthStateChanged(e,t,r)}const ym="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ym,"1"),this.storage.removeItem(ym),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=1e3,Bz=10;class Kk extends Wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);_z()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kk.type="LOCAL";const qz=Kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qk.type="SESSION";const Jk=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new _m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async p=>p(t.origin,s)),m=await Hz(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((u,m)=>{const p=R_("",20);i.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(w){const b=w;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(y),clearTimeout(s),m(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function Wz(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function Kz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Jz(){return Yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firebaseLocalStorageDb",Yz=1,vm="firebaseLocalStorage",Xk="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wm(n,e){return n.transaction([vm],e?"readwrite":"readonly").objectStore(vm)}function Zz(){const n=indexedDB.deleteDatabase(Zk);return new bu(n).toPromise()}function P_(){const n=indexedDB.open(Zk,Yz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vm,{keyPath:Xk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vm)?e(r):(r.close(),await Zz(),e(await P_()))})})}async function e0(n,e,t){const r=wm(n,!0).put({[Xk]:e,value:t});return new bu(r).toPromise()}async function Xz(n,e){const t=wm(n,!1).get(e),r=await new bu(t).toPromise();return r===void 0?null:r.value}function t0(n,e){const t=wm(n,!0).delete(e);return new bu(t).toPromise()}const e$=800,t$=3;class n0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>t$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(Jz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Kz(),!this.activeServiceWorker)return;this.sender=new Gz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await e0(e,ym,"1"),await t0(e,ym),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>e0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Xz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>t0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new bu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n0.type="LOCAL";const n$=n0;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(n,e){return e?Ni(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Bk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function i$(n){return Lz(n.auth,new C_(n),n.bypassAuthState)}function o$(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),Mz(t,new C_(n),n.bypassAuthState)}async function s$(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),Dz(t,new C_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:c,type:u}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i$;case"linkViaPopup":case"linkViaRedirect":return s$;case"reauthViaPopup":case"reauthViaRedirect":return o$;default:Pi(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new _u(2e3,1e4);class nc extends r0{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a$.get())};e()}}nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="pendingRedirect",Em=new Map;class l$ extends r0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const r=await u$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u$(n,e){const t=m$(e),r=f$(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function d$(n,e){Em.set(n._key(),e)}function f$(n){return Ni(n._redirectPersistence)}function m$(n){return hm(c$,n.config.apiKey,n.name)}async function h$(n,e,t=!1){if(Ti(n.app))return Promise.reject(Co(n));const r=pm(n),i=r$(r,e),c=await new l$(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=10*60*1e3;class g${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!o0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p$&&this.cachedEventUids.clear(),this.cachedEventUids.has(i0(e))}saveEventToCache(e){this.cachedEventUids.add(i0(e)),this.lastProcessedEventTime=Date.now()}}function i0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function o0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(n,e={}){return Za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w$=/^https?/;async function E$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _$(n);for(const t of e)try{if(b$(t))return}catch{}Pi(n,"unauthorized-domain")}function b$(n){const e=w_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!w$.test(t))return!1;if(v$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=new _u(3e4,6e4);function s0(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A$(n){return new Promise((e,t)=>{var r,i,s;function c(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),t(ri(n,"network-request-failed"))},timeout:T$.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ii().gapi)===null||s===void 0)&&s.load)c();else{const u=kz("iframefcb");return ii()[u]=()=>{gapi.load?c():t(ri(n,"network-request-failed"))},Sz(`${Iz()}?onload=${u}`).catch(m=>t(m))}}).catch(e=>{throw bm=null,e})}let bm=null;function S$(n){return bm=bm||A$(n),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new _u(5e3,15e3),k$="__/auth/iframe",R$="emulator/auth/iframe",P$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x$(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?E_(e,R$):`https://${n.config.authDomain}/${k$}`,r={apiKey:e.apiKey,appName:n.name,v:Ma},i=C$.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Hl(r).slice(1)}`}async function O$(n){const e=await S$(n),t=ii().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:x$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=ri(n,"network-request-failed"),u=ii().setTimeout(()=>{s(c)},I$.get());function m(){ii().clearTimeout(u),i(r)}r.ping(m).then(m,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D$=500,M$=600,L$="_blank",F$="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V$(n,e,t,r=D$,i=M$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const m=Object.assign(Object.assign({},N$),{width:r.toString(),height:i.toString(),top:s,left:c}),p=ln().toLowerCase();t&&(u=Nk(p)?L$:t),xk(p)&&(e=e||F$,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[k,C])=>`${b}${k}=${C},`,"");if(yz(p)&&u!=="_self")return j$(e||"",u),new a0(null);const w=window.open(e||"",u,y);Le(w,n,"popup-blocked");try{w.focus()}catch{}return new a0(w)}function j$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",z$="emulator/auth/handler",$$=encodeURIComponent("fac");async function c0(n,e,t,r,i,s){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ma,eventId:i};if(e instanceof qk){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",PF(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Eu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const m=await n._getAppCheckToken(),p=m?`#${$$}=${encodeURIComponent(m)}`:"";return`${B$(n)}?${Hl(u).slice(1)}${p}`}function B$({config:n}){return n.emulator?E_(n,z$):`https://${n.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="webStorageSupport";class q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jk,this._completeRedirectFn=h$,this._overrideRedirectResult=d$}async _openPopup(e,t,r,i){var s;xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const c=await c0(e,t,r,w_(),i);return V$(e,c,R_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await c0(e,t,r,w_(),i);return Wz(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await O$(e),r=new g$(e);return t.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(x_,{type:x_},i=>{var s;const c=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[x_];c!==void 0&&t(!!c),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vk()||Ok()||I_()}}const H$=q$;var l0="@firebase/auth",u0="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K$(n){Da(new As("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jk(n)},p=new Tz(r,i,s,m);return Pz(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Da(new As("auth-internal",e=>{const t=pm(e.getProvider("auth").getImmediate());return(r=>new G$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(l0,u0,W$(n)),vo(l0,u0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=5*60,J$=BA("authIdTokenMaxAge")||Q$;let d0=null;const Y$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>J$)return;const i=t==null?void 0:t.token;d0!==i&&(d0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(n=xV()){const e=fy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Rz(n,{popupRedirectResolver:H$,persistence:[n$,qz,Jk]}),r=BA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=Y$(s.toString());Uz(t,c,()=>c(t.currentUser)),jz(t,u=>c(u))}}const i=pF("auth");return i&&Cz(t,`http://${i}`),t}function X$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Az({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",X$().appendChild(r)})},gapiScript:"",recaptchaV2Script:"",recaptchaEnterpriseScript:""}),K$("Browser");class f0{constructor(e){this.id=e.id,this.email=e.email,this.name=e.name,this.username=e.username}}class eB{constructor(e,t){this.status=Wr.PENDING,this.transcriptStatus="init",this.id=e,this.creator=new f0({id:t.creatorId,email:t.creatorEmail}),this.conferenceId=t.conferenceId,this.googleMeetId=t.googleMeetId,this.startedAt=t.startTime,this.createdAt=t.createdAt&&t.createdAt.toDate(),this.updatedAt=t.updatedAt&&t.updatedAt.toDate(),this.provider=t.provider,this.status=t.status,this.transcriptStatus=t.transcriptStatus,this.name=t.name}}class tB{constructor(e,t){this.id=e,this.conferenceId=t.conferenceId||"",this.stop=t.stop}}class nB{constructor(e,t){this.permission="public",this.id=e,this.creator=new f0({id:t.creatorId,email:t.creatorEmail,username:t.username}),this.text=t.text,this.source=t.from,this.timestamp=t.startTime,this.startedAt=t.time,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.createdFrom=t.createdFrom||Fp.UNSPECIFIED,this.hide=!!t.hide,this.generatedFromAi=!!t.generatedFromAi}}const rB={toFirestore(n){const e=cm();return{name:n.name,status:n.status,transcriptStatus:n.transcriptStatus||"init",provider:n.provider,creatorEmail:n.creator.email,creatorId:n.creator.id,startTime:n.startedAt,googleMeetId:n.googleMeetId,conferenceId:n.conferenceId,createdAt:n.createdAt&&Pt.fromDate(n.createdAt),updatedAt:e}},fromFirestore(n,e){return new eB(n.id,n.data(e))}},iB={toFirestore(n){const e=cm();return n.stop?{stop:!0}:{conferenceId:n.conferenceId,updatedAt:e,stop:n.stop}},fromFirestore(n,e){return new tB(n.id,n.data(e))}},Tu={toFirestore(n){const e=cm(),t=cm();return{creatorId:n.creator.id,creatorEmail:n.creator.email,username:n.creator.username,from:n.source,isPrivate:n.permission!=="public",startTime:n.timestamp,generatedFromAi:!!n.generatedFromAi,time:n.startedAt,text:n.text,createdAt:e,updatedAt:t,createdFrom:n.createdFrom||Fp.UNSPECIFIED,hide:!!n.hide}},fromFirestore(n,e){return new nB(n.id,n.data(e))}};class m0{constructor(e,t,r){this.datasource=e,this.collection=t_(this.datasource.database,t).withConverter(r)}}const Gv=class Gv extends m0{constructor(e){super(e,"meetings",rB)}getDocByConferenceId(e){return f_(this.collection,z4("conferenceId","==",e),dk("startTime","desc"),$4(1))}async getMeetingByConferenceId(e){return(await this.datasource.getAll(this.getDocByConferenceId(e))).at(0)}subscribeToMeetingStatusChange(e,t){const r=this.getDocByConferenceId(e);return this.datasource.subscribeOneByQuery(r,i=>{i&&t(i.status)})}subscribeToMeeting(e,t){const r=this.getDocByConferenceId(e);return this.datasource.subscribeOneByQuery(r,t)}subscribeToMeetingById(e,t){const r=ni(this.collection,e);return this.datasource.subscribeOneByDoc(r,t)}};Gv.id="MeetingRepository";let O_=Gv;const Wv=class Wv extends m0{constructor(e){super(e,"chats",iB)}getHighlightsCollectionByDocumentId(e){return t_(ni(this.collection,e),"highlights")}getParticipantsCollectionByDocumentId(e){return t_(ni(this.collection,e),"participants")}subscribeToParticipants(e,t){const r=this.getParticipantsCollectionByDocumentId(e),i=f_(r);return this.datasource.subscribeMany(i,t)}setParticipantStatus({meeting:e,participant:t,online:r}){const i=ni(this.getParticipantsCollectionByDocumentId(e),t);return this.datasource.transaction(async s=>(await s.get(i)).exists()?(await s.update(i,{withLMI:r}),r):!1)}updateOneParticipant(e,t,r){const i=ni(this.getParticipantsCollectionByDocumentId(e),t);return this.datasource.updateOne(i,r)}updateManyParticipants(e,t,r){return this.datasource.transaction(async i=>{const s=t.map(async c=>{const u=ni(this.getParticipantsCollectionByDocumentId(e),c);return this.datasource.updateOne(u,r),await i.update(u,r),c});return Promise.all(s)})}subscribeToPublicHighlights(e,t){const r=this.getHighlightsCollectionByDocumentId(e).withConverter(Tu),i=f_(r,dk("startTime"));return this.datasource.subscribeMany(i,t)}createOnePublicHighlight(e,t){const r=this.getHighlightsCollectionByDocumentId(e).withConverter(Tu);return this.datasource.insertOne(r,t)}updatePublicHighlight(e,t){const r=ni(this.getHighlightsCollectionByDocumentId(e).withConverter(Tu),t.id);return this.datasource.updateOne(r,Tu.toFirestore(t))}deletePublicHighlight(e,t){const r=ni(this.getHighlightsCollectionByDocumentId(e).withConverter(Tu),t);return this.datasource.deleteOne(r)}stopRecording(e){const t=ni(this.collection,e);return G4(t,{stop:!0},{merge:!0})}};Wv.id="ChatRepository";let nr=Wv;var N_={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function oB(){if(h0)return Au;h0=1;var n=Hg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,m,p){var y,w={},b=null,k=null;p!==void 0&&(b=""+p),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(k=m.ref);for(y in m)r.call(m,y)&&!s.hasOwnProperty(y)&&(w[y]=m[y]);if(u&&u.defaultProps)for(y in m=u.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:e,type:u,key:b,ref:k,props:w,_owner:i.current}}return Au.Fragment=t,Au.jsx=c,Au.jsxs=c,Au}var p0;function sB(){return p0||(p0=1,N_.exports=oB()),N_.exports}sB();const aB={connected:!1};RL.createContext(aB);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var D_=function(n,e){return D_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},D_(n,e)};function cB(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D_(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var lB=function(n){cB(e,n);function e(t,r){var i=n.call(this,function(s){var c=i.__notifier.subscribe(s);return c&&!c.closed&&s.next(i.value),c})||this;return i.__notifier=new Oa,i.value=r,t.subscribe(function(s){s!==i.value&&(i.value=s,i.__notifier.next(s))}),i}return e}(Jt);function uB(n){n===void 0&&(n={});var e=$T.constructor,t=new e($T.schedulerActionCtor),r=new Oa,i,s=function(c){i=c;var u=new Oa,m=new Oa,p=u.asObservable().pipe(Dl(t)),y=new lB(m.pipe(Dl(t)),i.getState()),w=r.pipe(Ll(function(b){var k=b(p,y,n.dependencies);if(!k)throw new TypeError('Your root Epic "'+(b.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return k}),we(function(b){return Ml(b).pipe(xg(t),Dl(t))}));return w.subscribe(i.dispatch),function(b){return function(k){var C=b(k);return m.next(i.getState()),u.next(k),C}}};return s.run=function(c){r.next(c)},s}function g0(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return df.apply(void 0,n.map(function(s){var c=s.apply(void 0,r);if(!c)throw new TypeError('combineEpics: one of the provided Epics "'+(s.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return c}))};try{Object.defineProperty(t,"name",{value:"combineEpics("+n.map(function(r){return r.name||"<anonymous>"}).join(", ")+")"})}catch{}return t}var y0=function(n,e){return n===e||typeof e=="function"&&n===e.toString()};function _0(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;return de(t===1?function(r){return y0(r.type,n[0])}:function(r){for(var i=0;i<t;i++)if(y0(r.type,n[i]))return!0;return!1})}const dB=(n,e,t)=>n.pipe(de(gg.match),go(t),we(([{payload:r},i])=>vn(()=>i.getUserInfo({headers:_n(r)})).pipe(we(s=>[dA(s),gf(),yf(),yg()]),Ar()))),fB=n=>n.pipe(de(yg.match),we(()=>[ws({event:$E.USER_AUTHENTICATED,params:{}})])),mB=(n,e,t)=>n.pipe(de(lD.match),xT(1e3),de(()=>!!e.value.auth.accessToken),go(t),po(([,r])=>{const i=!!e.value.user.user;return i?vn(()=>r.getUserInfo({headers:_n(e.value.auth.accessToken)})).pipe(we(s=>[dA(s),gf(),yf(),rf({fromCache:i})]),Ar()):[rf({fromCache:i})]})),hB=n=>n.pipe(de(xl.match),we(()=>[_L(),mD(),vg()])),M_=new LT(1);M_.asObservable();const L_=new LT(1);L_.asObservable();function Bn(n){return Og(DM([n.datasource$.pipe(MT()),n.auth$.pipe(MT())]))}const pB=(n,e)=>uf(function(r){return zz(n,i=>{var s;(s=e.onLog)==null||s.call(e,`epic=subscribeToAuthState, action=addHandler, userExists=${!!i}`),r(i)})},function(r,i){var s;(s=e.onLog)==null||s.call(e,"epic=subscribeToAuthState, action=removeHandler"),i()}),gB=(n,e)=>n.pipe(de(gg.match),de(()=>{const{isConnecting:t,isReady:r}=e.value.database;return!(t||r)}),we(()=>[Jb()])),yB=(n,e,t)=>n.pipe(de(Yb.match),Bn(t),we(([,[,r]])=>pB(r,t).pipe(bs(n.pipe(de(Qb.match))))),we(r=>{var i,s;return r?((i=t.onLog)==null||i.call(t,"epic=listenForFirebaseAuth, case=authenticated"),[Qb(),QT()]):((s=t.onLog)==null||s.call(t,"epic=listenForFirebaseAuth, case=non-authenticated"),[])})),_B=(n,e,t)=>n.pipe(de(Zb.match),de(()=>!!e.value.auth.accessToken),Ts(t),Bn(t),we(([[,r],[,i]])=>vn(()=>r.getFirebaseToken({headers:_n(e.value.auth.accessToken)})).pipe(we(s=>{var c;return(c=t.onLog)==null||c.call(t,"epic=signInWithTokenInFirebase, action=authenticating"),Vz(i,s.token),[]}),Nl(s=>{var c,u;return Mg(s)?((c=t.onLog)==null||c.call(t,"epic=signInWithTokenInFirebase, action=catchError, case=unauthorized"),[xl()]):((u=t.onLog)==null||u.call(t,"epic=signInWithTokenInFirebase, action=catchError, case=other"),[vg()])})))),vB=(n,e,t)=>n.pipe(de(Jb.match),we(()=>{var r;return(r=t.onLog)==null||r.call(t,"epic=connectWithDatabase"),[dD(),Yb(),Zb()]})),wB=(n,e,t)=>n.pipe(de(vg.match),Bn(t),we(([,[,r]])=>{var i;return(i=t.onLog)==null||i.call(t,"epic=resetFirebaseInstance, action=start"),r.signOut(),[JT()]})),Ns={staleTTL:1e3*60,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,idleStreamInterval:2e4},rr={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource},Su={fetchFeaturesCall:n=>{let{host:e,clientKey:t,headers:r}=n;return rr.fetch("".concat(e,"/api/features/").concat(t),{headers:r})},fetchRemoteEvalCall:n=>{let{host:e,clientKey:t,payload:r,headers:i}=n;const s={method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify(r)};return rr.fetch("".concat(e,"/api/eval/").concat(t),s)},eventSourceCall:n=>{let{host:e,clientKey:t,headers:r}=n;return r?new rr.EventSource("".concat(e,"/sub/").concat(t),{headers:r}):new rr.EventSource("".concat(e,"/sub/").concat(t))},startIdleListener:()=>{let n;if(!(typeof window<"u"&&typeof document<"u"))return;const t=()=>{document.visibilityState==="visible"?(window.clearTimeout(n),SB()):document.visibilityState==="hidden"&&(n=window.setTimeout(AB,Ns.idleStreamInterval))};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(rr.localStorage=globalThis.localStorage)}catch{}const Iu=new Map;let v0=!1;const Di=new Map,Tm=new Map,Am=new Map,Sm=new Set;async function EB(n,e,t,r,i,s){s||(Ns.backgroundSync=!1);const c=await IB(n,r,e,t);i&&c&&await T0(n,c)}function bB(n){const e=ku(n),t=Iu.get(e)||new Set;t.add(n),Iu.set(e,t)}function TB(n){Iu.forEach(e=>e.delete(n))}function AB(){Am.forEach(n=>{n&&(n.state="idle",I0(n))})}function SB(){Am.forEach(n=>{n&&n.state==="idle"&&j_(n)})}async function w0(){try{if(!rr.localStorage)return;await rr.localStorage.setItem(Ns.cacheKey,JSON.stringify(Array.from(Di.entries())))}catch{}}async function IB(n,e,t,r){const i=ku(n),s=F_(n),c=new Date;await RB();const u=Di.get(s);return u&&!r&&(e||u.staleAt>c)?(u.sse&&Sm.add(i),u.staleAt<c?V_(n):A0(n),u.data):await kB(V_(n),t)}function ku(n){const[e,t]=n.getApiInfo();return"".concat(e,"||").concat(t)}function F_(n){const e=ku(n);if(!n.isRemoteEval())return e;const t=n.getAttributes(),r=n.getCacheKeyAttributes()||Object.keys(n.getAttributes()),i={};r.forEach(u=>{i[u]=t[u]});const s=n.getForcedVariations(),c=n.getUrl();return"".concat(e,"||").concat(JSON.stringify({ca:i,fv:s,url:c}))}function kB(n,e){return new Promise(t=>{let r=!1,i;const s=c=>{r||(r=!0,i&&clearTimeout(i),t(c||null))};e&&(i=setTimeout(()=>s(),e)),n.then(c=>s(c)).catch(()=>s())})}async function RB(){if(!v0){v0=!0;try{if(rr.localStorage){const n=await rr.localStorage.getItem(Ns.cacheKey);if(n){const e=JSON.parse(n);e&&Array.isArray(e)&&e.forEach(t=>{let[r,i]=t;Di.set(r,{...i,staleAt:new Date(i.staleAt)})}),E0()}}}catch{}{const n=Su.startIdleListener();n&&(Su.stopIdleListener=n)}}}function E0(){const n=Array.from(Di.entries()).map(t=>{let[r,i]=t;return{key:r,staleAt:i.staleAt.getTime()}}).sort((t,r)=>t.staleAt-r.staleAt),e=Math.min(Math.max(0,Di.size-Ns.maxEntries),Di.size);for(let t=0;t<e;t++)Di.delete(n[t].key)}function b0(n,e,t){const r=t.dateUpdated||"",i=new Date(Date.now()+Ns.staleTTL),s=Di.get(e);if(s&&r&&s.version===r){s.staleAt=i,w0();return}Di.set(e,{data:t,version:r,staleAt:i,sse:Sm.has(n)}),E0(),w0();const c=Iu.get(n);c&&c.forEach(u=>T0(u,t))}async function T0(n,e){await(e.encryptedExperiments?n.setEncryptedExperiments(e.encryptedExperiments,void 0,rr.SubtleCrypto):n.setExperiments(e.experiments||n.getExperiments())),await(e.encryptedFeatures?n.setEncryptedFeatures(e.encryptedFeatures,void 0,rr.SubtleCrypto):n.setFeatures(e.features||n.getFeatures()))}async function V_(n){const{apiHost:e,apiRequestHeaders:t}=n.getApiHosts(),r=n.getClientKey(),i=n.isRemoteEval(),s=ku(n),c=F_(n);let u=Tm.get(c);return u||(u=(i?Su.fetchRemoteEvalCall({host:e,clientKey:r,payload:{attributes:n.getAttributes(),forcedVariations:n.getForcedVariations(),forcedFeatures:Array.from(n.getForcedFeatures().entries()),url:n.getUrl()},headers:t}):Su.fetchFeaturesCall({host:e,clientKey:r,headers:t})).then(p=>(p.headers.get("x-sse-support")==="enabled"&&Sm.add(s),p.json())).then(p=>(b0(s,c,p),A0(n),Tm.delete(c),p)).catch(p=>(Tm.delete(c),Promise.resolve({}))),Tm.set(c,u)),await u}function A0(n){const e=ku(n),t=F_(n),{streamingHost:r,streamingHostRequestHeaders:i}=n.getApiHosts(),s=n.getClientKey();if(Ns.backgroundSync&&Sm.has(e)&&rr.EventSource){if(Am.has(e))return;const c={src:null,host:r,clientKey:s,headers:i,cb:u=>{try{if(u.type==="features-updated"){const m=Iu.get(e);m&&m.forEach(p=>{V_(p)})}else if(u.type==="features"){const m=JSON.parse(u.data);b0(e,t,m)}c.errors=0}catch{S0(c)}},errors:0,state:"active"};Am.set(e,c),j_(c)}}function S0(n){if(n.state!=="idle"&&(n.errors++,n.errors>3||n.src&&n.src.readyState===2)){const e=Math.pow(3,n.errors-3)*(1e3+Math.random()*1e3);I0(n),setTimeout(()=>{["idle","active"].includes(n.state)||j_(n)},Math.min(e,3e5))}}function I0(n){n.src&&(n.src.onopen=null,n.src.onerror=null,n.src.close(),n.src=null,n.state==="active"&&(n.state="disabled"))}function j_(n){n.src=Su.eventSourceCall({host:n.host,clientKey:n.clientKey,headers:n.headers}),n.state="active",n.src.addEventListener("features",n.cb),n.src.addEventListener("features-updated",n.cb),n.src.onerror=()=>S0(n),n.src.onopen=()=>{n.errors=0}}var PB=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,U_={revert:function(){}},Im=new Map,z_=new Set;function CB(n){return n==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[n]}}function km(n){var e=Im.get(n);return e||(e={element:n,attributes:{}},Im.set(n,e)),e}function Rm(n,e,t,r,i){var s=t(n),c={isDirty:!1,originalValue:s,virtualValue:s,mutations:[],el:n,_positionTimeout:null,observer:new MutationObserver(function(){if(!(e==="position"&&c._positionTimeout)){e==="position"&&(c._positionTimeout=setTimeout(function(){c._positionTimeout=null},1e3));var u=t(n);e==="position"&&u.parentNode===c.virtualValue.parentNode&&u.insertBeforeNode===c.virtualValue.insertBeforeNode||u!==c.virtualValue&&(c.originalValue=u,i(c))}}),mutationRunner:i,setValue:r,getCurrentValue:t};return e==="position"&&n.parentNode?c.observer.observe(n.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):c.observer.observe(n,CB(e)),c}function Pm(n,e){var t=e.getCurrentValue(e.el);e.virtualValue=n,n&&typeof n!="string"?(!t||n.parentNode!==t.parentNode||n.insertBeforeNode!==t.insertBeforeNode)&&(e.isDirty=!0,x0()):n!==t&&(e.isDirty=!0,x0())}function xB(n){var e=n.originalValue;n.mutations.forEach(function(t){return e=t.mutate(e)}),Pm(HB(e),n)}function OB(n){var e=new Set(n.originalValue.split(/\s+/).filter(Boolean));n.mutations.forEach(function(t){return t.mutate(e)}),Pm(Array.from(e).filter(Boolean).join(" "),n)}function NB(n){var e=n.originalValue;n.mutations.forEach(function(t){return e=t.mutate(e)}),Pm(e,n)}function DB(n){var e=n.parentSelector,t=n.insertBeforeSelector,r=document.querySelector(e);if(!r)return null;var i=t?document.querySelector(t):null;return t&&!i?null:{parentNode:r,insertBeforeNode:i}}function MB(n){var e=n.originalValue;n.mutations.forEach(function(t){var r=t.mutate(),i=DB(r);e=i||e}),Pm(e,n)}var LB=function(e){return e.innerHTML},FB=function(e,t){return e.innerHTML=t};function k0(n){var e=km(n);return e.html||(e.html=Rm(n,"html",LB,FB,xB)),e.html}var VB=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},jB=function(e,t){t.insertBeforeNode&&!t.parentNode.contains(t.insertBeforeNode)||t.parentNode.insertBefore(e,t.insertBeforeNode)};function R0(n){var e=km(n);return e.position||(e.position=Rm(n,"position",VB,jB,MB)),e.position}var UB=function(e,t){return t?e.className=t:e.removeAttribute("class")},zB=function(e){return e.className};function P0(n){var e=km(n);return e.classes||(e.classes=Rm(n,"class",zB,UB,OB)),e.classes}var $B=function(e){return function(t){var r;return(r=t.getAttribute(e))!=null?r:null}},BB=function(e){return function(t,r){return r!==null?t.setAttribute(e,r):t.removeAttribute(e)}};function C0(n,e){var t=km(n);return t.attributes[e]||(t.attributes[e]=Rm(n,e,$B(e),BB(e),NB)),t.attributes[e]}function qB(n,e){var t=Im.get(n);if(t)if(e==="html"){var r,i;(r=t.html)==null||(i=r.observer)==null||i.disconnect(),delete t.html}else if(e==="class"){var s,c;(s=t.classes)==null||(c=s.observer)==null||c.disconnect(),delete t.classes}else if(e==="position"){var u,m;(u=t.position)==null||(m=u.observer)==null||m.disconnect(),delete t.position}else{var p,y,w;(p=t.attributes)==null||(y=p[e])==null||(w=y.observer)==null||w.disconnect(),delete t.attributes[e]}}var Cm;function HB(n){return Cm||(Cm=document.createElement("div")),Cm.innerHTML=n,Cm.innerHTML}function xm(n,e,t){if(t.isDirty){t.isDirty=!1;var r=t.virtualValue;t.mutations.length||qB(n,e),t.setValue(n,r)}}function GB(n,e){n.html&&xm(e,"html",n.html),n.classes&&xm(e,"class",n.classes),n.position&&xm(e,"position",n.position),Object.keys(n.attributes).forEach(function(t){xm(e,t,n.attributes[t])})}function x0(){Im.forEach(GB)}function WB(n,e){var t=null;n.kind==="html"?t=k0(e):n.kind==="class"?t=P0(e):n.kind==="attribute"?t=C0(e,n.attribute):n.kind==="position"&&(t=R0(e)),t&&(t.mutations.push(n),t.mutationRunner(t))}function KB(n,e){var t=null;if(n.kind==="html"?t=k0(e):n.kind==="class"?t=P0(e):n.kind==="attribute"?t=C0(e,n.attribute):n.kind==="position"&&(t=R0(e)),!!t){var r=t.mutations.indexOf(n);r!==-1&&t.mutations.splice(r,1),t.mutationRunner(t)}}function O0(n){if(!(n.kind==="position"&&n.elements.size===1)){var e=new Set(n.elements),t=document.querySelectorAll(n.selector);t.forEach(function(r){e.has(r)||(n.elements.add(r),WB(n,r))})}}function QB(n){n.elements.forEach(function(e){return KB(n,e)}),n.elements.clear(),z_.delete(n)}function N0(){z_.forEach(O0)}var $_;function JB(){typeof document>"u"||($_||($_=new MutationObserver(function(){N0()})),N0(),$_.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}JB();function Om(n){return typeof document>"u"?U_:(z_.add(n),O0(n),{revert:function(){QB(n)}})}function B_(n,e){return Om({kind:"html",elements:new Set,mutate:e,selector:n})}function D0(n,e){return Om({kind:"position",elements:new Set,mutate:e,selector:n})}function Ru(n,e){return Om({kind:"class",elements:new Set,mutate:e,selector:n})}function Nm(n,e,t){return PB.test(e)?e==="class"||e==="className"?Ru(n,function(r){var i=t(Array.from(r).join(" "));r.clear(),i&&i.split(/\s+/g).filter(Boolean).forEach(function(s){return r.add(s)})}):Om({kind:"attribute",attribute:e,elements:new Set,mutate:t,selector:n}):U_}function YB(n){var e=n.selector,t=n.action,r=n.value,i=n.attribute,s=n.parentSelector,c=n.insertBeforeSelector;if(i==="html"){if(t==="append")return B_(e,function(u){return u+(r??"")});if(t==="set")return B_(e,function(){return r??""})}else if(i==="class"){if(t==="append")return Ru(e,function(u){r&&u.add(r)});if(t==="remove")return Ru(e,function(u){r&&u.delete(r)});if(t==="set")return Ru(e,function(u){u.clear(),r&&u.add(r)})}else if(i==="position"){if(t==="set"&&s)return D0(e,function(){return{insertBeforeSelector:c,parentSelector:s}})}else{if(t==="append")return Nm(e,i,function(u){return u!==null?u+(r??""):r??""});if(t==="set")return Nm(e,i,function(){return r??""});if(t==="remove")return Nm(e,i,function(){return null})}return U_}var ZB={html:B_,classes:Ru,attribute:Nm,position:D0,declarative:YB};function q_(n){let e=2166136261;const t=n.length;for(let r=0;r<t;r++)e^=n.charCodeAt(r),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}function Dm(n,e,t){return t===2?q_(q_(n+e)+"")%1e4/1e4:t===1?q_(e+n)%1e3/1e3:null}function XB(n){return n<=0?[]:new Array(n).fill(1/n)}function H_(n,e){return n>=e[0]&&n<e[1]}function e9(n,e){const t=Dm("__"+e[0],n,1);return t===null?!1:t>=e[1]&&t<e[2]}function t9(n,e){for(let t=0;t<e.length;t++)if(H_(n,e[t]))return t;return-1}function M0(n){try{const e=n.replace(/([^\\])\//g,"$1\\/");return new RegExp(e)}catch(e){console.error(e);return}}function n9(n,e){if(!e.length)return!1;let t=!1,r=!1;for(let i=0;i<e.length;i++){const s=o9(n,e[i].type,e[i].pattern);if(e[i].include===!1){if(s)return!1}else t=!0,s&&(r=!0)}return r||!t}function r9(n,e,t){try{let r=e.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");return t&&(r="\\/?"+r.replace(/(^\/|\/$)/g,"")+"\\/?"),new RegExp("^"+r+"$","i").test(n)}catch{return!1}}function i9(n,e){try{const t=new URL(e.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),r=[[n.host,t.host,!1],[n.pathname,t.pathname,!0]];return t.hash&&r.push([n.hash,t.hash,!1]),t.searchParams.forEach((i,s)=>{r.push([n.searchParams.get(s)||"",i,!1])}),!r.some(i=>!r9(i[0],i[1],i[2]))}catch{return!1}}function o9(n,e,t){try{const r=new URL(n,"https://_");if(e==="regex"){const i=M0(t);return i?i.test(r.href)||i.test(r.href.substring(r.origin.length)):!1}else if(e==="simple")return i9(r,t);return!1}catch{return!1}}function s9(n,e,t){e=e===void 0?1:e,e<0?e=0:e>1&&(e=1);const r=XB(n);t=t||r,t.length!==n&&(t=r);const i=t.reduce((c,u)=>u+c,0);(i<.99||i>1.01)&&(t=r);let s=0;return t.map(c=>{const u=s;return s+=c,[u,u+e*c]})}function a9(n,e,t){if(!e)return null;const r=e.split("?")[1];if(!r)return null;const i=r.replace(/#.*/,"").split("&").map(s=>s.split("=",2)).filter(s=>{let[c]=s;return c===n}).map(s=>{let[,c]=s;return parseInt(c)});return i.length>0&&i[0]>=0&&i[0]<t?i[0]:null}function c9(n){try{return n()}catch(e){return console.error(e),!1}}const G_=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0));async function L0(n,e,t){if(e=e||"",t=t||globalThis.crypto&&globalThis.crypto.subtle,!t)throw new Error("No SubtleCrypto implementation found");try{const r=await t.importKey("raw",G_(e),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[i,s]=n.split("."),c=await t.decrypt({name:"AES-CBC",iv:G_(i)},r,G_(s));return new TextDecoder().decode(c)}catch{throw new Error("Failed to decrypt")}}function ir(n){typeof n=="number"&&(n=n+""),(!n||typeof n!="string")&&(n="0");const e=n.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return e.length===3&&e.push("~"),e.map(t=>t.match(/^[0-9]+$/)?t.padStart(5," "):t).join("-")}function l9(){let n;try{n="0.30.0"}catch{n=""}return n}const W_={};function Pu(n,e){if("$or"in e)return j0(n,e.$or);if("$nor"in e)return!j0(n,e.$nor);if("$and"in e)return p9(n,e.$and);if("$not"in e)return!Pu(n,e.$not);for(const[t,r]of Object.entries(e))if(!Cu(r,u9(n,t)))return!1;return!0}function u9(n,e){const t=e.split(".");let r=n;for(let i=0;i<t.length;i++)if(r&&typeof r=="object"&&t[i]in r)r=r[t[i]];else return null;return r}function d9(n){return W_[n]||(W_[n]=new RegExp(n.replace(/([^\\])\//g,"$1\\/"))),W_[n]}function Cu(n,e){if(typeof n=="string")return e+""===n;if(typeof n=="number")return e*1===n;if(typeof n=="boolean")return!!e===n;if(n===null)return e===null;if(Array.isArray(n)||!F0(n))return JSON.stringify(e)===JSON.stringify(n);for(const t in n)if(!h9(t,e,n[t]))return!1;return!0}function F0(n){const e=Object.keys(n);return e.length>0&&e.filter(t=>t[0]==="$").length===e.length}function f9(n){if(n===null)return"null";if(Array.isArray(n))return"array";const e=typeof n;return["string","number","boolean","object","undefined"].includes(e)?e:"unknown"}function m9(n,e){if(!Array.isArray(n))return!1;const t=F0(e)?r=>Cu(e,r):r=>Pu(r,e);for(let r=0;r<n.length;r++)if(n[r]&&t(n[r]))return!0;return!1}function V0(n,e){return Array.isArray(n)?n.some(t=>e.includes(t)):e.includes(n)}function h9(n,e,t){switch(n){case"$veq":return ir(e)===ir(t);case"$vne":return ir(e)!==ir(t);case"$vgt":return ir(e)>ir(t);case"$vgte":return ir(e)>=ir(t);case"$vlt":return ir(e)<ir(t);case"$vlte":return ir(e)<=ir(t);case"$eq":return e===t;case"$ne":return e!==t;case"$lt":return e<t;case"$lte":return e<=t;case"$gt":return e>t;case"$gte":return e>=t;case"$exists":return t?e!=null:e==null;case"$in":return Array.isArray(t)?V0(e,t):!1;case"$nin":return Array.isArray(t)?!V0(e,t):!1;case"$not":return!Cu(t,e);case"$size":return Array.isArray(e)?Cu(t,e.length):!1;case"$elemMatch":return m9(e,t);case"$all":if(!Array.isArray(e))return!1;for(let r=0;r<t.length;r++){let i=!1;for(let s=0;s<e.length;s++)if(Cu(t[r],e[s])){i=!0;break}if(!i)return!1}return!0;case"$regex":try{return d9(t).test(e)}catch{return!1}case"$type":return f9(e)===t;default:return console.error("Unknown operator: "+n),!1}}function j0(n,e){if(!e.length)return!0;for(let t=0;t<e.length;t++)if(Pu(n,e[t]))return!0;return!1}function p9(n,e){for(let t=0;t<e.length;t++)if(!Pu(n,e[t]))return!1;return!0}const xu=typeof window<"u"&&typeof document<"u",g9=l9();class y9{constructor(e){if(e=e||{},this.version=g9,this._ctx=this.context=e,this._renderer=null,this._trackedExperiments=new Set,this._trackedFeatures={},this.debug=!1,this._subscriptions=new Set,this._rtQueue=[],this._rtTimer=0,this.ready=!1,this._assigned=new Map,this._forcedFeatureValues=new Map,this._attributeOverrides={},this._activeAutoExperiments=new Map,this._loadFeaturesCalled=!1,e.remoteEval){if(e.decryptionKey)throw new Error("Encryption is not available for remoteEval");if(!e.clientKey)throw new Error("Missing clientKey");let t=!1;try{t=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch{}if(t)throw new Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw new Error("cacheKeyAttributes are only used for remoteEval");e.features&&(this.ready=!0),xu&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),e.clientKey&&!e.remoteEval&&this._refresh({},!0,!1)}async loadFeatures(e){e&&e.autoRefresh&&(this._ctx.subscribeToChanges=!0),this._loadFeaturesCalled=!0,await this._refresh(e,!0,!0),this._canSubscribe()&&bB(this)}async refreshFeatures(e){await this._refresh(e,!1,!0)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){const e=this._ctx.apiHost||"https://cdn.growthbook.io";return{apiHost:e.replace(/\/*$/,""),streamingHost:(this._ctx.streamingHost||e).replace(/\/*$/,""),apiRequestHeaders:this._ctx.apiHostRequestHeaders,streamingHostRequestHeaders:this._ctx.streamingHostRequestHeaders}}getClientKey(){return this._ctx.clientKey||""}isRemoteEval(){return this._ctx.remoteEval||!1}getCacheKeyAttributes(){return this._ctx.cacheKeyAttributes}async _refresh(e,t,r){if(e=e||{},!this._ctx.clientKey)throw new Error("Missing clientKey");await EB(this,e.timeout,e.skipCache||this._ctx.enableDevMode,t,r,this._ctx.backgroundSync!==!1)}_render(){this._renderer&&this._renderer()}setFeatures(e){this._ctx.features=e,this.ready=!0,this._render()}async setEncryptedFeatures(e,t,r){const i=await L0(e,t||this._ctx.decryptionKey,r);this.setFeatures(JSON.parse(i))}setExperiments(e){this._ctx.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(e,t,r){const i=await L0(e,t||this._ctx.decryptionKey,r);this.setExperiments(JSON.parse(i))}setAttributes(e){if(this._ctx.attributes=e,this._ctx.remoteEval){this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setAttributeOverrides(e){if(this._attributeOverrides=e,this._ctx.remoteEval){this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedVariations(e){if(this._ctx.forcedVariations=e||{},this._ctx.remoteEval){this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(e){this._forcedFeatureValues=e,this._render()}setURL(e){if(this._ctx.url=e,this._ctx.remoteEval){this._refreshForRemoteEval().then(()=>this._updateAllAutoExperiments(!0));return}this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._ctx.attributes,...this._attributeOverrides}}getForcedVariations(){return this._ctx.forcedVariations||{}}getForcedFeatures(){return this._forcedFeatureValues||new Map}getUrl(){return this._ctx.url||""}getFeatures(){return this._ctx.features||{}}getExperiments(){return this._ctx.experiments||[]}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}_canSubscribe(){return this._ctx.backgroundSync!==!1&&this._ctx.subscribeToChanges}async _refreshForRemoteEval(){this._ctx.remoteEval&&this._loadFeaturesCalled&&await this._refresh({},!1,!0).catch(()=>{})}getAllResults(){return new Map(this._assigned)}destroy(){this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._trackedFeatures={},this._rtQueue=[],this._rtTimer&&clearTimeout(this._rtTimer),TB(this),xu&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(e=>{e.undo()}),this._activeAutoExperiments.clear()}setRenderer(e){this._renderer=e}forceVariation(e,t){if(this._ctx.forcedVariations=this._ctx.forcedVariations||{},this._ctx.forcedVariations[e]=t,this._ctx.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(e){const t=this._run(e,null);return this._fireSubscriptions(e,t),t}triggerExperiment(e){if(!this._ctx.experiments)return null;const t=this._ctx.experiments.find(r=>r.key===e);return!t||!t.manual?null:this._runAutoExperiment(t,!0)}_runAutoExperiment(e,t,r){const i=e.key,s=this._activeAutoExperiments.get(i);if(e.manual&&!t&&!s)return null;const c=this.run(e),u=JSON.stringify(c.value);if(!r&&c.inExperiment&&s&&s.valueHash===u)return c;if(s&&this._undoActiveAutoExperiment(i),c.inExperiment){const m=this._applyDOMChanges(c.value);m&&this._activeAutoExperiments.set(e.key,{undo:m,valueHash:u})}return c}_undoActiveAutoExperiment(e){const t=this._activeAutoExperiments.get(e);t&&(t.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){const t=this._ctx.experiments||[],r=new Set(t.map(i=>i.key));this._activeAutoExperiments.forEach((i,s)=>{r.has(s)||(i.undo(),this._activeAutoExperiments.delete(s))}),t.forEach(i=>{this._runAutoExperiment(i,!1,e)})}_fireSubscriptions(e,t){const r=e.key,i=this._assigned.get(r);(!i||i.result.inExperiment!==t.inExperiment||i.result.variationId!==t.variationId)&&(this._assigned.set(r,{experiment:e,result:t}),this._subscriptions.forEach(s=>{try{s(e,t)}catch(c){console.error(c)}}))}_trackFeatureUsage(e,t){if(t.source==="override")return;const r=JSON.stringify(t.value);if(this._trackedFeatures[e]!==r){if(this._trackedFeatures[e]=r,this._ctx.onFeatureUsage)try{this._ctx.onFeatureUsage(e,t)}catch{}!xu||!window.fetch||(this._rtQueue.push({key:e,on:t.on}),this._rtTimer||(this._rtTimer=window.setTimeout(()=>{this._rtTimer=0;const i=[...this._rtQueue];this._rtQueue=[],this._ctx.realtimeKey&&window.fetch("https://rt.growthbook.io/?key=".concat(this._ctx.realtimeKey,"&events=").concat(encodeURIComponent(JSON.stringify(i))),{cache:"no-cache",mode:"no-cors"}).catch(()=>{})},this._ctx.realtimeInterval||2e3)))}}_getFeatureResult(e,t,r,i,s,c){const u={value:t,on:!!t,off:!t,source:r,ruleId:i||""};return s&&(u.experiment=s),c&&(u.experimentResult=c),this._trackFeatureUsage(e,u),u}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){const r=this.evalFeature(e).value;return r===null?t:r}feature(e){return this.evalFeature(e)}evalFeature(e){if(this._forcedFeatureValues.has(e))return this._getFeatureResult(e,this._forcedFeatureValues.get(e),"override");if(!this._ctx.features||!this._ctx.features[e])return this._getFeatureResult(e,null,"unknownFeature");const t=this._ctx.features[e];if(t.rules)for(const r of t.rules){if(r.condition&&!this._conditionPasses(r.condition)||r.filters&&this._isFilteredOut(r.filters))continue;if("force"in r){if(!this._isIncludedInRollout(r.seed||e,r.hashAttribute,r.range,r.coverage,r.hashVersion))continue;return r.tracks&&r.tracks.forEach(c=>{this._track(c.experiment,c.result)}),this._getFeatureResult(e,r.force,"force",r.id)}if(!r.variations)continue;const i={variations:r.variations,key:r.key||e};"coverage"in r&&(i.coverage=r.coverage),r.weights&&(i.weights=r.weights),r.hashAttribute&&(i.hashAttribute=r.hashAttribute),r.namespace&&(i.namespace=r.namespace),r.meta&&(i.meta=r.meta),r.ranges&&(i.ranges=r.ranges),r.name&&(i.name=r.name),r.phase&&(i.phase=r.phase),r.seed&&(i.seed=r.seed),r.hashVersion&&(i.hashVersion=r.hashVersion),r.filters&&(i.filters=r.filters);const s=this._run(i,e);if(this._fireSubscriptions(i,s),s.inExperiment&&!s.passthrough)return this._getFeatureResult(e,s.value,"experiment",r.id,i,s)}return this._getFeatureResult(e,t.defaultValue===void 0?null:t.defaultValue,"defaultValue")}_isIncludedInRollout(e,t,r,i,s){if(!r&&i===void 0)return!0;const{hashValue:c}=this._getHashAttribute(t);if(!c)return!1;const u=Dm(e,c,s||1);return u===null?!1:r?H_(u,r):i!==void 0?u<=i:!0}_conditionPasses(e){return Pu(this.getAttributes(),e)}_isFilteredOut(e){return e.some(t=>{const{hashValue:r}=this._getHashAttribute(t.attribute);if(!r)return!0;const i=Dm(t.seed,r,t.hashVersion||2);return i===null?!0:!t.ranges.some(s=>H_(i,s))})}_run(e,t){const r=e.key,i=e.variations.length;if(i<2)return this._getResult(e,-1,!1,t);if(this._ctx.enabled===!1)return this._getResult(e,-1,!1,t);e=this._mergeOverrides(e);const s=a9(r,this._getContextUrl(),i);if(s!==null)return this._getResult(e,s,!1,t);if(this._ctx.forcedVariations&&r in this._ctx.forcedVariations){const w=this._ctx.forcedVariations[r];return this._getResult(e,w,!1,t)}if(e.status==="draft"||e.active===!1)return this._getResult(e,-1,!1,t);const{hashValue:c}=this._getHashAttribute(e.hashAttribute);if(!c)return this._getResult(e,-1,!1,t);if(e.filters){if(this._isFilteredOut(e.filters))return this._getResult(e,-1,!1,t)}else if(e.namespace&&!e9(c,e.namespace))return this._getResult(e,-1,!1,t);if(e.include&&!c9(e.include))return this._getResult(e,-1,!1,t);if(e.condition&&!this._conditionPasses(e.condition))return this._getResult(e,-1,!1,t);if(e.groups&&!this._hasGroupOverlap(e.groups))return this._getResult(e,-1,!1,t);if(e.url&&!this._urlIsValid(e.url))return this._getResult(e,-1,!1,t);if(e.urlPatterns&&!n9(this._getContextUrl(),e.urlPatterns))return this._getResult(e,-1,!1,t);const u=Dm(e.seed||r,c,e.hashVersion||1);if(u===null)return this._getResult(e,-1,!1,t);const m=e.ranges||s9(i,e.coverage===void 0?1:e.coverage,e.weights),p=t9(u,m);if(p<0)return this._getResult(e,-1,!1,t);if("force"in e)return this._getResult(e,e.force===void 0?-1:e.force,!1,t);if(this._ctx.qaMode)return this._getResult(e,-1,!1,t);if(e.status==="stopped")return this._getResult(e,-1,!1,t);const y=this._getResult(e,p,!0,t,u);return this._track(e,y),y}log(e,t){this.debug&&(this._ctx.log?this._ctx.log(e,t):console.log(e,t))}_track(e,t){if(!this._ctx.trackingCallback)return;const r=e.key,i=t.hashAttribute+t.hashValue+r+t.variationId;if(!this._trackedExperiments.has(i)){this._trackedExperiments.add(i);try{this._ctx.trackingCallback(e,t)}catch(s){console.error(s)}}}_mergeOverrides(e){const t=e.key,r=this._ctx.overrides;return r&&r[t]&&(e=Object.assign({},e,r[t]),typeof e.url=="string"&&(e.url=M0(e.url))),e}_getHashAttribute(e){const t=e||"id";let r="";return this._attributeOverrides[t]?r=this._attributeOverrides[t]:this._ctx.attributes?r=this._ctx.attributes[t]||"":this._ctx.user&&(r=this._ctx.user[t]||""),{hashAttribute:t,hashValue:r}}_getResult(e,t,r,i,s){let c=!0;(t<0||t>=e.variations.length)&&(t=0,c=!1);const{hashAttribute:u,hashValue:m}=this._getHashAttribute(e.hashAttribute),p=e.meta?e.meta[t]:{},y={key:p.key||""+t,featureId:i,inExperiment:c,hashUsed:r,variationId:t,value:e.variations[t],hashAttribute:u,hashValue:m};return p.name&&(y.name=p.name),s!==void 0&&(y.bucket=s),p.passthrough&&(y.passthrough=p.passthrough),y}_getContextUrl(){return this._ctx.url||(xu?window.location.href:"")}_urlIsValid(e){const t=this._getContextUrl();if(!t)return!1;const r=t.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(e.test(t)||e.test(r))}_hasGroupOverlap(e){const t=this._ctx.groups||{};for(let r=0;r<e.length;r++)if(t[e[r]])return!0;return!1}_applyDOMChanges(e){if(!xu)return;const t=[];if(e.css){const r=document.createElement("style");r.innerHTML=e.css,document.head.appendChild(r),t.push(()=>r.remove())}if(e.js){const r=document.createElement("script");r.innerHTML=e.js,document.body.appendChild(r),t.push(()=>r.remove())}return e.domMutations&&e.domMutations.forEach(r=>{t.push(ZB.declarative(r).revert)}),()=>{t.forEach(r=>r())}}}const K_=new y9({}),_9=1e3,v9=(n,e,t)=>n.pipe(de(rf.match),xT(_9),de(()=>{var i;const{lastFetchedAt:r}=e.value.featureFlags;return(i=t.onLog)==null||i.call(t,`event=fetchFeatureFlagsFromGateway, lastFetchedAt=${r}`),r?pD(r):!0}),Ts(t),we(([,r])=>vn(async()=>{var p,y;const i=await r.getFeatureFlags({headers:_n(e.value.auth.accessToken)}),s=(y=(p=e.value.user)==null?void 0:p.user)==null?void 0:y.email,[,c]=(s||"").split("@"),u=t.version;return K_.setAttributes({email:s,domain:c,version:u}),i!=null&&i.features&&K_.setFeatures(i.features),{lastFetchedAt:new Date,[bl.FetchCalendarOnJoin]:K_.isOn(bl.FetchCalendarOnJoin)}}).pipe(we(i=>[fD(i)]),Ar())));function w9({datasource:n,conferenceId:e,documentId:t}){const r=new nr(n);return uf(function(s){return console.log(`listener=getMeetingHighlights.addHandler, fromAction=addMeetingToQueue, conferenceId=${e}`),r.subscribeToPublicHighlights(t,c=>s([c,e,"highlights"]))},function(s,c){console.log(`observable=getMeetingHighlights.removeHandler, fromAction=removeMeeting|unsubscribeMeetingInQueue, conferenceId=${e}`),c()})}function E9({datasource:n,conferenceId:e,documentId:t}){const r=new nr(n);return uf(function(s){return console.log(`observable=getMeetingParticipants.addHandler, fromAction=addMeetingToQueue, conferenceId=${e}`),r.subscribeToParticipants(t,c=>s([c,e,"participants"]))},function(s,c){console.log(`observable=getMeetingParticipants.removeHandler, fromAction=removeMeeting|unsubscribeMeetingInQueue, conferenceId=${e}`),c()})}const b9=(n,e,t)=>n.pipe(de(er.match),de(()=>!!e.value.auth.accessToken),de(({payload:r})=>!!(r!=null&&r.status&&f2(r.status)&&r.id)),go(t),we(([{payload:r},i])=>vn(()=>i.addParticipant({meetingId:r.id},{headers:_n(e.value.auth.accessToken)})).pipe(we(()=>[Vl({conferenceId:r.conferenceId}),WT(r),cA(r.conferenceId),rA(r),lA(r.conferenceId)]),Ar()))),T9=n=>n.pipe(de(er.match),de(({payload:e})=>e.status===Wr.SUCCESSFUL),we(({payload:e})=>[iA(e.conferenceId)])),A9=(n,e,t)=>n.pipe(de(rA.match),de(({payload:r})=>!!e.value.meetings[r.conferenceId]),Bn(t),we(([r,[i]])=>{const{id:s,conferenceId:c}=r.payload,u={datasource:i,conferenceId:c,documentId:s};return df(w9(u),E9(u)).pipe(bs(n.pipe(_0(iA.type,mf.type,cA.type),de(m=>m.payload===c))))}),we(([r,i,s])=>s==="highlights"?[ZM({highlights:r,conferenceId:i})]:s==="participants"?[XM({participants:r,conferenceId:i})]:[])),S9=(n,e,t)=>n.pipe(de(nL.match),de(()=>{var r;return!!((r=e.value.user)!=null&&r.user)}),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,highlight:c,source:u}=r.payload,{id:m,provider:p,startedAt:y}=e.value.queue[s],{id:w,username:b,email:k}=e.value.user.user,C=u2(y),D=new nr(i),N=(c.text||"").trim()||Ug,F=N===Ug,q=await D.createOnePublicHighlight(m,{createdAt:new Date,startedAt:y,permission:"public",timestamp:C,...c,text:N,generatedFromAi:F,creator:{id:w,email:k,username:b},createdFrom:u,source:p}),G=d2(N);return{highlightId:q,isHighlightWithTags:G,generatedFromAi:F}}),we(({highlightId:r,isHighlightWithTags:i,generatedFromAi:s})=>{const c=[rL(r),AL(),SL()];return s&&c.push($g({flag:"isAutoHighlightOnboardVisible",value:!1})),i&&c.push(ws({event:qE.ON_TAGGED,params:{}})),c})),I9=(n,e,t)=>n.pipe(de(mL.match),Bn(t),we(async([r,[i]])=>{const{id:s}=e.value.queue[r.payload];await new nr(i).stopRecording(s)}),we(()=>[hL()])),k9=(n,e,t)=>n.pipe(de(uL.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,highlight:c}=r.payload,{id:u}=e.value.queue[s],m=new nr(i);let p=c.generatedFromAi;return p&&c.text!==Ug&&(p=!1),await m.updatePublicHighlight(u,{...c,generatedFromAi:p}),c.id}),we(r=>[dL(r)])),R9=n=>n.pipe(de(fL.match),Dg(({payload:e})=>df(Yr(sA(e)),Yr(aA(e)).pipe(Ng(YM),bs(n.pipe(de(eL.match),de(t=>t.payload.highlightId===e.highlightId))))))),P9=(n,e,t)=>n.pipe(de(sA.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,highlightId:c}=r.payload,{id:u}=e.value.queue[s],{highlights:m}=e.value.meetings[s],p=m.find(y=>y.id===c);return p&&await new nr(i).updatePublicHighlight(u,{...p,hide:!0}),c}),we(r=>[oA(r)])),C9=(n,e,t)=>n.pipe(de(aA.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,highlightId:c}=r.payload,{id:u}=e.value.queue[s];return await new nr(i).deletePublicHighlight(u,c),c}),we(r=>[oA(r)])),x9=(n,e,t)=>n.pipe(de(iL.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,participantId:c}=r.payload,{id:u}=e.value.queue[s];return await new nr(i).updateOneParticipant(u,c,{shouldGrantAccess:!0}),c}),we(r=>[oL(r)])),O9=(n,e,t)=>n.pipe(de(sL.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,participantId:c}=r.payload,{id:u}=e.value.queue[s];return await new nr(i).updateOneParticipant(u,c,{shouldGrantAccess:!1}),c}),we(r=>[aL(r)])),N9=(n,e,t)=>n.pipe(de(cL.match),Bn(t),we(async([r,[i]])=>{const{conferenceId:s,participantIds:c}=r.payload,{id:u}=e.value.queue[s];return await new nr(i).updateManyParticipants(u,c,{shouldGrantAccess:!1}),c}),we(r=>[lL(r)])),D9=(n,e,t)=>n.pipe(de(lA.match),de(()=>!!e.value.auth.accessToken),de(({payload:r})=>{var u;const i=e.value.meetings[r],s=!!i&&(i.contacts||[]).length===0,c=p2((u=e.value.user.user)==null?void 0:u.email);return s&&!c}),Ts(t),we(([{payload:r},i])=>vn(()=>i.getContacts({headers:_n(e.value.auth.accessToken)})).pipe(we(s=>s!=null&&s.data?[tL({conferenceId:r,contacts:s.data}),pL()]:[]),Ar()))),M9=1e3,L9={s:1,m:60,h:60*60,d:60*60*24,w:60*60*24*7,M:60*60*24*30,y:60*60*24*365};function F9(n,e){const t=new Date().getTime(),r=Number(e.slice(0,-1)),i=e.slice(-1),s=L9[i];return t-r*s*M9>n.getTime()}const V9=g0(gB,vB,n=>n.pipe(de(HT.match),we(({payload:e})=>[ZT(e),Fg(e)])),(n,e)=>n.pipe(de(Lg.match),we(({payload:t})=>{const{queue:r}=e.value;return Object.keys(r).filter(i=>!t.includes(i)).map(i=>GT(i))})),wB,(n,e)=>n.pipe(de(QT.match),we(()=>GM(e.value).reduce((i,s)=>[...i,mf(s.conferenceId),HT(s),Fg(s),YT(s.conferenceId)],[]))),(n,e)=>n.pipe(de(JT.match),we(()=>{const{queue:t}=e.value;return Object.keys(t).map(i=>mf(i))})),b9,T9,A9,S9,dB,fB,hB,mB,k9,C9,R9,I9,(n,e,t)=>n.pipe(de(gf.match),Ts(t),po(([,r])=>vn(()=>r.getUserPreferences({headers:_n(e.value.auth.accessToken)})).pipe(we(i=>i!=null&&i.preferences?[gL(i.preferences),EL()]:[]),Ar()))),(n,e,t)=>n.pipe(de(yL.match),Ts(t),we(([{payload:r},i])=>vn(()=>i.updateUserPreferences({"auto-sharing":r},{headers:_n(e.value.auth.accessToken)})).pipe(we(()=>[gf()]),Ar()))),O9,N9,x9,D9,(n,e,t)=>n.pipe(de(hf.match),de(()=>!!e.value.auth.accessToken),we(({payload:r})=>{var i;return(i=t.onLog)==null||i.call(t,`Bot requested to join meeting. conferenceId=${r}`),[ws({event:Lp.BOT_REQUESTED,params:{conferenceId:r}})]})),P9,(n,e)=>n.pipe(de(YT.match),de(()=>!!e.value.auth.accessToken),po(({payload:t})=>{const{queue:r}=e.value,i=r[t];return(i==null?void 0:i.origin)&&i.origin===$d.USER_CLICK_EVENT?[UM(t),Vg(i)]:[]})),(n,e,t)=>n.pipe(de(Fg.match),de(()=>!!e.value.auth.accessToken),de(()=>t.platform===gs.WEB_EXTENSION),go(t),po(([{payload:r},i])=>vn(()=>i.triggerAutoRecord({conferenceId:r.conferenceId,provider:r.provider},{headers:_n(e.value.auth.accessToken)})).pipe(po(s=>s!=null&&s.shouldBeRecorded?pM(VM).pipe(Ll(c=>{var y;const u=HM(r.conferenceId)(e.value),m=(u==null?void 0:u.autoRecordJoiningIn)||jM,p=Math.max(m-1,0);return(y=t.onLog)==null||y.call(t,`autoRecordJoiningIn=${p}, currentQueueTick=${m}, currentTime=${c}`),KT({conferenceId:r.conferenceId,autoRecordJoiningIn:p})}),bs(n.pipe(de(Vl.match),de(c=>c.payload.conferenceId===r.conferenceId)))):[]),Nl(s=>Mg(s)?Yr(Vl({conferenceId:r.conferenceId})):[])))),(n,e,t)=>n.pipe(de(ZT.match),Bn(t),we(([r,[i]])=>{const{conferenceId:s}=r.payload,c=new O_(i);return uf(function(m){var p;return(p=t.onLog)==null||p.call(t,`epic=listenForMeetingInQueue.addHandler, fromAction=addMeetingToQueue, conferenceId=${s}`),c.subscribeToMeeting(s,m)},function(m,p){var y;(y=t.onLog)==null||y.call(t,`epic=listenForMeetingInQueue.removeHandler, fromAction=removeMeetingFromQueue|unsubscribeMeetingInQueue, conferenceId=${s}`),p()}).pipe(bs(n.pipe(_0(GT.type,mf.type),de(u=>u.payload===s))))}),we(r=>{if(!r.createdAt||F9(r.createdAt,"24h"))return[ws({event:zE.DUPLICATED_MEETING_FOUND,params:{conferenceId:r.conferenceId}}),XT(r.conferenceId)];let i=El.GUEST;const{user:s}=e.value.user;r.creator.email===(!!s&&s.email)&&(i=El.HOST);const c={provider:r.provider,conferenceId:r.conferenceId,id:r.id,status:r.status,startedAt:r.startedAt,viewMode:i};return HE(r.status)&&(c.origin=$d.UNSPECIFIED),[er(c),XT(r.conferenceId)]})),(n,e,t)=>n.pipe(de(er.match),de(({payload:r})=>{const i=t.platform===gs.WEB_EXTENSION;return Bd(r.status)&&i}),Dg(({payload:r})=>Yr(er({...r,status:Wr.IDLE})).pipe(Ng(qT),bs(n.pipe(de(er.match),de(({payload:i})=>{const s=t.platform===gs.WEB_EXTENSION;return!Bd(i.status)&&s})))))),(n,e,t)=>n.pipe(de(er.match),de(({payload:r})=>{const i=t.platform===gs.DESKTOP_APP;return Bd(r.status)&&i}),Dg(()=>Yr(Lg([])).pipe(Ng(qT),bs(n.pipe(de(er.match),de(({payload:r})=>{const i=t.platform===gs.DESKTOP_APP;return!Bd(r.status)&&i})))))),MM,LM,v9,(n,e,t)=>n.pipe(de(hf.match),de(()=>!!e.value.auth.accessToken),go(t),po(([{payload:r},i])=>{const s=e.value.queue[r];return df(Yr(Vl({conferenceId:r})),vn(()=>{var c,u;return(s==null?void 0:s.provider)===zd.Zoom?((c=t.onLog)==null||c.call(t,`Asking bot to join with following data. conferenceId=${s==null?void 0:s.conferenceId}, passcode=${s==null?void 0:s.passcode}, meetingName=${s==null?void 0:s.name}, link=${s==null?void 0:s.url} `),i.requestBotToJoinZoomMeeting({link:s.url,meetingName:s.name,passcode:s.passcode},{headers:_n(e.value.auth.accessToken)})):(s==null?void 0:s.provider)===zd.MicrosoftTeams?((u=t.onLog)==null||u.call(t,`Asking bot to join with following data. conferenceId=${s==null?void 0:s.conferenceId}, passcode=${s==null?void 0:s.passcode}, meetingName=${s==null?void 0:s.name}, link=${s==null?void 0:s.url} `),i.requestBotToJoinTeamsMeeting({link:s.url,meetingName:s.name,passcode:s.passcode,conferenceId:s.conferenceId},{headers:_n(e.value.auth.accessToken)})):i.requestBotToJoinGoogleMeeting({provider:s.provider,conferenceId:s.conferenceId,meetingName:s.name},{headers:_n(e.value.auth.accessToken)})}).pipe(we(c=>c!=null&&c.meetingId?[zM(c.meetingId)]:[]),Nl(c=>{const u=er({...s,status:Wr.IDLE});if(c instanceof Error){if(c.message.includes("The meeting has already been triggered"))return[];if(c instanceof Error&&c.message.includes("Unauthorized"))return Yr(xl(),u)}return[u]})))})),yB,_B,(n,e)=>n.pipe(de(er.match),de(({payload:t})=>!!(t.status&&t.status!==Wr.IDLE)),de(()=>{var t;return!((t=e.value.flags)!=null&&t.dismissFirstMeetingTip)}),we(()=>[$g({flag:"dismissFirstMeetingTip",value:!0})])),n=>n.pipe(de(eA.match),we(({payload:e})=>[er({conferenceId:e.conferenceId,showLanguageSwitcher:!0}),Vl({conferenceId:e.conferenceId}),BM()])),(n,e)=>n.pipe(de(Vg.match),we(({payload:t})=>{const r=[$M(t)];return TL(e.value)?[$g({flag:"dismissFirstMeetingTip",value:!0}),eA(t),...r]:[hf(t.conferenceId),...r]})),(n,e,t)=>n.pipe(de(qM.match),de(()=>!!e.value.auth.accessToken),go(t),po(([{payload:r},i])=>{const s=e.value.queue[r.conferenceId];return vn(()=>i.updateUserSettings({chromeExtension:{askMeLanguageCodeEveryMeeting:r.askMeEveryTime},languageCode:r.locale},{headers:_n(e.value.auth.accessToken)})).pipe(we(()=>[WT(s),hf(r.conferenceId)]),Ar())})),(n,e,t)=>n.pipe(de(yf.match),go(t),po(([,r])=>vn(()=>r.getUserSettings({headers:_n(e.value.auth.accessToken)})).pipe(we(i=>[vL(i),bL()]),Ar()))),(n,e,t)=>n.pipe(de(wL.match),go(t),we(([{payload:r},i])=>vn(()=>i.updateUserSettings({...r.data},{headers:_n(e.value.auth.accessToken)})).pipe(we(()=>[yf()]),Ar()))),(n,e,t)=>n.pipe(de(KT.match),we(({payload:r})=>{var i,s;return r.autoRecordJoiningIn===0?((i=t.onLog)==null||i.call(t,"autoRecordJoiningIn, Calling trigger language switcher or bot call"),[Vg({conferenceId:r.conferenceId})]):((s=t.onLog)==null||s.call(t,`autoRecordJoiningIn, updateAutoRecordingTimer, timer=${r.autoRecordJoiningIn}`),[])}))),j9=n=>console.log("[store] ",n),U9=n=>{if(n.databaseOptions){const e=new ez(n.databaseOptions),t=Z$(e.instance);M_.next(e),L_.next(t)}return uB({dependencies:{datasource$:M_,auth$:L_,...n,onLog:n.onLog||j9}})};function Q_(n){return n}const z9={0:Q_,1:Q_,2:n=>({...n,[jn.name]:{...n[jn.name]},[zl.name]:{...n[zl.name],isAutoHighlightOnboardVisible:fA.isAutoHighlightOnboardVisible}}),3:n=>({...n,[jn.name]:{...n[jn.name]}}),4:n=>({...n,[Ul.name]:{...n[Ul.name],timestamp:void 0}}),5:n=>({...n,[Zr.name]:Zr.getInitialState()}),6:n=>({...n,[jn.name]:{...n[jn.name],lastFetchedAt:void 0}}),7:n=>({...n,[Zr.name]:{...n[Zr.name],"os.type":void 0}}),8:n=>({...n,[jn.name]:{...n[jn.name]}}),9:n=>({...n,[Zr.name]:{...n[Zr.name],"lmi.theme":"light"}}),10:n=>({...n,[Zr.name]:{...n[Zr.name],"app.update":jE.LATEST}}),11:Q_,12:n=>({...n,[jn.name]:{...n[jn.name],[bl.FetchCalendarOnJoin]:!1}})},$9={serializableCheck:!1},U0={[pg.name]:pg.reducer,[_g.name]:_g.reducer,[jn.name]:jn.reducer,[ff.name]:ff.reducer,[jg.name]:jg.reducer,[pf.name]:pf.reducer,[zg.name]:zg.reducer,[Ul.name]:Ul.reducer,[zl.name]:zl.reducer,[Zr.name]:Zr.reducer},B9=({preloadedState:n,dependencies:e,devTools:t,enhancers:r=[],composeEnhancer:i,fetchImpl:s,persistConfig:c,debug:u=!1,customEpics:m,customSlices:p,customMigrations:y})=>{let w;const b=[],k=!!(e!=null&&e.databaseOptions);k&&(w=U9(e),b.push(w)),i&&(r=[i(jb(...b))]),s&&b_.initialize(s);const C=c?YL({...c,migrate:aF({...z9,...y||{}}),stateReconciler:XL},lg({...U0,...p})):lg({...U0,...p}),D=XN({reducer:C,preloadedState:n,middleware:N=>{const F=N($9);return i?F:F.concat(b)},devTools:t,enhancers:r});return k&&w.run(g0(V9,...m||[])),c&&sF(D),D},q9="@@REQUEST_SESSION_ID",z0="@@TLDX_WEBEXT",H9="@@CHECK_PERMISSION",G9="@@REQUEST_PERMISSION",W9="@@LOGGER",$0="@@ON_COMMAND",K9="user:logout",Q9=["*://meet.google.com/*-*-*"],J9=["The browser is shutting down.","Non-Error promise rejection captured"],J_="@@EXTENSION_SESSION_ID",Y9="@@TOGGLE_MAIN_PAGE_REQUEST",Z9="@@CHECK_EXTENSION_VERSION",X9="@@CHECK_PLATFORM_INFO";var Mm={exports:{}},e3=Mm.exports,B0;function t3(){return B0||(B0=1,function(n,e){(function(t,r){r(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:e3,function(t){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)t.exports=globalThis.browser;else{const r="The message port closed before a response was received.",i=s=>{const c={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(c).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class u extends WeakMap{constructor(x,I=void 0){super(I),this.createItem=x}get(x){return this.has(x)||this.set(x,this.createItem(x)),super.get(x)}}const m=K=>K&&typeof K=="object"&&typeof K.then=="function",p=(K,x)=>(...I)=>{s.runtime.lastError?K.reject(new Error(s.runtime.lastError.message)):x.singleCallbackArg||I.length<=1&&x.singleCallbackArg!==!1?K.resolve(I[0]):K.resolve(I)},y=K=>K==1?"argument":"arguments",w=(K,x)=>function(A,...P){if(P.length<x.minArgs)throw new Error(`Expected at least ${x.minArgs} ${y(x.minArgs)} for ${K}(), got ${P.length}`);if(P.length>x.maxArgs)throw new Error(`Expected at most ${x.maxArgs} ${y(x.maxArgs)} for ${K}(), got ${P.length}`);return new Promise((O,L)=>{if(x.fallbackToNoCallback)try{A[K](...P,p({resolve:O,reject:L},x))}catch(S){console.warn(`${K} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,S),A[K](...P),x.fallbackToNoCallback=!1,x.noCallback=!0,O()}else x.noCallback?(A[K](...P),O()):A[K](...P,p({resolve:O,reject:L},x))})},b=(K,x,I)=>new Proxy(x,{apply(A,P,O){return I.call(P,K,...O)}});let k=Function.call.bind(Object.prototype.hasOwnProperty);const C=(K,x={},I={})=>{let A=Object.create(null),P={has(L,S){return S in K||S in A},get(L,S,fe){if(S in A)return A[S];if(!(S in K))return;let ue=K[S];if(typeof ue=="function")if(typeof x[S]=="function")ue=b(K,K[S],x[S]);else if(k(I,S)){let je=w(S,I[S]);ue=b(K,K[S],je)}else ue=ue.bind(K);else if(typeof ue=="object"&&ue!==null&&(k(x,S)||k(I,S)))ue=C(ue,x[S],I[S]);else if(k(I,"*"))ue=C(ue,x[S],I["*"]);else return Object.defineProperty(A,S,{configurable:!0,enumerable:!0,get(){return K[S]},set(je){K[S]=je}}),ue;return A[S]=ue,ue},set(L,S,fe,ue){return S in A?A[S]=fe:K[S]=fe,!0},defineProperty(L,S,fe){return Reflect.defineProperty(A,S,fe)},deleteProperty(L,S){return Reflect.deleteProperty(A,S)}},O=Object.create(K);return new Proxy(O,P)},D=K=>({addListener(x,I,...A){x.addListener(K.get(I),...A)},hasListener(x,I){return x.hasListener(K.get(I))},removeListener(x,I){x.removeListener(K.get(I))}}),N=new u(K=>typeof K!="function"?K:function(I){const A=C(I,{},{getContent:{minArgs:0,maxArgs:0}});K(A)}),F=new u(K=>typeof K!="function"?K:function(I,A,P){let O=!1,L,S=new Promise(J=>{L=function(z){O=!0,J(z)}}),fe;try{fe=K(I,A,L)}catch(J){fe=Promise.reject(J)}const ue=fe!==!0&&m(fe);if(fe!==!0&&!ue&&!O)return!1;const je=J=>{J.then(z=>{P(z)},z=>{let X;z&&(z instanceof Error||typeof z.message=="string")?X=z.message:X="An unexpected error occurred",P({__mozWebExtensionPolyfillReject__:!0,message:X})}).catch(z=>{console.error("Failed to send onMessage rejected reply",z)})};return je(ue?fe:S),!0}),q=({reject:K,resolve:x},I)=>{s.runtime.lastError?s.runtime.lastError.message===r?x():K(new Error(s.runtime.lastError.message)):I&&I.__mozWebExtensionPolyfillReject__?K(new Error(I.message)):x(I)},G=(K,x,I,...A)=>{if(A.length<x.minArgs)throw new Error(`Expected at least ${x.minArgs} ${y(x.minArgs)} for ${K}(), got ${A.length}`);if(A.length>x.maxArgs)throw new Error(`Expected at most ${x.maxArgs} ${y(x.maxArgs)} for ${K}(), got ${A.length}`);return new Promise((P,O)=>{const L=q.bind(null,{resolve:P,reject:O});A.push(L),I.sendMessage(...A)})},re={devtools:{network:{onRequestFinished:D(N)}},runtime:{onMessage:D(F),onMessageExternal:D(F),sendMessage:G.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:G.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Q={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return c.privacy={network:{"*":Q},services:{"*":Q},websites:{"*":Q}},C(s,re,c)};t.exports=i(chrome)}})}(Mm)),Mm.exports}var n3=t3();const q0=Bg(n3),r3=async()=>{const n=await q0.tabs.query({url:Q9});return Dt.warn("background",`function=getConferenceIdsFromTabs, tabsToCheck=${n.length}`),n.filter(e=>!!e.url).map(e=>e.url).filter(e=>i2(e)).map(e=>o2(e))},at=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ds="8.54.0",nt=globalThis;function Lm(n,e,t){const r=t||nt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Ds]=i[Ds]||{};return s[n]||(s[n]=e())}const Ms=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,i3="Sentry Logger ",Y_=["debug","info","warn","error","log","assert","trace"],Fm={};function Ls(n){if(!("console"in nt))return n();const e=nt.console,t={},r=Object.keys(Fm);r.forEach(i=>{const s=Fm[i];t[i]=e[i],e[i]=s});try{return n()}finally{r.forEach(i=>{e[i]=t[i]})}}function o3(){let n=!1;const e={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return Ms?Y_.forEach(t=>{e[t]=(...r)=>{n&&Ls(()=>{nt.console[t](`${i3}[${t}]:`,...r)})}}):Y_.forEach(t=>{e[t]=()=>{}}),e}const Fe=Lm("logger",o3),H0=50,Fs="?",G0=/\(error: (.*)\)/,W0=/captureMessage|captureException/;function K0(...n){const e=n.sort((t,r)=>t[0]-r[0]).map(t=>t[1]);return(t,r=0,i=0)=>{const s=[],c=t.split(`
`);for(let u=r;u<c.length;u++){const m=c[u];if(m.length>1024)continue;const p=G0.test(m)?m.replace(G0,"$1"):m;if(!p.match(/\S*Error: /)){for(const y of e){const w=y(p);if(w){s.push(w);break}}if(s.length>=H0+i)break}}return a3(s.slice(i))}}function s3(n){return Array.isArray(n)?K0(...n):n}function a3(n){if(!n.length)return[];const e=Array.from(n);return/sentryWrapped/.test(Vm(e).function||"")&&e.pop(),e.reverse(),W0.test(Vm(e).function||"")&&(e.pop(),W0.test(Vm(e).function||"")&&e.pop()),e.slice(0,H0).map(t=>({...t,filename:t.filename||Vm(e).filename,function:t.function||Fs}))}function Vm(n){return n[n.length-1]||{}}const Z_="<anonymous>";function Lo(n){try{return!n||typeof n!="function"?Z_:n.name||Z_}catch{return Z_}}function Q0(n){const e=n.exception;if(e){const t=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&t.push(...r.stacktrace.frames)}),t}catch{return}}}const jm={},J0={};function Vs(n,e){jm[n]=jm[n]||[],jm[n].push(e)}function js(n,e){if(!J0[n]){J0[n]=!0;try{e()}catch(t){Ms&&Fe.error(`Error while instrumenting ${n}`,t)}}}function Ir(n,e){const t=n&&jm[n];if(t)for(const r of t)try{r(e)}catch(i){Ms&&Fe.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${Lo(r)}
Error:`,i)}}let X_=null;function c3(n){const e="error";Vs(e,n),js(e,l3)}function l3(){X_=nt.onerror,nt.onerror=function(n,e,t,r,i){return Ir("error",{column:r,error:i,line:t,msg:n,url:e}),X_?X_.apply(this,arguments):!1},nt.onerror.__SENTRY_INSTRUMENTED__=!0}let ev=null;function u3(n){const e="unhandledrejection";Vs(e,n),js(e,d3)}function d3(){ev=nt.onunhandledrejection,nt.onunhandledrejection=function(n){return Ir("unhandledrejection",n),ev?ev.apply(this,arguments):!0},nt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Um(){return tv(nt),nt}function tv(n){const e=n.__SENTRY__=n.__SENTRY__||{};return e.version=e.version||Ds,e[Ds]=e[Ds]||{}}const Y0=Object.prototype.toString;function nv(n){switch(Y0.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Us(n,Error)}}function rc(n,e){return Y0.call(n)===`[object ${e}]`}function Z0(n){return rc(n,"ErrorEvent")}function X0(n){return rc(n,"DOMError")}function f3(n){return rc(n,"DOMException")}function Mi(n){return rc(n,"String")}function rv(n){return typeof n=="object"&&n!==null&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function iv(n){return n===null||rv(n)||typeof n!="object"&&typeof n!="function"}function ic(n){return rc(n,"Object")}function zm(n){return typeof Event<"u"&&Us(n,Event)}function m3(n){return typeof Element<"u"&&Us(n,Element)}function h3(n){return rc(n,"RegExp")}function $m(n){return!!(n&&n.then&&typeof n.then=="function")}function p3(n){return ic(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function Us(n,e){try{return n instanceof e}catch{return!1}}function eR(n){return!!(typeof n=="object"&&n!==null&&(n.__isVue||n._isVue))}const ov=nt,g3=80;function tR(n,e={}){if(!n)return"<unknown>";try{let t=n;const r=5,i=[];let s=0,c=0;const u=" > ",m=u.length;let p;const y=Array.isArray(e)?e:e.keyAttrs,w=!Array.isArray(e)&&e.maxStringLength||g3;for(;t&&s++<r&&(p=y3(t,y),!(p==="html"||s>1&&c+i.length*m+p.length>=w));)i.push(p),c+=p.length,t=t.parentNode;return i.reverse().join(u)}catch{return"<unknown>"}}function y3(n,e){const t=n,r=[];if(!t||!t.tagName)return"";if(ov.HTMLElement&&t instanceof HTMLElement&&t.dataset){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}r.push(t.tagName.toLowerCase());const i=e&&e.length?e.filter(c=>t.getAttribute(c)).map(c=>[c,t.getAttribute(c)]):null;if(i&&i.length)i.forEach(c=>{r.push(`[${c[0]}="${c[1]}"]`)});else{t.id&&r.push(`#${t.id}`);const c=t.className;if(c&&Mi(c)){const u=c.split(/\s+/);for(const m of u)r.push(`.${m}`)}}const s=["aria-label","type","name","title","alt"];for(const c of s){const u=t.getAttribute(c);u&&r.push(`[${c}="${u}"]`)}return r.join("")}function _3(){try{return ov.document.location.href}catch{return""}}function v3(n){if(!ov.HTMLElement)return null;let e=n;const t=5;for(let r=0;r<t;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function oc(n,e=0){return typeof n!="string"||e===0||n.length<=e?n:`${n.slice(0,e)}...`}function nR(n,e){if(!Array.isArray(n))return"";const t=[];for(let r=0;r<n.length;r++){const i=n[r];try{eR(i)?t.push("[VueViewModel]"):t.push(String(i))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}function w3(n,e,t=!1){return Mi(n)?h3(e)?e.test(n):Mi(e)?t?n===e:n.includes(e):!1:!1}function Bm(n,e=[],t=!1){return e.some(r=>w3(n,r,t))}function qn(n,e,t){if(!(e in n))return;const r=n[e],i=t(r);typeof i=="function"&&rR(i,r);try{n[e]=i}catch{Ms&&Fe.log(`Failed to replace method "${e}" in object`,n)}}function zs(n,e,t){try{Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0})}catch{Ms&&Fe.log(`Failed to add non-enumerable property "${e}" to object`,n)}}function rR(n,e){try{const t=e.prototype||{};n.prototype=e.prototype=t,zs(n,"__sentry_original__",e)}catch{}}function sv(n){return n.__sentry_original__}function iR(n){if(nv(n))return{message:n.message,name:n.name,stack:n.stack,...sR(n)};if(zm(n)){const e={type:n.type,target:oR(n.target),currentTarget:oR(n.currentTarget),...sR(n)};return typeof CustomEvent<"u"&&Us(n,CustomEvent)&&(e.detail=n.detail),e}else return n}function oR(n){try{return m3(n)?tR(n):Object.prototype.toString.call(n)}catch{return"<unknown>"}}function sR(n){if(typeof n=="object"&&n!==null){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}else return{}}function E3(n,e=40){const t=Object.keys(iR(n));t.sort();const r=t[0];if(!r)return"[object has no keys]";if(r.length>=e)return oc(r,e);for(let i=t.length;i>0;i--){const s=t.slice(0,i).join(", ");if(!(s.length>e))return i===t.length?s:oc(s,e)}return""}function or(n){return av(n,new Map)}function av(n,e){if(b3(n)){const t=e.get(n);if(t!==void 0)return t;const r={};e.set(n,r);for(const i of Object.getOwnPropertyNames(n))typeof n[i]<"u"&&(r[i]=av(n[i],e));return r}if(Array.isArray(n)){const t=e.get(n);if(t!==void 0)return t;const r=[];return e.set(n,r),n.forEach(i=>{r.push(av(i,e))}),r}return n}function b3(n){if(!ic(n))return!1;try{const e=Object.getPrototypeOf(n).constructor.name;return!e||e==="Object"}catch{return!0}}const aR=1e3;function Ou(){return Date.now()/aR}function T3(){const{performance:n}=nt;if(!n||!n.now)return Ou;const e=Date.now()-n.now(),t=n.timeOrigin==null?e:n.timeOrigin;return()=>(t+n.now())/aR}const Li=T3();(()=>{const{performance:n}=nt;if(!n||!n.now)return;const e=3600*1e3,t=n.now(),r=Date.now(),i=n.timeOrigin?Math.abs(n.timeOrigin+t-r):e,s=i<e,c=n.timing&&n.timing.navigationStart,m=typeof c=="number"?Math.abs(c+t-r):e,p=m<e;return s||p?i<=m?n.timeOrigin:c:r})();function sr(){const n=nt,e=n.crypto||n.msCrypto;let t=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function cR(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function Fo(n){const{message:e,event_id:t}=n;if(e)return e;const r=cR(n);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||t||"<unknown>":t||"<unknown>"}function cv(n,e,t){const r=n.exception=n.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function sc(n,e){const t=cR(n);if(!t)return;const r={type:"generic",handled:!0},i=t.mechanism;if(t.mechanism={...r,...i,...e},e&&"data"in e){const s={...i&&i.data,...e.data};t.mechanism.data=s}}function lR(n){if(A3(n))return!0;try{zs(n,"__sentry_captured__",!0)}catch{}return!1}function A3(n){try{return n.__sentry_captured__}catch{}}var Fi;(function(n){n[n.PENDING=0]="PENDING";const t=1;n[n.RESOLVED=t]="RESOLVED";const r=2;n[n.REJECTED=r]="REJECTED"})(Fi||(Fi={}));function $s(n){return new ar(e=>{e(n)})}function qm(n){return new ar((e,t)=>{t(n)})}class ar{constructor(e){ar.prototype.__init.call(this),ar.prototype.__init2.call(this),ar.prototype.__init3.call(this),ar.prototype.__init4.call(this),this._state=Fi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new ar((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(c){i(c)}},s=>{if(!t)i(s);else try{r(t(s))}catch(c){i(c)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new ar((t,r)=>{let i,s;return this.then(c=>{s=!1,i=c,e&&e()},c=>{s=!0,i=c,e&&e()}).then(()=>{if(s){r(i);return}t(i)})})}__init(){this._resolve=e=>{this._setResult(Fi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Fi.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===Fi.PENDING){if($m(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===Fi.RESOLVED&&t[1](this._value),this._state===Fi.REJECTED&&t[2](this._value),t[0]=!0)})}}}function S3(n){const e=Li(),t={sid:sr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>k3(t)};return n&&ac(t,n),t}function ac(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||Li(),e.abnormal_mechanism&&(n.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=e.sid.length===32?e.sid:sr()),e.init!==void 0&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),typeof e.started=="number"&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if(typeof e.duration=="number")n.duration=e.duration;else{const t=n.timestamp-n.started;n.duration=t>=0?t:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),typeof e.errors=="number"&&(n.errors=e.errors),e.status&&(n.status=e.status)}function I3(n,e){let t={};n.status==="ok"&&(t={status:"exited"}),ac(n,t)}function k3(n){return or({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}function uR(){return sr()}function lv(){return sr().substring(16)}function Hm(n,e,t=2){if(!e||typeof e!="object"||t<=0)return e;if(n&&e&&Object.keys(e).length===0)return n;const r={...n};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=Hm(r[i],e[i],t-1));return r}const uv="_sentrySpan";function dR(n,e){e?zs(n,uv,e):delete n[uv]}function fR(n){return n[uv]}const R3=100;class dv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:uR(),spanId:lv()}}clone(){const e=new dv;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,dR(e,fR(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ac(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=typeof e=="function"?e(this):e,[r,i]=t instanceof Bs?[t.getScopeData(),t.getRequestSession()]:ic(t)?[e,e.requestSession]:[],{tags:s,extra:c,user:u,contexts:m,level:p,fingerprint:y=[],propagationContext:w}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...c},this._contexts={...this._contexts,...m},u&&Object.keys(u).length&&(this._user=u),p&&(this._level=p),y.length&&(this._fingerprint=y),w&&(this._propagationContext=w),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,dR(this,void 0),this._attachments=[],this.setPropagationContext({traceId:uR()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const r=typeof t=="number"?t:R3;if(r<=0)return this;const i={timestamp:Ou(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:fR(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Hm(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:lv(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t&&t.event_id?t.event_id:sr();if(!this._client)return Fe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...t,event_id:r},this),r}captureMessage(e,t,r){const i=r&&r.event_id?r.event_id:sr();if(!this._client)return Fe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,t){const r=t&&t.event_id?t.event_id:sr();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(Fe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Bs=dv;function P3(){return Lm("defaultCurrentScope",()=>new Bs)}function C3(){return Lm("defaultIsolationScope",()=>new Bs)}class x3{constructor(e,t){let r;e?r=e:r=new Bs;let i;t?i=t:i=new Bs,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const t=this._pushScope();let r;try{r=e(t)}catch(i){throw this._popScope(),i}return $m(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function cc(){const n=Um(),e=tv(n);return e.stack=e.stack||new x3(P3(),C3())}function O3(n){return cc().withScope(n)}function N3(n,e){const t=cc();return t.withScope(()=>(t.getStackTop().scope=n,e(n)))}function mR(n){return cc().withScope(()=>n(cc().getIsolationScope()))}function D3(){return{withIsolationScope:mR,withScope:O3,withSetScope:N3,withSetIsolationScope:(n,e)=>mR(e),getCurrentScope:()=>cc().getScope(),getIsolationScope:()=>cc().getIsolationScope()}}function fv(n){const e=tv(n);return e.acs?e.acs:D3()}function Vi(){const n=Um();return fv(n).getCurrentScope()}function Vo(){const n=Um();return fv(n).getIsolationScope()}function M3(){return Lm("globalScope",()=>new Bs)}function L3(...n){const e=Um(),t=fv(e);if(n.length===2){const[r,i]=n;return r?t.withSetScope(r,i):t.withScope(i)}return t.withScope(n[0])}function fn(){return Vi().getClient()}function F3(n){const e=n.getPropagationContext(),{traceId:t,spanId:r,parentSpanId:i}=e;return or({trace_id:t,span_id:r,parent_span_id:i})}const V3="_sentryMetrics";function j3(n){const e=n[V3];if(!e)return;const t={};for(const[,[r,i]]of e)(t[r]||(t[r]=[])).push(or(i));return t}const U3="sentry.source",z3="sentry.sample_rate",$3="sentry.op",B3="sentry.origin",q3=0,H3=1,G3="sentry-",W3=/^sentry-/;function K3(n){const e=Q3(n);if(!e)return;const t=Object.entries(e).reduce((r,[i,s])=>{if(i.match(W3)){const c=i.slice(G3.length);r[c]=s}return r},{});if(Object.keys(t).length>0)return t}function Q3(n){if(!(!n||!Mi(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((e,t)=>{const r=hR(t);return Object.entries(r).forEach(([i,s])=>{e[i]=s}),e},{}):hR(n)}function hR(n){return n.split(",").map(e=>e.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}const J3=1;let pR=!1;function Y3(n){const{spanId:e,traceId:t,isRemote:r}=n.spanContext(),i=r?e:mv(n).parent_span_id,s=r?lv():e;return or({parent_span_id:i,span_id:s,trace_id:t})}function gR(n){return typeof n=="number"?yR(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?yR(n.getTime()):Li()}function yR(n){return n>9999999999?n/1e3:n}function mv(n){if(X3(n))return n.getSpanJSON();try{const{spanId:e,traceId:t}=n.spanContext();if(Z3(n)){const{attributes:r,startTime:i,name:s,endTime:c,parentSpanId:u,status:m}=n;return or({span_id:e,trace_id:t,data:r,description:s,parent_span_id:u,start_timestamp:gR(i),timestamp:gR(c)||void 0,status:t6(m),op:r[$3],origin:r[B3],_metrics_summary:j3(n)})}return{span_id:e,trace_id:t}}catch{return{}}}function Z3(n){const e=n;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function X3(n){return typeof n.getSpanJSON=="function"}function e6(n){const{traceFlags:e}=n.spanContext();return e===J3}function t6(n){if(!(!n||n.code===q3))return n.code===H3?"ok":n.message||"unknown_error"}const n6="_sentryRootSpan";function _R(n){return n[n6]||n}function r6(){pR||(Ls(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),pR=!0)}function i6(n){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=fn(),t=e&&e.getOptions();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}const hv="production",o6="_frozenDsc";function vR(n,e){const t=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=or({environment:t.environment||hv,release:t.release,public_key:r,trace_id:n});return e.emit("createDsc",i),i}function s6(n,e){const t=e.getPropagationContext();return t.dsc||vR(t.traceId,n)}function a6(n){const e=fn();if(!e)return{};const t=_R(n),r=t[o6];if(r)return r;const i=t.spanContext().traceState,s=i&&i.get("sentry.dsc"),c=s&&K3(s);if(c)return c;const u=vR(n.spanContext().traceId,e),m=mv(t),p=m.data||{},y=p[z3];y!=null&&(u.sample_rate=`${y}`);const w=p[U3],b=m.description;return w!=="url"&&b&&(u.transaction=b),i6()&&(u.sampled=String(e6(t))),e.emit("createDsc",u,t),u}function c6(n){if(typeof n=="boolean")return Number(n);const e=typeof n=="string"?parseFloat(n):n;if(typeof e!="number"||isNaN(e)||e<0||e>1){at&&Fe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`);return}return e}const l6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function u6(n){return n==="http"||n==="https"}function Gm(n,e=!1){const{host:t,path:r,pass:i,port:s,projectId:c,protocol:u,publicKey:m}=n;return`${u}://${m}${e&&i?`:${i}`:""}@${t}${s?`:${s}`:""}/${r&&`${r}/`}${c}`}function d6(n){const e=l6.exec(n);if(!e){Ls(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});return}const[t,r,i="",s="",c="",u=""]=e.slice(1);let m="",p=u;const y=p.split("/");if(y.length>1&&(m=y.slice(0,-1).join("/"),p=y.pop()),p){const w=p.match(/^\d+/);w&&(p=w[0])}return wR({host:s,pass:i,path:m,projectId:p,port:c,protocol:t,publicKey:r})}function wR(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function f6(n){if(!Ms)return!0;const{port:e,projectId:t,protocol:r}=n;return["protocol","publicKey","host","projectId"].find(c=>n[c]?!1:(Fe.error(`Invalid Sentry Dsn: ${c} missing`),!0))?!1:t.match(/^\d+$/)?u6(r)?e&&isNaN(parseInt(e,10))?(Fe.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Fe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Fe.error(`Invalid Sentry Dsn: Invalid projectId ${t}`),!1)}function m6(n){const e=typeof n=="string"?d6(n):wR(n);if(!(!e||!f6(e)))return e}function h6(){const n=typeof WeakSet=="function",e=n?new WeakSet:[];function t(i){if(n)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}function r(i){if(n)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[t,r]}function ji(n,e=100,t=1/0){try{return pv("",n,e,t)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ER(n,e=3,t=102400){const r=ji(n,e);return _6(r)>t?ER(n,e-1,t):r}function pv(n,e,t=1/0,r=1/0,i=h6()){const[s,c]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const u=p6(n,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;const m=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:t;if(m===0)return u.replace("object ","");if(s(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{const k=p.toJSON();return pv("",k,m-1,r,i)}catch{}const y=Array.isArray(e)?[]:{};let w=0;const b=iR(e);for(const k in b){if(!Object.prototype.hasOwnProperty.call(b,k))continue;if(w>=r){y[k]="[MaxProperties ~]";break}const C=b[k];y[k]=pv(k,C,m-1,r,i),w++}return c(e),y}function p6(n,e){try{if(n==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(n==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(eR(e))return"[VueViewModel]";if(p3(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Lo(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const t=g6(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}function g6(n){const e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}function y6(n){return~-encodeURI(n).split(/%..|./).length}function _6(n){return y6(JSON.stringify(n))}function Nu(n,e=[]){return[n,e]}function v6(n,e){const[t,r]=n;return[t,[...r,e]]}function bR(n,e){const t=n[1];for(const r of t){const i=r[0].type;if(e(r,i))return!0}return!1}function gv(n){return nt.__SENTRY__&&nt.__SENTRY__.encodePolyfill?nt.__SENTRY__.encodePolyfill(n):new TextEncoder().encode(n)}function w6(n){const[e,t]=n;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[gv(r),s]:r.push(typeof s=="string"?gv(s):s)}for(const s of t){const[c,u]=s;if(i(`
${JSON.stringify(c)}
`),typeof u=="string"||u instanceof Uint8Array)i(u);else{let m;try{m=JSON.stringify(u)}catch{m=JSON.stringify(ji(u))}i(m)}}return typeof r=="string"?r:E6(r)}function E6(n){const e=n.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}function b6(n){const e=typeof n.data=="string"?gv(n.data):n.data;return[or({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}const T6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function TR(n){return T6[n]}function AR(n){if(!n||!n.sdk)return;const{name:e,version:t}=n.sdk;return{name:e,version:t}}function A6(n,e,t,r){const i=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:n.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!t&&r&&{dsn:Gm(r)},...i&&{trace:or({...i})}}}function S6(n,e){return e&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||e.name,n.sdk.version=n.sdk.version||e.version,n.sdk.integrations=[...n.sdk.integrations||[],...e.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...e.packages||[]]),n}function I6(n,e,t,r){const i=AR(t),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:Gm(e)}},c="aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()];return Nu(s,[c])}function k6(n,e,t,r){const i=AR(t),s=n.type&&n.type!=="replay_event"?n.type:"event";S6(n,t&&t.sdk);const c=A6(n,i,r,e);return delete n.sdkProcessingMetadata,Nu(c,[[{type:s},n]])}function yv(n,e,t,r=0){return new ar((i,s)=>{const c=n[r];if(e===null||typeof c!="function")i(e);else{const u=c({...e},t);at&&c.id&&u===null&&Fe.log(`Event processor "${c.id}" dropped event`),$m(u)?u.then(m=>yv(n,m,t,r+1).then(i)).then(null,s):yv(n,u,t,r+1).then(i).then(null,s)}})}let Wm,SR,Km;function R6(n){const e=nt._sentryDebugIds;if(!e)return{};const t=Object.keys(e);return Km&&t.length===SR||(SR=t.length,Km=t.reduce((r,i)=>{Wm||(Wm={});const s=Wm[i];if(s)r[s[0]]=s[1];else{const c=n(i);for(let u=c.length-1;u>=0;u--){const m=c[u],p=m&&m.filename,y=e[i];if(p&&y){r[p]=y,Wm[i]=[p,y];break}}}return r},{})),Km}function P6(n,e){const{fingerprint:t,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;C6(n,e),r&&N6(n,r),D6(n,t),x6(n,i),O6(n,s)}function IR(n,e){const{extra:t,tags:r,user:i,contexts:s,level:c,sdkProcessingMetadata:u,breadcrumbs:m,fingerprint:p,eventProcessors:y,attachments:w,propagationContext:b,transactionName:k,span:C}=e;Qm(n,"extra",t),Qm(n,"tags",r),Qm(n,"user",i),Qm(n,"contexts",s),n.sdkProcessingMetadata=Hm(n.sdkProcessingMetadata,u,2),c&&(n.level=c),k&&(n.transactionName=k),C&&(n.span=C),m.length&&(n.breadcrumbs=[...n.breadcrumbs,...m]),p.length&&(n.fingerprint=[...n.fingerprint,...p]),y.length&&(n.eventProcessors=[...n.eventProcessors,...y]),w.length&&(n.attachments=[...n.attachments,...w]),n.propagationContext={...n.propagationContext,...b}}function Qm(n,e,t){n[e]=Hm(n[e],t,1)}function C6(n,e){const{extra:t,tags:r,user:i,contexts:s,level:c,transactionName:u}=e,m=or(t);m&&Object.keys(m).length&&(n.extra={...m,...n.extra});const p=or(r);p&&Object.keys(p).length&&(n.tags={...p,...n.tags});const y=or(i);y&&Object.keys(y).length&&(n.user={...y,...n.user});const w=or(s);w&&Object.keys(w).length&&(n.contexts={...w,...n.contexts}),c&&(n.level=c),u&&n.type!=="transaction"&&(n.transaction=u)}function x6(n,e){const t=[...n.breadcrumbs||[],...e];n.breadcrumbs=t.length?t:void 0}function O6(n,e){n.sdkProcessingMetadata={...n.sdkProcessingMetadata,...e}}function N6(n,e){n.contexts={trace:Y3(e),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:a6(e),...n.sdkProcessingMetadata};const t=_R(e),r=mv(t).description;r&&!n.transaction&&n.type==="transaction"&&(n.transaction=r)}function D6(n,e){n.fingerprint=n.fingerprint?Array.isArray(n.fingerprint)?n.fingerprint:[n.fingerprint]:[],e&&(n.fingerprint=n.fingerprint.concat(e)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}function M6(n,e,t,r,i,s){const{normalizeDepth:c=3,normalizeMaxBreadth:u=1e3}=n,m={...e,event_id:e.event_id||t.event_id||sr(),timestamp:e.timestamp||Ou()},p=t.integrations||n.integrations.map(N=>N.name);L6(m,n),j6(m,p),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&F6(m,n.stackParser);const y=z6(r,t.captureContext);t.mechanism&&sc(m,t.mechanism);const w=i?i.getEventProcessors():[],b=M3().getScopeData();if(s){const N=s.getScopeData();IR(b,N)}if(y){const N=y.getScopeData();IR(b,N)}const k=[...t.attachments||[],...b.attachments];k.length&&(t.attachments=k),P6(m,b);const C=[...w,...b.eventProcessors];return yv(C,m,t).then(N=>(N&&V6(N),typeof c=="number"&&c>0?U6(N,c,u):N))}function L6(n,e){const{environment:t,release:r,dist:i,maxValueLength:s=250}=e;n.environment=n.environment||t||hv,!n.release&&r&&(n.release=r),!n.dist&&i&&(n.dist=i),n.message&&(n.message=oc(n.message,s));const c=n.exception&&n.exception.values&&n.exception.values[0];c&&c.value&&(c.value=oc(c.value,s));const u=n.request;u&&u.url&&(u.url=oc(u.url,s))}function F6(n,e){const t=R6(e);try{n.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{t&&i.filename&&(i.debug_id=t[i.filename])})})}catch{}}function V6(n){const e={};try{n.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const t=n.debug_meta.images;Object.entries(e).forEach(([r,i])=>{t.push({type:"sourcemap",code_file:r,debug_id:i})})}function j6(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}function U6(n,e,t){if(!n)return null;const r={...n,...n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(i=>({...i,...i.data&&{data:ji(i.data,e,t)}}))},...n.user&&{user:ji(n.user,e,t)},...n.contexts&&{contexts:ji(n.contexts,e,t)},...n.extra&&{extra:ji(n.extra,e,t)}};return n.contexts&&n.contexts.trace&&r.contexts&&(r.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(r.contexts.trace.data=ji(n.contexts.trace.data,e,t))),n.spans&&(r.spans=n.spans.map(i=>({...i,...i.data&&{data:ji(i.data,e,t)}}))),n.contexts&&n.contexts.flags&&r.contexts&&(r.contexts.flags=ji(n.contexts.flags,3,t)),r}function z6(n,e){if(!e)return n;const t=n?n.clone():new Bs;return t.update(e),t}function IW(n){}function $6(n,e){return Vi().captureException(n,void 0)}function kR(n,e){return Vi().captureEvent(n,e)}function Jm(n){Vo().setTags(n)}function _v(n,e){Vo().setTag(n,e)}function B6(n){Vo().setUser(n)}function RR(n){const e=fn(),t=Vo(),r=Vi(),{release:i,environment:s=hv}=e&&e.getOptions()||{},{userAgent:c}=nt.navigator||{},u=S3({release:i,environment:s,user:r.getUser()||t.getUser(),...c&&{userAgent:c},...n}),m=t.getSession();return m&&m.status==="ok"&&ac(m,{status:"exited"}),PR(),t.setSession(u),r.setSession(u),u}function PR(){const n=Vo(),e=Vi(),t=e.getSession()||n.getSession();t&&I3(t),CR(),n.setSession(),e.setSession()}function CR(){const n=Vo(),e=Vi(),t=fn(),r=e.getSession()||n.getSession();r&&t&&t.captureSession(r)}function xR(n=!1){if(n){PR();return}CR()}const q6="7";function H6(n){const e=n.protocol?`${n.protocol}:`:"",t=n.port?`:${n.port}`:"";return`${e}//${n.host}${t}${n.path?`/${n.path}`:""}/api/`}function G6(n){return`${H6(n)}${n.projectId}/envelope/`}function W6(n,e){const t={sentry_version:q6};return n.publicKey&&(t.sentry_key=n.publicKey),e&&(t.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(t).toString()}function K6(n,e,t){return e||`${G6(n)}?${W6(n,t)}`}const OR=[];function Q6(n){const e={};return n.forEach(t=>{const{name:r}=t,i=e[r];i&&!i.isDefaultInstance&&t.isDefaultInstance||(e[r]=t)}),Object.values(e)}function J6(n){const e=n.defaultIntegrations||[],t=n.integrations;e.forEach(c=>{c.isDefaultInstance=!0});let r;if(Array.isArray(t))r=[...e,...t];else if(typeof t=="function"){const c=t(e);r=Array.isArray(c)?c:[c]}else r=e;const i=Q6(r),s=i.findIndex(c=>c.name==="Debug");if(s>-1){const[c]=i.splice(s,1);i.push(c)}return i}function Y6(n,e){const t={};return e.forEach(r=>{r&&DR(n,r,t)}),t}function NR(n,e){for(const t of e)t&&t.afterAllSetup&&t.afterAllSetup(n)}function DR(n,e,t){if(t[e.name]){at&&Fe.log(`Integration skipped because it was already installed: ${e.name}`);return}if(t[e.name]=e,OR.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),OR.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(n),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);n.on("preprocessEvent",(i,s)=>r(i,s,n))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign((s,c)=>r(s,c,n),{id:e.name});n.addEventProcessor(i)}at&&Fe.log(`Integration installed: ${e.name}`)}function kW(n){return n}function Z6(n,e,t){const r=[{type:"client_report"},{timestamp:Ou(),discarded_events:n}];return Nu(e?{dsn:e}:{},[r])}class kr extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}const MR="Not capturing exception because it's already been captured.";class X6{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=m6(e.dsn):at&&Fe.warn("No DSN provided, client will not send events."),this._dsn){const i=K6(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);r&&Ls(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,t,r){const i=sr();if(lR(e))return at&&Fe.log(MR),i;const s={event_id:i,...t};return this._process(this.eventFromException(e,s).then(c=>this._captureEvent(c,s,r))),s.event_id}captureMessage(e,t,r,i){const s={event_id:sr(),...r},c=rv(e)?e:String(e),u=iv(e)?this.eventFromMessage(c,t,s):this.eventFromException(e,s);return this._process(u.then(m=>this._captureEvent(m,s,i))),s.event_id}captureEvent(e,t,r){const i=sr();if(t&&t.originalException&&lR(t.originalException))return at&&Fe.log(MR),i;const s={event_id:i,...t},u=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,u||r)),s.event_id}captureSession(e){typeof e.release!="string"?at&&Fe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ac(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(i=>r&&i))):$s(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];DR(this,e,this._integrations),t||NR(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=k6(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of t.attachments||[])r=v6(r,b6(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const t=I6(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${e}:${t}`;at&&Fe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,t){const r=this._hooks[e]=this._hooks[e]||[];return r.push(t),()=>{const i=r.indexOf(t);i>-1&&r.splice(i,1)}}emit(e,...t){const r=this._hooks[e];r&&r.forEach(i=>i(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(at&&Fe.error("Error while sending envelope:",t),t)):(at&&Fe.error("Transport disabled"),$s({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=Y6(this,e),NR(this,e)}_updateSessionFromEvent(e,t){let r=t.level==="fatal",i=!1;const s=t.exception&&t.exception.values;if(s){i=!0;for(const m of s){const p=m.mechanism;if(p&&p.handled===!1){r=!0;break}}}const c=e.status==="ok";(c&&e.errors===0||c&&r)&&(ac(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ar(t=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),t(!0)):(r+=i,e&&r>=e&&(clearInterval(s),t(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,r=Vi(),i=Vo()){const s=this.getOptions(),c=Object.keys(this._integrations);return!t.integrations&&c.length>0&&(t.integrations=c),this.emit("preprocessEvent",e,t),e.type||i.setLastEventId(e.event_id||t.event_id),M6(s,e,t,r,this,i).then(u=>{if(u===null)return u;u.contexts={trace:F3(r),...u.contexts};const m=s6(this,r);return u.sdkProcessingMetadata={dynamicSamplingContext:m,...u.sdkProcessingMetadata},u})}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then(i=>i.event_id,i=>{at&&(i instanceof kr&&i.logLevel==="log"?Fe.log(i.message):Fe.warn(i))})}_processEvent(e,t,r){const i=this.getOptions(),{sampleRate:s}=i,c=FR(e),u=LR(e),m=e.type||"error",p=`before send for type \`${m}\``,y=typeof s>"u"?void 0:c6(s);if(u&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),qm(new kr(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const w=m==="replay_event"?"replay":m,k=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,k).then(C=>{if(C===null)throw this.recordDroppedEvent("event_processor",w,e),new kr("An event processor returned `null`, will not send event.","log");if(t.data&&t.data.__sentry__===!0)return C;const N=tq(this,i,C,t);return eq(N,p)}).then(C=>{if(C===null){if(this.recordDroppedEvent("before_send",w,e),c){const q=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",q)}throw new kr(`${p} returned \`null\`, will not send event.`,"log")}const D=r&&r.getSession();if(!c&&D&&this._updateSessionFromEvent(D,C),c){const F=C.sdkProcessingMetadata&&C.sdkProcessingMetadata.spanCountBeforeProcessing||0,q=C.spans?C.spans.length:0,G=F-q;G>0&&this.recordDroppedEvent("before_send","span",G)}const N=C.transaction_info;if(c&&N&&C.transaction!==e.transaction){const F="custom";C.transaction_info={...N,source:F}}return this.sendEvent(C,t),C}).then(null,C=>{throw C instanceof kr?C:(this.captureException(C,{data:{__sentry__:!0},originalException:C}),new kr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${C}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,r])=>{const[i,s]=t.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){at&&Fe.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){at&&Fe.log("No outcomes to send");return}if(!this._dsn){at&&Fe.log("No dsn provided, will not send outcomes");return}at&&Fe.log("Sending outcomes:",e);const t=Z6(e,this._options.tunnel&&Gm(this._dsn));this.sendEnvelope(t)}}function eq(n,e){const t=`${e} must return \`null\` or a valid event.`;if($m(n))return n.then(r=>{if(!ic(r)&&r!==null)throw new kr(t);return r},r=>{throw new kr(`${e} rejected with ${r}`)});if(!ic(n)&&n!==null)throw new kr(t);return n}function tq(n,e,t,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:c}=e;if(LR(t)&&i)return i(t,r);if(FR(t)){if(t.spans&&c){const u=[];for(const m of t.spans){const p=c(m);p?u.push(p):(r6(),n.recordDroppedEvent("before_send","span"))}t.spans=u}if(s){if(t.spans){const u=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(t,r)}}return t}function LR(n){return n.type===void 0}function FR(n){return n.type==="transaction"}function nq(n,e){e.debug===!0&&(at?Fe.enable():Ls(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Vi().update(e.initialScope);const r=new n(e);return rq(r),r.init(),r}function rq(n){Vi().setClient(n)}function iq(n){const e=[];function t(){return n===void 0||e.length<n}function r(c){return e.splice(e.indexOf(c),1)[0]||Promise.resolve(void 0)}function i(c){if(!t())return qm(new kr("Not adding Promise because buffer limit was reached."));const u=c();return e.indexOf(u)===-1&&e.push(u),u.then(()=>r(u)).then(null,()=>r(u).then(null,()=>{})),u}function s(c){return new ar((u,m)=>{let p=e.length;if(!p)return u(!0);const y=setTimeout(()=>{c&&c>0&&u(!1)},c);e.forEach(w=>{$s(w).then(()=>{--p||(clearTimeout(y),u(!0))},m)})})}return{$:e,add:i,drain:s}}const oq=60*1e3;function sq(n,e=Date.now()){const t=parseInt(`${n}`,10);if(!isNaN(t))return t*1e3;const r=Date.parse(`${n}`);return isNaN(r)?oq:r-e}function aq(n,e){return n[e]||n.all||0}function cq(n,e,t=Date.now()){return aq(n,e)>t}function lq(n,{statusCode:e,headers:t},r=Date.now()){const i={...n},s=t&&t["x-sentry-rate-limits"],c=t&&t["retry-after"];if(s)for(const u of s.trim().split(",")){const[m,p,,,y]=u.split(":",5),w=parseInt(m,10),b=(isNaN(w)?60:w)*1e3;if(!p)i.all=r+b;else for(const k of p.split(";"))k==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(i[k]=r+b):i[k]=r+b}else c?i.all=r+sq(c,r):e===429&&(i.all=r+6e4);return i}const uq=64;function dq(n,e,t=iq(n.bufferSize||uq)){let r={};const i=c=>t.drain(c);function s(c){const u=[];if(bR(c,(w,b)=>{const k=TR(b);if(cq(r,k)){const C=VR(w,b);n.recordDroppedEvent("ratelimit_backoff",k,C)}else u.push(w)}),u.length===0)return $s({});const m=Nu(c[0],u),p=w=>{bR(m,(b,k)=>{const C=VR(b,k);n.recordDroppedEvent(w,TR(k),C)})},y=()=>e({body:w6(m)}).then(w=>(w.statusCode!==void 0&&(w.statusCode<200||w.statusCode>=300)&&at&&Fe.warn(`Sentry responded with status code ${w.statusCode} to sent event.`),r=lq(r,w),w),w=>{throw p("network_error"),w});return t.add(y).then(w=>w,w=>{if(w instanceof kr)return at&&Fe.error("Skipped sending event because buffer is full."),p("queue_overflow"),$s({});throw w})}return{send:s,flush:i}}function VR(n,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(n)?n[1]:void 0}function fq(n,e,t=[e],r="npm"){const i=n._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:t.map(s=>({name:`${r}:@sentry/${s}`,version:Ds})),version:Ds}),n._metadata=i}const mq=100;function qs(n,e){const t=fn(),r=Vo();if(!t)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=mq}=t.getOptions();if(s<=0)return;const u={timestamp:Ou(),...n},m=i?Ls(()=>i(u,e)):u;m!==null&&(t.emit&&t.emit("beforeAddBreadcrumb",m,e),r.addBreadcrumb(m,s))}let jR;const hq="FunctionToString",UR=new WeakMap,pq=()=>({name:hq,setupOnce(){jR=Function.prototype.toString;try{Function.prototype.toString=function(...n){const e=sv(this),t=UR.has(fn())&&e!==void 0?e:this;return jR.apply(t,n)}}catch{}},setup(n){UR.set(n,!0)}}),gq=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],yq="InboundFilters",_q=(n={})=>({name:yq,processEvent(e,t,r){const i=r.getOptions(),s=vq(n,i);return wq(e,s)?null:e}});function vq(n={},e={}){return{allowUrls:[...n.allowUrls||[],...e.allowUrls||[]],denyUrls:[...n.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...e.ignoreErrors||[],...n.disableErrorDefaults?[]:gq],ignoreTransactions:[...n.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function wq(n,e){return e.ignoreInternal&&Iq(n)?(at&&Fe.warn(`Event dropped due to being internal Sentry Error.
Event: ${Fo(n)}`),!0):Eq(n,e.ignoreErrors)?(at&&Fe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Fo(n)}`),!0):Rq(n)?(at&&Fe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Fo(n)}`),!0):bq(n,e.ignoreTransactions)?(at&&Fe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Fo(n)}`),!0):Tq(n,e.denyUrls)?(at&&Fe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Fo(n)}.
Url: ${Ym(n)}`),!0):Aq(n,e.allowUrls)?!1:(at&&Fe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Fo(n)}.
Url: ${Ym(n)}`),!0)}function Eq(n,e){return n.type||!e||!e.length?!1:Sq(n).some(t=>Bm(t,e))}function bq(n,e){if(n.type!=="transaction"||!e||!e.length)return!1;const t=n.transaction;return t?Bm(t,e):!1}function Tq(n,e){if(!e||!e.length)return!1;const t=Ym(n);return t?Bm(t,e):!1}function Aq(n,e){if(!e||!e.length)return!0;const t=Ym(n);return t?Bm(t,e):!0}function Sq(n){const e=[];n.message&&e.push(n.message);let t;try{t=n.exception.values[n.exception.values.length-1]}catch{}return t&&t.value&&(e.push(t.value),t.type&&e.push(`${t.type}: ${t.value}`)),e}function Iq(n){try{return n.exception.values[0].type==="SentryError"}catch{}return!1}function kq(n=[]){for(let e=n.length-1;e>=0;e--){const t=n[e];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function Ym(n){try{let e;try{e=n.exception.values[0].stacktrace.frames}catch{}return e?kq(e):null}catch{return at&&Fe.error(`Cannot extract url for event ${Fo(n)}`),null}}function Rq(n){return n.type||!n.exception||!n.exception.values||n.exception.values.length===0?!1:!n.message&&!n.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}function Pq(n,e,t=250,r,i,s,c){if(!s.exception||!s.exception.values||!c||!Us(c.originalException,Error))return;const u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;u&&(s.exception.values=Cq(vv(n,e,i,c.originalException,r,s.exception.values,u,0),t))}function vv(n,e,t,r,i,s,c,u){if(s.length>=t+1)return s;let m=[...s];if(Us(r[i],Error)){zR(c,u);const p=n(e,r[i]),y=m.length;$R(p,i,y,u),m=vv(n,e,t,r[i],i,[p,...m],p,y)}return Array.isArray(r.errors)&&r.errors.forEach((p,y)=>{if(Us(p,Error)){zR(c,u);const w=n(e,p),b=m.length;$R(w,`errors[${y}]`,b,u),m=vv(n,e,t,p,i,[w,...m],w,b)}}),m}function zR(n,e){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,...n.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function $R(n,e,t,r){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,type:"chained",source:e,exception_id:t,parent_id:r}}function Cq(n,e){return n.map(t=>(t.value&&(t.value=oc(t.value,e)),t))}function wv(n){if(!n)return{};const e=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const t=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:t,hash:r,relative:e[5]+t+r}}function xq(n){const e="console";Vs(e,n),js(e,Oq)}function Oq(){"console"in nt&&Y_.forEach(function(n){n in nt.console&&qn(nt.console,n,function(e){return Fm[n]=e,function(...t){Ir("console",{args:t,level:n});const i=Fm[n];i&&i.apply(nt.console,t)}})})}function Nq(n){return n==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(n)?n:"log"}const Dq="Dedupe",Mq=()=>{let n;return{name:Dq,processEvent(e){if(e.type)return e;try{if(Lq(e,n))return at&&Fe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return n=e}}};function Lq(n,e){return e?!!(Fq(n,e)||Vq(n,e)):!1}function Fq(n,e){const t=n.message,r=e.message;return!(!t&&!r||t&&!r||!t&&r||t!==r||!qR(n,e)||!BR(n,e))}function Vq(n,e){const t=HR(e),r=HR(n);return!(!t||!r||t.type!==r.type||t.value!==r.value||!qR(n,e)||!BR(n,e))}function BR(n,e){let t=Q0(n),r=Q0(e);if(!t&&!r)return!0;if(t&&!r||!t&&r||(t=t,r=r,r.length!==t.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],c=t[i];if(s.filename!==c.filename||s.lineno!==c.lineno||s.colno!==c.colno||s.function!==c.function)return!1}return!0}function qR(n,e){let t=n.fingerprint,r=e.fingerprint;if(!t&&!r)return!0;if(t&&!r||!t&&r)return!1;t=t,r=r;try{return t.join("")===r.join("")}catch{return!1}}function HR(n){return n.exception&&n.exception.values&&n.exception.values[0]}function GR(n){if(n!==void 0)return n>=400&&n<500?"warning":n>=500?"error":void 0}const Ev=nt;function WR(){if(!("fetch"in Ev))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function bv(n){return n&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function jq(){if(typeof EdgeRuntime=="string")return!0;if(!WR())return!1;if(bv(Ev.fetch))return!0;let n=!1;const e=Ev.document;if(e&&typeof e.createElement=="function")try{const t=e.createElement("iframe");t.hidden=!0,e.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(n=bv(t.contentWindow.fetch)),e.head.removeChild(t)}catch(t){Ms&&Fe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return n}function Uq(n,e){const t="fetch";Vs(t,n),js(t,()=>zq(void 0,e))}function zq(n,e=!1){e&&!jq()||qn(nt,"fetch",function(t){return function(...r){const i=new Error,{method:s,url:c}=$q(r),u={args:r,fetchData:{method:s,url:c},startTimestamp:Li()*1e3,virtualError:i};return Ir("fetch",{...u}),t.apply(nt,r).then(async m=>(Ir("fetch",{...u,endTimestamp:Li()*1e3,response:m}),m),m=>{throw Ir("fetch",{...u,endTimestamp:Li()*1e3,error:m}),nv(m)&&m.stack===void 0&&(m.stack=i.stack,zs(m,"framesToPop",1)),m})}})}function Tv(n,e){return!!n&&typeof n=="object"&&!!n[e]}function KR(n){return typeof n=="string"?n:n?Tv(n,"url")?n.url:n.toString?n.toString():"":""}function $q(n){if(n.length===0)return{method:"GET",url:""};if(n.length===2){const[t,r]=n;return{url:KR(t),method:Tv(r,"method")?String(r.method).toUpperCase():"GET"}}const e=n[0];return{url:KR(e),method:Tv(e,"method")?String(e.method).toUpperCase():"GET"}}function Bq(){return"npm"}const Zm=nt;function qq(){const n=Zm.chrome,e=n&&n.app&&n.app.runtime,t="history"in Zm&&!!Zm.history.pushState&&!!Zm.history.replaceState;return!e&&t}const ct=nt;let Av=0;function QR(){return Av>0}function Hq(){Av++,setTimeout(()=>{Av--})}function lc(n,e={}){function t(i){return typeof i=="function"}if(!t(n))return n;try{const i=n.__sentry_wrapped__;if(i)return typeof i=="function"?i:n;if(sv(n))return n}catch{return n}const r=function(...i){try{const s=i.map(c=>lc(c,e));return n.apply(this,s)}catch(s){throw Hq(),L3(c=>{c.addEventProcessor(u=>(e.mechanism&&(cv(u,void 0),sc(u,e.mechanism)),u.extra={...u.extra,arguments:i},u)),$6(s)}),s}};try{for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}catch{}rR(r,n),zs(n,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return n.name}})}catch{}return r}const Du=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Sv(n,e){const t=kv(n,e),r={type:Jq(e),value:Yq(e)};return t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Gq(n,e,t,r){const i=fn(),s=i&&i.getOptions().normalizeDepth,c=nH(e),u={__serialized__:ER(e,s)};if(c)return{exception:{values:[Sv(n,c)]},extra:u};const m={exception:{values:[{type:zm(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:eH(e,{isUnhandledRejection:r})}]},extra:u};if(t){const p=kv(n,t);p.length&&(m.exception.values[0].stacktrace={frames:p})}return m}function Iv(n,e){return{exception:{values:[Sv(n,e)]}}}function kv(n,e){const t=e.stacktrace||e.stack||"",r=Kq(e),i=Qq(e);try{return n(t,r,i)}catch{}return[]}const Wq=/Minified React error #\d+;/i;function Kq(n){return n&&Wq.test(n.message)?1:0}function Qq(n){return typeof n.framesToPop=="number"?n.framesToPop:0}function JR(n){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?n instanceof WebAssembly.Exception:!1}function Jq(n){const e=n&&n.name;return!e&&JR(n)?n.message&&Array.isArray(n.message)&&n.message.length==2?n.message[0]:"WebAssembly.Exception":e}function Yq(n){const e=n&&n.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:JR(n)&&Array.isArray(n.message)&&n.message.length==2?n.message[1]:e:"No error message"}function Zq(n,e,t,r){const i=t&&t.syntheticException||void 0,s=Rv(n,e,i,r);return sc(s),s.level="error",t&&t.event_id&&(s.event_id=t.event_id),$s(s)}function Xq(n,e,t="info",r,i){const s=r&&r.syntheticException||void 0,c=Pv(n,e,s,i);return c.level=t,r&&r.event_id&&(c.event_id=r.event_id),$s(c)}function Rv(n,e,t,r,i){let s;if(Z0(e)&&e.error)return Iv(n,e.error);if(X0(e)||f3(e)){const c=e;if("stack"in e)s=Iv(n,e);else{const u=c.name||(X0(c)?"DOMError":"DOMException"),m=c.message?`${u}: ${c.message}`:u;s=Pv(n,m,t,r),cv(s,m)}return"code"in c&&(s.tags={...s.tags,"DOMException.code":`${c.code}`}),s}return nv(e)?Iv(n,e):ic(e)||zm(e)?(s=Gq(n,e,t,i),sc(s,{synthetic:!0}),s):(s=Pv(n,e,t,r),cv(s,`${e}`),sc(s,{synthetic:!0}),s)}function Pv(n,e,t,r){const i={};if(r&&t){const s=kv(n,t);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),sc(i,{synthetic:!0})}if(rv(e)){const{__sentry_template_string__:s,__sentry_template_values__:c}=e;return i.logentry={message:s,params:c},i}return i.message=e,i}function eH(n,{isUnhandledRejection:e}){const t=E3(n),r=e?"promise rejection":"exception";return Z0(n)?`Event \`ErrorEvent\` captured as ${r} with message \`${n.message}\``:zm(n)?`Event \`${tH(n)}\` (type=${n.type}) captured as ${r}`:`Object captured as ${r} with keys: ${t}`}function tH(n){try{const e=Object.getPrototypeOf(n);return e?e.constructor.name:void 0}catch{}}function nH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const t=n[e];if(t instanceof Error)return t}}function rH(n,{metadata:e,tunnel:t,dsn:r}){const i={event_id:n.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!t&&!!r&&{dsn:Gm(r)}},s=iH(n);return Nu(i,[s])}function iH(n){return[{type:"user_report"},n]}class oH extends X6{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e},r=ct.SENTRY_SDK_SOURCE||Bq();fq(t,"browser",["browser"],r),super(t),t.sendClientReports&&ct.document&&ct.document.addEventListener("visibilitychange",()=>{ct.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,t){return Zq(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return Xq(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Du&&Fe.warn("SDK not enabled, will not capture user feedback.");return}const t=rH(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}}const sH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,En=nt,aH=1e3;let YR,Cv,xv;function cH(n){const e="dom";Vs(e,n),js(e,lH)}function lH(){if(!En.document)return;const n=Ir.bind(null,"dom"),e=ZR(n,!0);En.document.addEventListener("click",e,!1),En.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(t=>{const i=En[t],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(qn(s,"addEventListener",function(c){return function(u,m,p){if(u==="click"||u=="keypress")try{const y=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},w=y[u]=y[u]||{refCount:0};if(!w.handler){const b=ZR(n);w.handler=b,c.call(this,u,b,p)}w.refCount++}catch{}return c.call(this,u,m,p)}}),qn(s,"removeEventListener",function(c){return function(u,m,p){if(u==="click"||u=="keypress")try{const y=this.__sentry_instrumentation_handlers__||{},w=y[u];w&&(w.refCount--,w.refCount<=0&&(c.call(this,u,w.handler,p),w.handler=void 0,delete y[u]),Object.keys(y).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return c.call(this,u,m,p)}}))})}function uH(n){if(n.type!==Cv)return!1;try{if(!n.target||n.target._sentryId!==xv)return!1}catch{}return!0}function dH(n,e){return n!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function ZR(n,e=!1){return t=>{if(!t||t._sentryCaptured)return;const r=fH(t);if(dH(t.type,r))return;zs(t,"_sentryCaptured",!0),r&&!r._sentryId&&zs(r,"_sentryId",sr());const i=t.type==="keypress"?"input":t.type;uH(t)||(n({event:t,name:i,global:e}),Cv=t.type,xv=r?r._sentryId:void 0),clearTimeout(YR),YR=En.setTimeout(()=>{xv=void 0,Cv=void 0},aH)}}function fH(n){try{return n.target}catch{return null}}let Xm;function XR(n){const e="history";Vs(e,n),js(e,mH)}function mH(){if(!qq())return;const n=En.onpopstate;En.onpopstate=function(...t){const r=En.location.href,i=Xm;if(Xm=r,Ir("history",{from:i,to:r}),n)try{return n.apply(this,t)}catch{}};function e(t){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Xm,c=String(i);Xm=c,Ir("history",{from:s,to:c})}return t.apply(this,r)}}qn(En.history,"pushState",e),qn(En.history,"replaceState",e)}const eh={};function hH(n){const e=eh[n];if(e)return e;let t=En[n];if(bv(t))return eh[n]=t.bind(En);const r=En.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[n]&&(t=s[n]),r.head.removeChild(i)}catch(i){sH&&Fe.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,i)}return t&&(eh[n]=t.bind(En))}function e1(n){eh[n]=void 0}const Mu="__sentry_xhr_v3__";function pH(n){const e="xhr";Vs(e,n),js(e,gH)}function gH(){if(!En.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;n.open=new Proxy(n.open,{apply(e,t,r){const i=new Error,s=Li()*1e3,c=Mi(r[0])?r[0].toUpperCase():void 0,u=yH(r[1]);if(!c||!u)return e.apply(t,r);t[Mu]={method:c,url:u,request_headers:{}},c==="POST"&&u.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const m=()=>{const p=t[Mu];if(p&&t.readyState===4){try{p.status_code=t.status}catch{}const y={endTimestamp:Li()*1e3,startTimestamp:s,xhr:t,virtualError:i};Ir("xhr",y)}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply(p,y,w){return m(),p.apply(y,w)}}):t.addEventListener("readystatechange",m),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(p,y,w){const[b,k]=w,C=y[Mu];return C&&Mi(b)&&Mi(k)&&(C.request_headers[b.toLowerCase()]=k),p.apply(y,w)}}),e.apply(t,r)}}),n.send=new Proxy(n.send,{apply(e,t,r){const i=t[Mu];if(!i)return e.apply(t,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Li()*1e3,xhr:t};return Ir("xhr",s),e.apply(t,r)}})}function yH(n){if(Mi(n))return n;try{return n.toString()}catch{}}function _H(n,e=hH("fetch")){let t=0,r=0;function i(s){const c=s.body.length;t+=c,r++;const u={body:s.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:t<=6e4&&r<15,...n.fetchOptions};if(!e)return e1("fetch"),qm("No fetch implementation available");try{return e(n.url,u).then(m=>(t-=c,r--,{statusCode:m.status,headers:{"x-sentry-rate-limits":m.headers.get("X-Sentry-Rate-Limits"),"retry-after":m.headers.get("Retry-After")}}))}catch(m){return e1("fetch"),t-=c,r--,qm(m)}}return dq(n,i)}const vH=30,wH=50;function Ov(n,e,t,r){const i={filename:n,function:e==="<anonymous>"?Fs:e,in_app:!0};return t!==void 0&&(i.lineno=t),r!==void 0&&(i.colno=r),i}const EH=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,bH=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,TH=/\((\S*)(?::(\d+))(?::(\d+))\)/,AH=[vH,n=>{const e=EH.exec(n);if(e){const[,r,i,s]=e;return Ov(r,Fs,+i,+s)}const t=bH.exec(n);if(t){if(t[2]&&t[2].indexOf("eval")===0){const c=TH.exec(t[2]);c&&(t[2]=c[1],t[3]=c[2],t[4]=c[3])}const[i,s]=t1(t[1]||Fs,t[2]);return Ov(s,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],SH=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,IH=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kH=K0(...[AH,[wH,n=>{const e=SH.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=IH.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],i=e[1]||Fs;return[i,r]=t1(i,r),Ov(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),t1=(n,e)=>{const t=n.indexOf("safari-extension")!==-1,r=n.indexOf("safari-web-extension")!==-1;return t||r?[n.indexOf("@")!==-1?n.split("@")[0]:Fs,t?`safari-extension:${e}`:`safari-web-extension:${e}`]:[n,e]},th=1024,RH="Breadcrumbs",PH=(n={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...n};return{name:RH,setup(t){e.console&&xq(OH(t)),e.dom&&cH(xH(t,e.dom)),e.xhr&&pH(NH(t)),e.fetch&&Uq(DH(t)),e.history&&XR(MH(t)),e.sentry&&t.on("beforeSendEvent",CH(t))}}};function CH(n){return function(t){fn()===n&&qs({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Fo(t)},{event:t})}}function xH(n,e){return function(r){if(fn()!==n)return;let i,s,c=typeof e=="object"?e.serializeAttribute:void 0,u=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;u&&u>th&&(Du&&Fe.warn(`\`dom.maxStringLength\` cannot exceed ${th}, but a value of ${u} was configured. Sentry will use ${th} instead.`),u=th),typeof c=="string"&&(c=[c]);try{const p=r.event,y=LH(p)?p.target:p;i=tR(y,{keyAttrs:c,maxStringLength:u}),s=v3(y)}catch{i="<unknown>"}if(i.length===0)return;const m={category:`ui.${r.name}`,message:i};s&&(m.data={"ui.component_name":s}),qs(m,{event:r.event,name:r.name,global:r.global})}}function OH(n){return function(t){if(fn()!==n)return;const r={category:"console",data:{arguments:t.args,logger:"console"},level:Nq(t.level),message:nR(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message=`Assertion failed: ${nR(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1);else return;qs(r,{input:t.args,level:t.level})}}function NH(n){return function(t){if(fn()!==n)return;const{startTimestamp:r,endTimestamp:i}=t,s=t.xhr[Mu];if(!r||!i||!s)return;const{method:c,url:u,status_code:m,body:p}=s,y={method:c,url:u,status_code:m},w={xhr:t.xhr,input:p,startTimestamp:r,endTimestamp:i},b=GR(m);qs({category:"xhr",data:y,type:"http",level:b},w)}}function DH(n){return function(t){if(fn()!==n)return;const{startTimestamp:r,endTimestamp:i}=t;if(i&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const s=t.fetchData,c={data:t.error,input:t.args,startTimestamp:r,endTimestamp:i};qs({category:"fetch",data:s,level:"error",type:"http"},c)}else{const s=t.response,c={...t.fetchData,status_code:s&&s.status},u={input:t.args,response:s,startTimestamp:r,endTimestamp:i},m=GR(c.status_code);qs({category:"fetch",data:c,type:"http",level:m},u)}}}function MH(n){return function(t){if(fn()!==n)return;let r=t.from,i=t.to;const s=wv(ct.location.href);let c=r?wv(r):void 0;const u=wv(i);(!c||!c.path)&&(c=s),s.protocol===u.protocol&&s.host===u.host&&(i=u.relative),s.protocol===c.protocol&&s.host===c.host&&(r=c.relative),qs({category:"navigation",data:{from:r,to:i}})}}function LH(n){return!!n&&!!n.target}const FH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],VH="BrowserApiErrors",jH=(n={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...n};return{name:VH,setupOnce(){e.setTimeout&&qn(ct,"setTimeout",n1),e.setInterval&&qn(ct,"setInterval",n1),e.requestAnimationFrame&&qn(ct,"requestAnimationFrame",UH),e.XMLHttpRequest&&"XMLHttpRequest"in ct&&qn(XMLHttpRequest.prototype,"send",zH);const t=e.eventTarget;t&&(Array.isArray(t)?t:FH).forEach($H)}}};function n1(n){return function(...e){const t=e[0];return e[0]=lc(t,{mechanism:{data:{function:Lo(n)},handled:!1,type:"instrument"}}),n.apply(this,e)}}function UH(n){return function(e){return n.apply(this,[lc(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Lo(n)},handled:!1,type:"instrument"}})])}}function zH(n){return function(...e){const t=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in t&&typeof t[i]=="function"&&qn(t,i,function(s){const c={mechanism:{data:{function:i,handler:Lo(s)},handled:!1,type:"instrument"}},u=sv(s);return u&&(c.mechanism.data.handler=Lo(u)),lc(s,c)})}),n.apply(this,e)}}function $H(n){const t=ct[n],r=t&&t.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(qn(r,"addEventListener",function(i){return function(s,c,u){try{BH(c)&&(c.handleEvent=lc(c.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Lo(c),target:n},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,lc(c,{mechanism:{data:{function:"addEventListener",handler:Lo(c),target:n},handled:!1,type:"instrument"}}),u])}}),qn(r,"removeEventListener",function(i){return function(s,c,u){try{const m=c.__sentry_wrapped__;m&&i.call(this,s,m,u)}catch{}return i.call(this,s,c,u)}}))}function BH(n){return typeof n.handleEvent=="function"}const qH=()=>({name:"BrowserSession",setupOnce(){if(typeof ct.document>"u"){Du&&Fe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}RR({ignoreDuration:!0}),xR(),XR(({from:n,to:e})=>{n!==void 0&&n!==e&&(RR({ignoreDuration:!0}),xR())})}}),HH="GlobalHandlers",GH=(n={})=>{const e={onerror:!0,onunhandledrejection:!0,...n};return{name:HH,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(WH(t),r1("onerror")),e.onunhandledrejection&&(KH(t),r1("onunhandledrejection"))}}};function WH(n){c3(e=>{const{stackParser:t,attachStacktrace:r}=i1();if(fn()!==n||QR())return;const{msg:i,url:s,line:c,column:u,error:m}=e,p=YH(Rv(t,m||i,void 0,r,!1),s,c,u);p.level="error",kR(p,{originalException:m,mechanism:{handled:!1,type:"onerror"}})})}function KH(n){u3(e=>{const{stackParser:t,attachStacktrace:r}=i1();if(fn()!==n||QR())return;const i=QH(e),s=iv(i)?JH(i):Rv(t,i,void 0,r,!0);s.level="error",kR(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function QH(n){if(iv(n))return n;try{if("reason"in n)return n.reason;if("detail"in n&&"reason"in n.detail)return n.detail.reason}catch{}return n}function JH(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}function YH(n,e,t,r){const i=n.exception=n.exception||{},s=i.values=i.values||[],c=s[0]=s[0]||{},u=c.stacktrace=c.stacktrace||{},m=u.frames=u.frames||[],p=r,y=t,w=Mi(e)&&e.length>0?e:_3();return m.length===0&&m.push({colno:p,filename:w,function:Fs,in_app:!0,lineno:y}),n}function r1(n){Du&&Fe.log(`Global Handler attached: ${n}`)}function i1(){const n=fn();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const ZH=()=>({name:"HttpContext",preprocessEvent(n){if(!ct.navigator&&!ct.location&&!ct.document)return;const e=n.request&&n.request.url||ct.location&&ct.location.href,{referrer:t}=ct.document||{},{userAgent:r}=ct.navigator||{},i={...n.request&&n.request.headers,...t&&{Referer:t},...r&&{"User-Agent":r}},s={...n.request,...e&&{url:e},headers:i};n.request=s}}),XH="cause",e5=5,t5="LinkedErrors",n5=(n={})=>{const e=n.limit||e5,t=n.key||XH;return{name:t5,preprocessEvent(r,i,s){const c=s.getOptions();Pq(Sv,c.stackParser,c.maxValueLength,t,e,r,i)}}};function r5(n){const e=[_q(),pq(),jH(),PH(),GH(),n5(),Mq(),ZH()];return n.autoSessionTracking!==!1&&e.push(qH()),e}function i5(n={}){const e={defaultIntegrations:r5(n),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ct.SENTRY_RELEASE&&ct.SENTRY_RELEASE.id?ct.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return n.defaultIntegrations==null&&delete n.defaultIntegrations,{...e,...n}}function o5(){const n=typeof ct.window<"u"&&ct;if(!n)return!1;const e=n.chrome?"chrome":"browser",t=n[e],r=t&&t.runtime&&t.runtime.id,i=ct.location&&ct.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],c=!!r&&ct===ct.top&&s.some(m=>i.startsWith(`${m}//`)),u=typeof n.nw<"u";return!!r&&!c&&!u}function s5(n={}){const e=i5(n);if(!e.skipBrowserExtensionCheck&&o5()){Ls(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Du&&(WR()||Fe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const t={...e,stackParser:s3(e.stackParser||kH),integrations:J6(e),transport:e.transport||_H};return nq(oH,t)}function a5(n){var t,r;if(!(n!=null&&n.getState))return;const e=n.getState();if((t=e.user)!=null&&t.user&&B6({id:e.user.user.id}),(r=e.user)!=null&&r.preferences){const s=Object.keys(e.user.preferences).reduce((c,u)=>{var m;return(m=e.user.preferences)!=null&&m[u]&&(c[`preference.${u}`]=e.user.preferences[u].value),c},{});Jm(s)}if(e.auth&&_v("app.logged",!!e.auth.accessToken),e.settings&&_v("app.deviceId",e.settings.deviceId),e.database&&Jm({"firebase.ready":e.database.isReady,"firebase.authenticated":e.database.isAuthenticated}),e.meetings&&e.queue&&Jm({"app.meetings.total":Object.keys(e.meetings).length,"app.queue.total":Object.keys(e.queue).length}),e.featureFlags){const s=Object.keys(e.featureFlags).reduce((c,u)=>(u!=="lastFetchedAt"&&e.featureFlags[u]&&(c[`feature.${u}`]=e.featureFlags[u]),c),{});Jm(s)}}var nh={},rh={},o1;function s1(){if(o1)return rh;o1=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.default=e;function n(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function e(t){return{getItem:function(i){return new Promise(function(s,c){chrome.storage[t].get(i,function(u){chrome.runtime.lastError==null?s(u[i]):c()})})},removeItem:function(i){return new Promise(function(s,c){chrome.storage[t].remove(i,function(){chrome.runtime.lastError==null?s():c()})})},setItem:function(i,s){return new Promise(function(c,u){chrome.storage[t].set(n({},i,s),function(){chrome.runtime.lastError==null?c():u()})})}}}return rh}var a1;function c5(){if(a1)return nh;a1=1,Object.defineProperty(nh,"__esModule",{value:!0});var n=s1(),e=t(n);function t(r){return r&&r.__esModule?r:{default:r}}return nh.default=(0,e.default)("local"),nh}var ih={},c1;function l5(){if(c1)return ih;c1=1,Object.defineProperty(ih,"__esModule",{value:!0});var n=s1(),e=t(n);function t(r){return r&&r.__esModule?r:{default:r}}return ih.default=(0,e.default)("sync"),ih}var Nv,l1;function u5(){if(l1)return Nv;l1=1;var n=c5(),e=i(n),t=l5(),r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}return Nv={localStorage:e.default,syncStorage:r.default},Nv}var d5=u5(),oh={exports:{}},u1;function f5(){if(u1)return oh.exports;u1=1;const n=t=>typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?()=>{const r=crypto.getRandomValues(new Uint8Array(1))[0];return(r>=t?r%t:r).toString(t)}:()=>Math.floor(Math.random()*t).toString(t),e=(t=7,r=!1)=>Array.from({length:t},n(r?16:36)).join("");return oh.exports=e,oh.exports.default=e,oh.exports}var m5=f5();const sh=Bg(m5);var h5=()=>`uid::${sh(7)}`,p5=(n,e=["endpointName","fingerprint"])=>typeof n=="object"&&n!==null&&e.every(t=>t in n),g5=n=>{try{const e=JSON.parse(n);return p5(e)?e:null}catch{return null}},y5=()=>{let n=[];return{add:(...e)=>{n=[...n,...e]},remove:e=>{n=typeof e=="string"?n.filter(t=>t.message.transactionId!==e):n.filter(t=>!e.includes(t))},entries:()=>n}},Lu=class{static toBackground(n,e){return n.postMessage(e)}static toExtensionContext(n,e){return n.postMessage(e)}},_5=Object.defineProperty,v5=Object.defineProperties,w5=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,E5=Object.prototype.hasOwnProperty,b5=Object.prototype.propertyIsEnumerable,f1=(n,e,t)=>e in n?_5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jo=(n,e)=>{for(var t in e||(e={}))E5.call(e,t)&&f1(n,t,e[t]);if(d1)for(var t of d1(e))b5.call(e,t)&&f1(n,t,e[t]);return n},Dv=(n,e)=>v5(n,w5(e)),T5=/^((?:background$)|devtools|popup|options|content-script|window)(?:@(\d+)(?:\.(\d+))?)?$/,Mv=n=>{const[,e,t,r]=n.match(T5)||[];return{context:e,tabId:+t,frameId:r?+r:void 0}},ah=({context:n,tabId:e,frameId:t})=>["background","popup","options"].includes(n)?n:`${n}@${e}${t?`.${t}`:""}`;const A5=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],Lv=Symbol(".toJSON was called"),S5=n=>{n[Lv]=!0;const e=n.toJSON();return delete n[Lv],e},m1=({from:n,seen:e,to_:t,forceEnumerable:r,maxDepth:i,depth:s})=>{const c=t||(Array.isArray(n)?[]:{});if(e.push(n),s>=i)return c;if(typeof n.toJSON=="function"&&n[Lv]!==!0)return S5(n);for(const[u,m]of Object.entries(n)){if(typeof Buffer=="function"&&Buffer.isBuffer(m)){c[u]="[object Buffer]";continue}if(m!==null&&typeof m=="object"&&typeof m.pipe=="function"){c[u]="[object Stream]";continue}if(typeof m!="function"){if(!m||typeof m!="object"){c[u]=m;continue}if(!e.includes(n[u])){s++,c[u]=m1({from:n[u],seen:[...e],forceEnumerable:r,maxDepth:i,depth:s});continue}c[u]="[Circular]"}}for(const{property:u,enumerable:m}of A5)typeof n[u]=="string"&&Object.defineProperty(c,u,{value:n[u],enumerable:!0,configurable:!0,writable:!0});return c};function I5(n,e={}){const{maxDepth:t=Number.POSITIVE_INFINITY}=e;return typeof n=="object"&&n!==null?m1({from:n,seen:[],forceEnumerable:!0,maxDepth:t,depth:0}):typeof n=="function"?`[Function: ${n.name||"anonymous"}]`:n}let h1=()=>({events:{},emit(n,...e){(this.events[n]||[]).forEach(t=>t(...e))},on(n,e){return(this.events[n]=this.events[n]||[]).push(e),()=>this.events[n]=(this.events[n]||[]).filter(t=>t!==e)}});var k5=(n,e,t)=>{const r=sh(),i=new Map,s=new Map,c=u=>{if(u.destination.context===n&&!u.destination.frameId&&!u.destination.tabId){t==null||t(u);const{transactionId:m,messageID:p,messageType:y}=u,w=()=>{const k=i.get(m);if(k){const{err:C,data:D}=u;if(C){const N=C,F=self[N.name],q=new(typeof F=="function"?F:Error)(N.message);for(const G in N)q[G]=N[G];k.reject(q)}else k.resolve(D);i.delete(m)}},b=async()=>{let k,C,D=!1;try{const N=s.get(p);if(typeof N=="function")k=await N({sender:u.origin,id:p,data:u.data,timestamp:u.timestamp});else throw D=!0,new Error(`[webext-bridge] No handler registered in '${n}' to accept messages with id '${p}'`)}catch(N){C=N}finally{if(C&&(u.err=I5(C)),c(Dv(jo({},u),{messageType:"reply",data:k,origin:{context:n,tabId:null},destination:u.origin,hops:[]})),C&&!D)throw k}};switch(y){case"reply":return w();case"message":return b()}}return u.hops.push(`${n}::${r}`),e(u)};return{handleMessage:c,endTransaction:u=>{const m=i.get(u);m==null||m.reject("Transaction was ended before it could complete"),i.delete(u)},sendMessage:(u,m,p="background")=>{const y=typeof p=="string"?Mv(p):p,w="Bridge#sendMessage ->";if(!y.context)throw new TypeError(`${w} Destination must be any one of known destinations`);return new Promise((b,k)=>{const C={messageID:u,data:m,destination:y,messageType:"message",transactionId:sh(),origin:{context:n,tabId:null},hops:[],timestamp:Date.now()};i.set(C.transactionId,{resolve:b,reject:k});try{c(C)}catch(D){i.delete(C.transactionId),k(D)}})},onMessage:(u,m)=>(s.set(u,m),()=>s.delete(u))}},uc=class{constructor(n,e){this.endpointRuntime=n,this.streamInfo=e,this.emitter=h1(),this.isClosed=!1,this.handleStreamClose=()=>{this.isClosed||(this.isClosed=!0,this.emitter.emit("closed",!0),this.emitter.events={})},uc.initDone||(n.onMessage("__crx_bridge_stream_transfer__",t=>{const{streamId:r,streamTransfer:i,action:s}=t.data,c=uc.openStreams.get(r);c&&!c.isClosed&&(s==="transfer"&&c.emitter.emit("message",i),s==="close"&&(uc.openStreams.delete(r),c.handleStreamClose()))}),uc.initDone=!0),uc.openStreams.set(this.streamInfo.streamId,this)}get info(){return this.streamInfo}send(n){if(this.isClosed)throw new Error("Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status");this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:n,action:"transfer"},this.streamInfo.endpoint)}close(n){n&&this.send(n),this.handleStreamClose(),this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:null,action:"close"},this.streamInfo.endpoint)}onMessage(n){return this.getDisposable("message",n)}onClose(n){return this.getDisposable("closed",n)}getDisposable(n,e){const t=this.emitter.on(n,e);return Object.assign(t,{dispose:t,close:t})}},ch=uc;ch.initDone=!1,ch.openStreams=new Map;var R5=n=>{const e=new Map,t=new Map,r=h1();n.onMessage("__crx_bridge_stream_open__",c=>new Promise(u=>{const{sender:m,data:p}=c,{channel:y}=p;let w=!1,b=()=>{};const k=()=>{const C=t.get(y);typeof C=="function"?(C(new ch(n,Dv(jo({},p),{endpoint:m}))),w&&b(),u(!0)):w||(w=!0,b=r.on("did-change-stream-callbacks",k))};k()}));async function i(c,u){if(e.has(c))throw new Error("webext-bridge: A Stream is already open at this channel");const m=typeof u=="string"?Mv(u):u,p={streamId:sh(),channel:c,endpoint:m},y=new ch(n,p);return y.onClose(()=>e.delete(c)),await n.sendMessage("__crx_bridge_stream_open__",p,m),e.set(c,y),y}function s(c,u){if(t.has(c))throw new Error("webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication");t.set(c,u),r.emit("did-change-stream-callbacks")}return{openStream:i,onOpenStreamChannel:s}},lh={exports:{}},P5=lh.exports,p1;function C5(){return p1||(p1=1,function(n,e){(function(t,r){r(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:P5,function(t){if(typeof globalThis!="object"||typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",i="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=c=>{const u={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(u).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class m extends WeakMap{constructor(A,P=void 0){super(P),this.createItem=A}get(A){return this.has(A)||this.set(A,this.createItem(A)),super.get(A)}}const p=I=>I&&typeof I=="object"&&typeof I.then=="function",y=(I,A)=>(...P)=>{c.runtime.lastError?I.reject(new Error(c.runtime.lastError.message)):A.singleCallbackArg||P.length<=1&&A.singleCallbackArg!==!1?I.resolve(P[0]):I.resolve(P)},w=I=>I==1?"argument":"arguments",b=(I,A)=>function(O,...L){if(L.length<A.minArgs)throw new Error(`Expected at least ${A.minArgs} ${w(A.minArgs)} for ${I}(), got ${L.length}`);if(L.length>A.maxArgs)throw new Error(`Expected at most ${A.maxArgs} ${w(A.maxArgs)} for ${I}(), got ${L.length}`);return new Promise((S,fe)=>{if(A.fallbackToNoCallback)try{O[I](...L,y({resolve:S,reject:fe},A))}catch(ue){console.warn(`${I} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,ue),O[I](...L),A.fallbackToNoCallback=!1,A.noCallback=!0,S()}else A.noCallback?(O[I](...L),S()):O[I](...L,y({resolve:S,reject:fe},A))})},k=(I,A,P)=>new Proxy(A,{apply(O,L,S){return P.call(L,I,...S)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const D=(I,A={},P={})=>{let O=Object.create(null),L={has(fe,ue){return ue in I||ue in O},get(fe,ue,je){if(ue in O)return O[ue];if(!(ue in I))return;let J=I[ue];if(typeof J=="function")if(typeof A[ue]=="function")J=k(I,I[ue],A[ue]);else if(C(P,ue)){let z=b(ue,P[ue]);J=k(I,I[ue],z)}else J=J.bind(I);else if(typeof J=="object"&&J!==null&&(C(A,ue)||C(P,ue)))J=D(J,A[ue],P[ue]);else if(C(P,"*"))J=D(J,A[ue],P["*"]);else return Object.defineProperty(O,ue,{configurable:!0,enumerable:!0,get(){return I[ue]},set(z){I[ue]=z}}),J;return O[ue]=J,J},set(fe,ue,je,J){return ue in O?O[ue]=je:I[ue]=je,!0},defineProperty(fe,ue,je){return Reflect.defineProperty(O,ue,je)},deleteProperty(fe,ue){return Reflect.deleteProperty(O,ue)}},S=Object.create(I);return new Proxy(S,L)},N=I=>({addListener(A,P,...O){A.addListener(I.get(P),...O)},hasListener(A,P){return A.hasListener(I.get(P))},removeListener(A,P){A.removeListener(I.get(P))}}),F=new m(I=>typeof I!="function"?I:function(P){const O=D(P,{},{getContent:{minArgs:0,maxArgs:0}});I(O)});let q=!1;const G=new m(I=>typeof I!="function"?I:function(P,O,L){let S=!1,fe,ue=new Promise(X=>{fe=function(ee){q||(console.warn(i,new Error().stack),q=!0),S=!0,X(ee)}}),je;try{je=I(P,O,fe)}catch(X){je=Promise.reject(X)}const J=je!==!0&&p(je);if(je!==!0&&!J&&!S)return!1;const z=X=>{X.then(ee=>{L(ee)},ee=>{let j;ee&&(ee instanceof Error||typeof ee.message=="string")?j=ee.message:j="An unexpected error occurred",L({__mozWebExtensionPolyfillReject__:!0,message:j})}).catch(ee=>{console.error("Failed to send onMessage rejected reply",ee)})};return z(J?je:ue),!0}),re=({reject:I,resolve:A},P)=>{c.runtime.lastError?c.runtime.lastError.message===r?A():I(new Error(c.runtime.lastError.message)):P&&P.__mozWebExtensionPolyfillReject__?I(new Error(P.message)):A(P)},Q=(I,A,P,...O)=>{if(O.length<A.minArgs)throw new Error(`Expected at least ${A.minArgs} ${w(A.minArgs)} for ${I}(), got ${O.length}`);if(O.length>A.maxArgs)throw new Error(`Expected at most ${A.maxArgs} ${w(A.maxArgs)} for ${I}(), got ${O.length}`);return new Promise((L,S)=>{const fe=re.bind(null,{resolve:L,reject:S});O.push(fe),P.sendMessage(...O)})},K={devtools:{network:{onRequestFinished:N(F)}},runtime:{onMessage:N(G),onMessageExternal:N(G),sendMessage:Q.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Q.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},x={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return u.privacy={network:{"*":x},services:{"*":x},websites:{"*":x}},D(c,K,u)};t.exports=s(chrome)}else t.exports=globalThis.browser})}(lh)),lh.exports}var x5=C5();const O5=Bg(x5);var Fu=y5(),Hn=new Map,dc=new Map,uh=new Map,g1=(n,e)=>(dc.set(n,(dc.get(n)||new Set).add(e)),()=>{const t=dc.get(n);t!=null&&t.delete(e)&&(t==null?void 0:t.size)===0&&dc.delete(n)}),y1=(n,e)=>{uh.set(n,(uh.get(n)||new Set).add(e))},Hs=n=>({withFingerprint:e=>{const t=i=>({and:()=>i}),r={aboutIncomingMessage:i=>{const s=Hn.get(n);return Lu.toExtensionContext(s.port,{status:"incoming",message:i}),t(r)},aboutSuccessfulDelivery:i=>{const s=Hn.get(n);return Lu.toExtensionContext(s.port,{status:"delivered",receipt:i}),t(r)},aboutMessageUndeliverability:(i,s)=>{const c=Hn.get(n);return(c==null?void 0:c.fingerprint)===e&&Lu.toExtensionContext(c.port,{status:"undeliverable",resolvedDestination:i,message:s}),t(r)},whenDeliverableTo:i=>{const s=()=>{const c=Hn.get(n);if((c==null?void 0:c.fingerprint)===e&&Hn.has(i))return Lu.toExtensionContext(c.port,{status:"deliverable",deliverableTo:i}),!0};if(!s()){const c=g1(i,s);y1(e,c)}return t(r)},aboutSessionEnded:i=>{const s=Hn.get(n);return(s==null?void 0:s.fingerprint)===e&&Lu.toExtensionContext(s.port,{status:"terminated",fingerprint:i}),t(r)}};return r}}),N5=h5(),dh=k5("background",n=>{var e;if(n.origin.context==="background"&&["content-script","devtools "].includes(n.destination.context)&&!n.destination.tabId)throw new TypeError("When sending messages from background page, use @tabId syntax to target specific tab");const t=ah(jo(jo({},n.origin),n.origin.context==="window"&&{context:"content-script"})),r=ah(Dv(jo(jo({},n.destination),n.destination.context==="window"&&{context:"content-script"}),{tabId:n.destination.tabId||n.origin.tabId}));n.destination.tabId=null,n.destination.frameId=null;const i=()=>Hn.get(r),s=()=>Hn.get(t),c=()=>{var u;Hs(r).withFingerprint(i().fingerprint).aboutIncomingMessage(n);const m={message:n,to:i().fingerprint,from:{endpointId:t,fingerprint:(u=s())==null?void 0:u.fingerprint}};n.messageType==="message"&&Fu.add(m),n.messageType==="reply"&&Fu.remove(n.messageID),s()&&Hs(t).withFingerprint(s().fingerprint).aboutSuccessfulDelivery(m)};(e=i())!=null&&e.port?c():n.messageType==="message"&&(n.origin.context==="background"?g1(r,c):s()&&Hs(t).withFingerprint(s().fingerprint).aboutMessageUndeliverability(r,n).and().whenDeliverableTo(r))},n=>{const e=ah(jo(jo({},n.origin),n.origin.context==="window"&&{context:"content-script"})),t=Hn.get(e),r={message:n,to:N5,from:{endpointId:e,fingerprint:t.fingerprint}};Hs(e).withFingerprint(t.fingerprint).aboutSuccessfulDelivery(r)});O5.runtime.onConnect.addListener(n=>{var e;const t=g5(n.name);if(!t)return;t.endpointName||(t.endpointName=ah({context:"content-script",tabId:n.sender.tab.id,frameId:n.sender.frameId}));const{tabId:r,frameId:i}=Mv(t.endpointName);Hn.set(t.endpointName,{fingerprint:t.fingerprint,port:n}),(e=dc.get(t.endpointName))==null||e.forEach(s=>s()),dc.delete(t.endpointName),y1(t.fingerprint,()=>{const s=Fu.entries().filter(c=>c.to===t.fingerprint);Fu.remove(s),s.forEach(c=>{c.from.endpointId==="background"?dh.endTransaction(c.message.transactionId):Hs(c.from.endpointId).withFingerprint(c.from.fingerprint).aboutSessionEnded(t.fingerprint)})}),n.onDisconnect.addListener(()=>{var s,c;((s=Hn.get(t.endpointName))==null?void 0:s.fingerprint)===t.fingerprint&&Hn.delete(t.endpointName),(c=uh.get(t.fingerprint))==null||c.forEach(u=>u()),uh.delete(t.fingerprint)}),n.onMessage.addListener(s=>{var c,u;if(s.type==="sync"){const m=[...Hn.values()].map(y=>y.fingerprint),p=s.pendingResponses.filter(y=>m.includes(y.to));Fu.add(...p),s.pendingResponses.filter(y=>!m.includes(y.to)).forEach(y=>Hs(t.endpointName).withFingerprint(t.fingerprint).aboutSessionEnded(y.to)),s.pendingDeliveries.forEach(y=>Hs(t.endpointName).withFingerprint(t.fingerprint).whenDeliverableTo(y));return}s.type==="deliver"&&((u=(c=s.message)==null?void 0:c.origin)!=null&&u.context)&&(s.message.origin.tabId=r,s.message.origin.frameId=i,dh.handleMessage(s.message))})});var{sendMessage:fh,onMessage:fc}=dh;R5(dh);var Fv={},Vv={},jv,_1;function D5(){if(_1)return jv;_1=1;var n=9007199254740991,e="[object Arguments]",t="[object Function]",r="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;function s(J,z,X){switch(X.length){case 0:return J.call(z);case 1:return J.call(z,X[0]);case 2:return J.call(z,X[0],X[1]);case 3:return J.call(z,X[0],X[1],X[2])}return J.apply(z,X)}function c(J,z){for(var X=-1,ee=Array(J);++X<J;)ee[X]=z(X);return ee}var u=Object.prototype,m=u.hasOwnProperty,p=u.toString,y=u.propertyIsEnumerable,w=Math.max;function b(J,z){var X=I(J)||x(J)?c(J.length,String):[],ee=X.length,j=!!ee;for(var Z in J)j&&(Z=="length"||q(Z,ee))||X.push(Z);return X}function k(J,z,X){var ee=J[z];(!(m.call(J,z)&&K(ee,X))||X===void 0&&!(z in J))&&(J[z]=X)}function C(J){if(!S(J))return Q(J);var z=re(J),X=[];for(var ee in J)ee=="constructor"&&(z||!m.call(J,ee))||X.push(ee);return X}function D(J,z){return z=w(z===void 0?J.length-1:z,0),function(){for(var X=arguments,ee=-1,j=w(X.length-z,0),Z=Array(j);++ee<j;)Z[ee]=X[z+ee];ee=-1;for(var pe=Array(z+1);++ee<z;)pe[ee]=X[ee];return pe[z]=Z,s(J,this,pe)}}function N(J,z,X,ee){X||(X={});for(var j=-1,Z=z.length;++j<Z;){var pe=z[j],ke=void 0;k(X,pe,ke===void 0?J[pe]:ke)}return X}function F(J){return D(function(z,X){var ee=-1,j=X.length,Z=j>1?X[j-1]:void 0,pe=j>2?X[2]:void 0;for(Z=J.length>3&&typeof Z=="function"?(j--,Z):void 0,pe&&G(X[0],X[1],pe)&&(Z=j<3?void 0:Z,j=1),z=Object(z);++ee<j;){var ke=X[ee];ke&&J(z,ke,ee,Z)}return z})}function q(J,z){return z=z??n,!!z&&(typeof J=="number"||i.test(J))&&J>-1&&J%1==0&&J<z}function G(J,z,X){if(!S(X))return!1;var ee=typeof z;return(ee=="number"?A(X)&&q(z,X.length):ee=="string"&&z in X)?K(X[z],J):!1}function re(J){var z=J&&J.constructor,X=typeof z=="function"&&z.prototype||u;return J===X}function Q(J){var z=[];if(J!=null)for(var X in Object(J))z.push(X);return z}function K(J,z){return J===z||J!==J&&z!==z}function x(J){return P(J)&&m.call(J,"callee")&&(!y.call(J,"callee")||p.call(J)==e)}var I=Array.isArray;function A(J){return J!=null&&L(J.length)&&!O(J)}function P(J){return fe(J)&&A(J)}function O(J){var z=S(J)?p.call(J):"";return z==t||z==r}function L(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=n}function S(J){var z=typeof J;return!!J&&(z=="object"||z=="function")}function fe(J){return!!J&&typeof J=="object"}var ue=F(function(J,z){N(z,je(z),J)});function je(J){return A(J)?b(J):C(J)}return jv=ue,jv}var Gn={},v1;function w1(){return v1||(v1=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.STATE_TYPE=Gn.PATCH_STATE_TYPE=Gn.FETCH_STATE_TYPE=Gn.DISPATCH_TYPE=Gn.DEFAULT_CHANNEL_NAME=void 0,Gn.DISPATCH_TYPE="webext.dispatch",Gn.FETCH_STATE_TYPE="webext.fetch_state",Gn.STATE_TYPE="webext.state",Gn.PATCH_STATE_TYPE="webext.patch_state",Gn.DEFAULT_CHANNEL_NAME="webext.channel"),Gn}var Ui={},E1;function b1(){if(E1)return Ui;E1=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.withSerializer=Ui.withDeserializer=Ui.noop=void 0;function n(p){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(p)}function e(p,y){var w=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);y&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(p,k).enumerable})),w.push.apply(w,b)}return w}function t(p){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?e(Object(w),!0).forEach(function(b){r(p,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(w)):e(Object(w)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(w,b))})}return p}function r(p,y,w){return(y=i(y))in p?Object.defineProperty(p,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[y]=w,p}function i(p){var y=s(p,"string");return n(y)=="symbol"?y:y+""}function s(p,y){if(n(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var b=w.call(p,y);if(n(b)!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}var c=Ui.noop=function(y){return y},u=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return t(t({},y),y.payload?{payload:w(y.payload)}:{})},m=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c,b=arguments.length>2?arguments[2]:void 0;return b?function(k){for(var C=arguments.length,D=new Array(C>1?C-1:0),N=1;N<C;N++)D[N-1]=arguments[N];return b.apply(void 0,[k].concat(D))?y.apply(void 0,[u(k,w)].concat(D)):y.apply(void 0,[k].concat(D))}:function(k){for(var C=arguments.length,D=new Array(C>1?C-1:0),N=1;N<C;N++)D[N-1]=arguments[N];return y.apply(void 0,[u(k,w)].concat(D))}};return Ui.withDeserializer=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;return function(w){return function(b,k){return w(m(b,y,k))}}},Ui.withSerializer=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;return function(w){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(){for(var k=arguments.length,C=new Array(k),D=0;D<k;D++)C[D]=arguments[D];if(C.length<=b)throw new Error("Message in request could not be serialized. "+"Expected message in position ".concat(b," but only received ").concat(C.length," args."));return C[b]=u(C[b],y),w.apply(void 0,C)}}},Ui}var Uv={},Rr={},T1;function A1(){return T1||(T1=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.DIFF_STATUS_UPDATED=Rr.DIFF_STATUS_REMOVED=Rr.DIFF_STATUS_KEYS_UPDATED=Rr.DIFF_STATUS_ARRAY_UPDATED=void 0,Rr.DIFF_STATUS_UPDATED="updated",Rr.DIFF_STATUS_REMOVED="removed",Rr.DIFF_STATUS_KEYS_UPDATED="updated_keys",Rr.DIFF_STATUS_ARRAY_UPDATED="updated_array"),Rr}var S1;function M5(){return S1||(S1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;var e=A1();function t(r,i){var s=Object.assign({},r);return i.forEach(function(c){var u=c.change,m=c.key,p=c.value;switch(u){case e.DIFF_STATUS_UPDATED:s[m]=p;break;case e.DIFF_STATUS_REMOVED:Reflect.deleteProperty(s,m);break}}),s}}(Uv)),Uv}var mh={},I1;function k1(){if(I1)return mh;I1=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.getBrowserAPI=n;function n(){var e;try{e=self.chrome||self.browser||browser}catch{e=browser}if(!e)throw new Error("Browser API is not present");return e}return mh}var R1;function L5(){return R1||(R1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=c(D5()),t=w1(),r=b1(),i=c(M5()),s=k1();function c(N){return N&&N.__esModule?N:{default:N}}function u(N){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},u(N)}function m(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function p(N,F){for(var q=0;q<F.length;q++){var G=F[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,w(G.key),G)}}function y(N,F,q){return F&&p(N.prototype,F),Object.defineProperty(N,"prototype",{writable:!1}),N}function w(N){var F=b(N,"string");return u(F)=="symbol"?F:F+""}function b(N,F){if(u(N)!="object"||!N)return N;var q=N[Symbol.toPrimitive];if(q!==void 0){var G=q.call(N,F);if(u(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}var k=`
Looks like there is an error in the background page. You might want to inspect your background page for more details.
`,C={channelName:t.DEFAULT_CHANNEL_NAME,state:{},serializer:r.noop,deserializer:r.noop,patchStrategy:i.default},D=function(){function N(){var F=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,G=q.channelName,re=G===void 0?C.channelName:G,Q=q.state,K=Q===void 0?C.state:Q,x=q.serializer,I=x===void 0?C.serializer:x,A=q.deserializer,P=A===void 0?C.deserializer:A,O=q.patchStrategy,L=O===void 0?C.patchStrategy:O;if(m(this,N),!re)throw new Error("channelName is required in options");if(typeof I!="function")throw new Error("serializer must be a function");if(typeof P!="function")throw new Error("deserializer must be a function");if(typeof L!="function")throw new Error("patchStrategy must be one of the included patching strategies or a custom patching function");this.channelName=re,this.readyResolved=!1,this.readyPromise=new Promise(function(fe){return F.readyResolve=fe}),this.browserAPI=(0,s.getBrowserAPI)(),this.initializeStore=this.initializeStore.bind(this),this.browserAPI.runtime.sendMessage({type:t.FETCH_STATE_TYPE,channelName:re},void 0,this.initializeStore),this.deserializer=P,this.serializedPortListener=(0,r.withDeserializer)(P)(function(){var fe;return(fe=F.browserAPI.runtime.onMessage).addListener.apply(fe,arguments)}),this.serializedMessageSender=(0,r.withSerializer)(I)(function(){var fe;return(fe=F.browserAPI.runtime).sendMessage.apply(fe,arguments)}),this.listeners=[],this.state=K,this.patchStrategy=L;var S=function(ue){return!!ue&&typeof ue.type=="string"&&ue.channelName===F.channelName};this.serializedPortListener(function(fe){if(!(!fe||fe.channelName!==F.channelName))switch(fe.type){case t.STATE_TYPE:F.replaceState(fe.payload),F.readyResolved||(F.readyResolved=!0,F.readyResolve());break;case t.PATCH_STATE_TYPE:F.patchState(fe.payload);break}},S),this.dispatch=this.dispatch.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}return y(N,[{key:"ready",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return q!==null?this.readyPromise.then(q):this.readyPromise}},{key:"subscribe",value:function(q){var G=this;return this.listeners.push(q),function(){G.listeners=G.listeners.filter(function(re){return re!==q})}}},{key:"patchState",value:function(q){this.state=this.patchStrategy(this.state,q),this.listeners.forEach(function(G){return G()})}},{key:"replaceState",value:function(q){this.state=q,this.listeners.forEach(function(G){return G()})}},{key:"getState",value:function(){return this.state}},{key:"replaceReducer",value:function(){}},{key:"dispatch",value:function(q){var G=this;return new Promise(function(re,Q){G.serializedMessageSender({type:t.DISPATCH_TYPE,channelName:G.channelName,payload:q},null,function(K){if(!K){var x=G.browserAPI.runtime.lastError,I=new Error("".concat(k).concat(x));Q((0,e.default)(I,x));return}var A=K.error,P=K.value;if(A){var O=new Error("".concat(k).concat(A));Q((0,e.default)(O,A))}else re(P&&P.payload)})})}},{key:"initializeStore",value:function(q){q&&q.type===t.FETCH_STATE_TYPE&&(this.replaceState(q.payload),this.readyResolved||(this.readyResolved=!0,this.readyResolve()))}}])}();n.default=D}(Vv)),Vv}var zv={},P1;function F5(){return P1||(P1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;function e(p){return s(p)||i(p)||r(p)||t()}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(p,y){if(p){if(typeof p=="string")return c(p,y);var w={}.toString.call(p).slice(8,-1);return w==="Object"&&p.constructor&&(w=p.constructor.name),w==="Map"||w==="Set"?Array.from(p):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?c(p,y):void 0}}function i(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function s(p){if(Array.isArray(p))return c(p)}function c(p,y){(y==null||y>p.length)&&(y=p.length);for(var w=0,b=Array(y);w<y;w++)b[w]=p[w];return b}function u(){for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return y.length===0?function(b){return b}:y.length===1?y[0]:y.reduce(function(b,k){return function(){return b(k.apply(void 0,arguments))}})}function m(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),b=1;b<y;b++)w[b-1]=arguments[b];var k=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},C={getState:p.getState.bind(p),dispatch:function(){return k.apply(void 0,arguments)}};return w=(w||[]).map(function(D){return D(C)}),k=u.apply(void 0,e(w))(p.dispatch),p.dispatch=k,p}}(zv)),zv}var $v={},Bv={},C1;function V5(){return C1||(C1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=t;var e=A1();function t(r,i){var s=[];return Object.keys(i).forEach(function(c){r[c]!==i[c]&&s.push({key:c,value:i[c],change:e.DIFF_STATUS_UPDATED})}),Object.keys(r).forEach(function(c){i.hasOwnProperty(c)||s.push({key:c,change:e.DIFF_STATUS_REMOVED})}),s}}(Bv)),Bv}var Vu={},x1;function j5(){return x1||(x1=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.createDeferredListener=void 0,Vu.createDeferredListener=function(){var e=function(){},t=new Promise(function(i){return e=i}),r=function(s,c,u){return t.then(function(m){m(s,c,u)}),!0};return{setListener:e,listener:r}}),Vu}var O1;function U5(){return O1||(O1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=w1(),t=b1(),r=k1(),i=c(V5()),s=j5();function c(b){return b&&b.__esModule?b:{default:b}}function u(b,k){var C=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!C){if(Array.isArray(b)||(C=m(b))||k){C&&(b=C);var D=0,N=function(){};return{s:N,n:function(){return D>=b.length?{done:!0}:{done:!1,value:b[D++]}},e:function(Q){throw Q},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,q=!0,G=!1;return{s:function(){C=C.call(b)},n:function(){var Q=C.next();return q=Q.done,Q},e:function(Q){G=!0,F=Q},f:function(){try{q||C.return==null||C.return()}finally{if(G)throw F}}}}function m(b,k){if(b){if(typeof b=="string")return p(b,k);var C={}.toString.call(b).slice(8,-1);return C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set"?Array.from(b):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?p(b,k):void 0}}function p(b,k){(k==null||k>b.length)&&(k=b.length);for(var C=0,D=Array(k);C<k;C++)D[C]=b[C];return D}var y=function(k,C){Promise.resolve(k).then(function(D){C({error:null,value:D})}).catch(function(D){console.error("error dispatching result:",D),C({error:D.message,value:null})})},w={channelName:e.DEFAULT_CHANNEL_NAME,dispatchResponder:y,serializer:t.noop,deserializer:t.noop,diffStrategy:i.default};n.default=function(){var k=(0,r.getBrowserAPI)(),C=(0,s.createDeferredListener)(),D=(0,s.createDeferredListener)();return k.runtime.onMessage.addListener(C.listener),k.runtime.onMessage.addListener(D.listener),function(N){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,q=F.channelName,G=q===void 0?w.channelName:q,re=F.dispatchResponder,Q=re===void 0?w.dispatchResponder:re,K=F.serializer,x=K===void 0?w.serializer:K,I=F.deserializer,A=I===void 0?w.deserializer:I,P=F.diffStrategy,O=P===void 0?w.diffStrategy:P;if(!G)throw new Error("channelName is required in options");if(typeof x!="function")throw new Error("serializer must be a function");if(typeof A!="function")throw new Error("deserializer must be a function");if(typeof O!="function")throw new Error("diffStrategy must be one of the included diffing strategies or a custom diff function");var L=function(X,ee,j){if(X.type===e.DISPATCH_TYPE&&X.channelName===G){var Z=Object.assign({},X.payload,{_sender:ee}),pe=null;try{pe=N.dispatch(Z)}catch(ke){pe=Promise.reject(ke.message),console.error(ke)}return Q(pe,j),!0}},S=(0,t.withSerializer)(x)(function(){for(var z,X=arguments.length,ee=new Array(X),j=0;j<X;j++)ee[j]=arguments[j];var Z=function(){k.runtime.lastError};return(z=k.runtime).sendMessage.apply(z,ee.concat([Z])),k.tabs.query({},function(pe){var ke=u(pe),Ue;try{for(ke.s();!(Ue=ke.n()).done;){var Be,Ze=Ue.value;(Be=k.tabs).sendMessage.apply(Be,[Ze.id].concat(ee,[Z]))}}catch(Xe){ke.e(Xe)}finally{ke.f()}})}),fe=N.getState(),ue=function(){var X=N.getState(),ee=O(fe,X);ee.length&&(fe=X,S({type:e.PATCH_STATE_TYPE,payload:ee,channelName:G}))};N.subscribe(ue),S({type:e.STATE_TYPE,payload:fe,channelName:G});var je=(0,t.withDeserializer)(A),J=function(X){return X.type===e.DISPATCH_TYPE&&X.channelName===G};C.setListener(function(z,X,ee){var j=N.getState();z.type===e.FETCH_STATE_TYPE&&z.channelName===G&&ee({type:e.FETCH_STATE_TYPE,payload:j})}),je(D.setListener)(L,J)}}}($v)),$v}var qv={},N1;function z5(){return N1||(N1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t){return function(){return function(r){return function(i){var s=t[i.type];return r(s?s(i):i)}}}}}(qv)),qv}var D1;function $5(){return D1||(D1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Store",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"alias",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"applyMiddleware",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(n,"createWrapStore",{enumerable:!0,get:function(){return r.default}});var e=s(L5()),t=s(F5()),r=s(U5()),i=s(z5());function s(c){return c&&c.__esModule?c:{default:c}}}(Fv)),Fv}var B5=$5();const mt=q0,q5={TLDX_COREAPI_URL:"https://api.tldv.io",TLDX_ENV:"production",TLDX_FIREBASE_API_KEY:"AIzaSyA_d2z_LMkARJysO5MINZc-W3DFE-ZHXT0",TLDX_FIREBASE_APP_ID:"1:724695490036:web:74fdba648a47384d3b2da1",TLDX_FIREBASE_AUTH_DOMAIN:"lmi-store.firebaseapp.com",TLDX_FIREBASE_MEASUREMENT_ID:"G-H88RV60D76",TLDX_FIREBASE_MESSAGING_SENDER_ID:"724695490036",TLDX_FIREBASE_PROJECT_ID:"lmi-store",TLDX_FIREBASE_STORAGE_BUCKET:"lmi-store.appspot.com",TLDX_GATEWAY_URL:"https://gw.tldv.io",TLDX_MIXPANEL_TOKEN:"9119f2c3302030eaaee56e29fcf9b1bc",TLDX_ONBOARDING_URL:"https://tldv.io/app/chrome-extension-onboarding",TLDX_SENTRY_DSN:"https://c43a1b6af24946be99c06b2dcda5162b@o4504156929982464.ingest.sentry.io/4504222632443904",TLDX_UNINSTALL_URL:"https://tally.so/r/3jqNxm",TLDX_WEBAPP_URL:"https://tldv.io/app"},H5=zC({main(){const{TLDX_UNINSTALL_URL:n,TLDX_WEBAPP_URL:e,TLDX_ONBOARDING_URL:t,TLDX_MIXPANEL_TOKEN:r,TLDX_COREAPI_URL:i,TLDX_GATEWAY_URL:s,TLDX_GAIA_URL:c,TLDX_FIREBASE_API_KEY:u,TLDX_FIREBASE_AUTH_DOMAIN:m,TLDX_FIREBASE_PROJECT_ID:p,TLDX_FIREBASE_STORAGE_BUCKET:y,TLDX_FIREBASE_MESSAGING_SENDER_ID:w,TLDX_FIREBASE_APP_ID:b,TLDX_FIREBASE_MEASUREMENT_ID:k,TLDX_SENTRY_DSN:C,TLDX_ENV:D}=q5,N=B5.createWrapStore(),F=G();q().then(A=>{Dt.success("background",`method=init, deviceId=${A}`),F.dispatch(QM(A))}),N(F,{channelName:z0}),Dt.log("background",`method=init, port=${z0}`),F.subscribe(()=>a5(F)),mt.runtime.onStartup.addListener(()=>{const A=mt.runtime.getManifest().version;s5({dsn:C,environment:D,release:A,beforeSend(P){return s2(P)},ignoreErrors:J9}),_v("context","background")});async function q(){const{deviceId:A}=await mt.storage.sync.get("deviceId");if(A)return A;const P=self.crypto.randomUUID();return mt.storage.sync.set({deviceId:P}),P}function G(){const A=[],P=mt.runtime.getManifest().version;return B9({dependencies:{coreApiBaseUrl:i,apiGatewayBaseUrl:s,gaiaBaseUrl:c,mixpanelToken:r,databaseOptions:{apiKey:u,authDomain:m,projectId:p,storageBucket:y,messagingSenderId:w,appId:b,measurementId:k},platform:gs.WEB_EXTENSION,version:P},devTools:!1,enhancers:A,persistConfig:{key:"root",version:Zx,storage:d5.localStorage,debug:!1,blacklist:[pf.name,ff.name]}})}async function re(){const A=await mt.commands.getAll(),P=[];for(const O of A)O.shortcut===""&&P.push(O.name);P.length>0&&(Dt.error("COMMANDS",`Unable to register shortcuts for user. total=${P.length}, missingShortcuts=${P.join(", ")}`),F==null||F.dispatch(ws({event:UE.SHORTCUT_REGISTRATION_FAILED,params:{missingShortcuts:P,total:P.length}})))}mt.runtime.onInstalled.addListener(({previousVersion:A,reason:P,temporary:O})=>{Dt.success("background","method=onInstalled",{previousVersion:A,reason:P,temporary:O}),P==="install"&&re(),P==="install"&&(mt.runtime.setUninstallURL(n),mt.tabs.create({url:`${t}?origin=web-extension`})),F.dispatch(KM(mt.i18n.getUILanguage()))}),mt.commands.onCommand.addListener(async A=>{if(A==="pin-highlight"&&F){const{queue:P}=F.getState(),L=Object.keys(P).length,fe=(await mt.tabs.query({active:!0,currentWindow:!0})).at(0);fe!=null&&fe.id&&L===1&&(F!=null&&F.dispatch&&F.dispatch(ws({event:Lp.HIGHLIGHT_SHORTCUT_PRESSED,params:{}})),Dt.success("COMMANDS",`Dipatching command=${A} via=${$0}`),fh($0,A,{tabId:fe.id,context:"content-script"}))}}),mt.tabs.onActivated.addListener(async A=>{const P=await mt.tabs.query({active:!1});P.length>0&&P.forEach(async O=>{if(O.id)try{await fh("@@FOCUS_CHANGED",!1,{context:"content-script",tabId:O.id}),Dt.success("background",`[service-worker]: Unfocus event sent to tabId=${O.id}`)}catch{Dt.warn("background",`[service-worker]: No registers for unfocus event in tabId=${O.id}`)}});try{await fh("@@FOCUS_CHANGED",!0,{context:"content-script",tabId:A.tabId}),Dt.success("background",`[service-worker]: Focus event sent to tabId=${A.tabId}`)}catch{Dt.warn("background",`[service-worker]: No registers focus event in tabId=${A.tabId}`)}}),mt.tabs.onRemoved.addListener(async()=>{const A=await r3(),P=F.getState();Object.values(P.queue||{}).filter(L=>{if(!!!L)return!1;const fe=!!L.id,ue=L.viewMode===El.HOST,je=L.status===Wr.SUCCESSFUL,J=HE(L.status)||m2(L.status),z=!A.some(ee=>ee.meetingId===L.conferenceId),X=!!L.visited;return fe&&ue&&z&&!X&&(je||J)}).forEach(L=>{if(L)try{F.dispatch(er({...L,visited:!0})),mt.tabs.create({url:`${e}/meetings/${L.id}`})}catch(S){S instanceof Error&&console.error("Error creating a new window",S)}}),F.dispatch(Lg(A.map(L=>L.meetingId)))});function Q(A){const P=t.includes("tldv.tech")&&A.includes("tldv.tech");return t.includes("tldv.io")&&A.includes("tldv.io")||P}mt.runtime.onMessageExternal.addListener(async(A,P)=>{const O=Q(P.url||"");if(A.jwt&&O){if(F.getState().auth.accessToken!==A.jwt){Dt.success("background","Persisting new token. event=onMessageExternal"),F.dispatch(gg(A.jwt));return}Dt.warn("background","Token already persisted. event=onMessageExternal")}if(A.type===K9&&O){if(F.getState().auth.accessToken){Dt.warn("background","User request a sign out. event=onMessageExternal"),F.dispatch(xl());return}Dt.warn("background","User already signed out. event=onMessageExternal")}}),fc(H9,async({data:A})=>await mt.permissions.contains(A)),fc(G9,async({data:A})=>await mt.permissions.request(A));const K=()=>{Dt.warn("background","SessionID: Clearing interval"),mt.alarms.clear(J_),F==null||F.dispatch(nA(void 0))},x=()=>{K(),Dt.success("background","SessionID: Starting interval"),mt.alarms.create(J_,{periodInMinutes:.4})},I=()=>{if(Dt.log("background","SessionID: Keeping store connected"),F&&typeof F.getState=="function"){const{queue:A,settings:P}=F.getState(),O=Object.keys(A||{}).length,L=(P==null?void 0:P.sessionId)||self.crypto.randomUUID();if(O===0){Dt.log("background","SessionID: No meetings in queue. Cleaning interval."),K();return}F.dispatch(nA(L))}};mt.alarms.onAlarm.addListener(A=>A.name===J_&&I()),mt.action.onClicked.addListener(A=>{A.id&&fh(Y9,{},{tabId:A.id,context:"content-script"})}),fc(q9,x),fc(Z9,()=>mt.runtime.getManifest().version),fc(X9,()=>mt.runtime.getPlatformInfo()),fc(W9,A=>{const{type:P,context:O,message:L,args:S}=A.data;Dt[P](O,L,...S)})}});function jW(){}function hh(n,...e){}const G5={debug:(...n)=>hh(console.debug,...n),log:(...n)=>hh(console.log,...n),warn:(...n)=>hh(console.warn,...n),error:(...n)=>hh(console.error,...n)};let Hv;try{Hv=H5.main(),Hv instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(n){throw G5.error("The background crashed on startup!"),n}return Hv}();
background;
